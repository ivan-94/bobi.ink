<!DOCTYPE html>
<html lang=zh>
<head><meta name="generator" content="Hexo 3.8.0">
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="ç³»åˆ—å¼•è¨€æœ€è¿‘å‡†å¤‡åŸ¹è®­æ–°äºº, ä¸ºäº†æ–¹ä¾¿æ–°äººè¾ƒå¿«å…¥æ‰‹ React å¼€å‘å¹¶ç¼–å†™é«˜è´¨é‡çš„ç»„ä»¶ä»£ç , æˆ‘æ ¹æ®è‡ªå·±çš„å®è·µç»éªŒå¯¹React ç»„ä»¶è®¾è®¡çš„ç›¸å…³å®è·µå’Œè§„èŒƒæ•´ç†äº†ä¸€äº›æ–‡æ¡£, å°†éƒ¨åˆ†ç« èŠ‚åˆ†äº«äº†å‡ºæ¥. ç”±äºç»éªŒæœ‰é™, æ–‡ç« å¯èƒ½ä¼šæœ‰æŸäº›é”™è¯¯, å¸Œæœ›å¤§å®¶æŒ‡å‡º, äº’ç›¸äº¤æµ. ç”±äºç¯‡å¹…å¤ªé•¿, æ‰€ä»¥æ‹†åˆ†ä¸ºå‡ ç¯‡æ–‡ç« . ä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªä¸»é¢˜:  01 ç±»å‹æ£€æŸ¥ 02 ç»„ä»¶çš„ç»„ç»‡ 03 æ ·å¼çš„ç®¡ç† 04 ç»„ä»¶çš„æ€ç»´ 05 çŠ¶">
<meta name="keywords" content="Blog,FrontEnd,React,Javascript,Typescript">
<meta property="og:type" content="article">
<meta property="og:title" content="Reactç»„ä»¶è®¾è®¡å®è·µæ€»ç»“01 - ç±»å‹æ£€æŸ¥">
<meta property="og:url" content="https://bobi.ink/2019/05/10/react-component-design-01/index.html">
<meta property="og:site_name" content="Bobi.ink">
<meta property="og:description" content="ç³»åˆ—å¼•è¨€æœ€è¿‘å‡†å¤‡åŸ¹è®­æ–°äºº, ä¸ºäº†æ–¹ä¾¿æ–°äººè¾ƒå¿«å…¥æ‰‹ React å¼€å‘å¹¶ç¼–å†™é«˜è´¨é‡çš„ç»„ä»¶ä»£ç , æˆ‘æ ¹æ®è‡ªå·±çš„å®è·µç»éªŒå¯¹React ç»„ä»¶è®¾è®¡çš„ç›¸å…³å®è·µå’Œè§„èŒƒæ•´ç†äº†ä¸€äº›æ–‡æ¡£, å°†éƒ¨åˆ†ç« èŠ‚åˆ†äº«äº†å‡ºæ¥. ç”±äºç»éªŒæœ‰é™, æ–‡ç« å¯èƒ½ä¼šæœ‰æŸäº›é”™è¯¯, å¸Œæœ›å¤§å®¶æŒ‡å‡º, äº’ç›¸äº¤æµ. ç”±äºç¯‡å¹…å¤ªé•¿, æ‰€ä»¥æ‹†åˆ†ä¸ºå‡ ç¯‡æ–‡ç« . ä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªä¸»é¢˜:  01 ç±»å‹æ£€æŸ¥ 02 ç»„ä»¶çš„ç»„ç»‡ 03 æ ·å¼çš„ç®¡ç† 04 ç»„ä»¶çš„æ€ç»´ 05 çŠ¶">
<meta property="og:locale" content="zh">
<meta property="og:image" content="https://codesandbox.io/static/img/play-codesandbox.svg">
<meta property="og:updated_time" content="2023-06-01T09:55:14.329Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Reactç»„ä»¶è®¾è®¡å®è·µæ€»ç»“01 - ç±»å‹æ£€æŸ¥">
<meta name="twitter:description" content="ç³»åˆ—å¼•è¨€æœ€è¿‘å‡†å¤‡åŸ¹è®­æ–°äºº, ä¸ºäº†æ–¹ä¾¿æ–°äººè¾ƒå¿«å…¥æ‰‹ React å¼€å‘å¹¶ç¼–å†™é«˜è´¨é‡çš„ç»„ä»¶ä»£ç , æˆ‘æ ¹æ®è‡ªå·±çš„å®è·µç»éªŒå¯¹React ç»„ä»¶è®¾è®¡çš„ç›¸å…³å®è·µå’Œè§„èŒƒæ•´ç†äº†ä¸€äº›æ–‡æ¡£, å°†éƒ¨åˆ†ç« èŠ‚åˆ†äº«äº†å‡ºæ¥. ç”±äºç»éªŒæœ‰é™, æ–‡ç« å¯èƒ½ä¼šæœ‰æŸäº›é”™è¯¯, å¸Œæœ›å¤§å®¶æŒ‡å‡º, äº’ç›¸äº¤æµ. ç”±äºç¯‡å¹…å¤ªé•¿, æ‰€ä»¥æ‹†åˆ†ä¸ºå‡ ç¯‡æ–‡ç« . ä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªä¸»é¢˜:  01 ç±»å‹æ£€æŸ¥ 02 ç»„ä»¶çš„ç»„ç»‡ 03 æ ·å¼çš„ç®¡ç† 04 ç»„ä»¶çš„æ€ç»´ 05 çŠ¶">
<meta name="twitter:image" content="https://codesandbox.io/static/img/play-codesandbox.svg">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>Reactç»„ä»¶è®¾è®¡å®è·µæ€»ç»“01 - ç±»å‹æ£€æŸ¥</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- rss -->
    
    
</head>

<body>
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Blogs</a></li>
         
          <li><a href="http://github.com/ivan-94">Projects</a></li>
        
      </ul>
    </span>
    <br>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2019/05/11/react-component-design-02/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2019/04/19/rxjs-by-example/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://bobi.ink/2019/05/10/react-component-design-01/"><i class="fa fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://bobi.ink/2019/05/10/react-component-design-01/&text=Reactç»„ä»¶è®¾è®¡å®è·µæ€»ç»“01 - ç±»å‹æ£€æŸ¥"><i class="fa fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://bobi.ink/2019/05/10/react-component-design-01/&title=Reactç»„ä»¶è®¾è®¡å®è·µæ€»ç»“01 - ç±»å‹æ£€æŸ¥"><i class="fa fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://bobi.ink/2019/05/10/react-component-design-01/&is_video=false&description=Reactç»„ä»¶è®¾è®¡å®è·µæ€»ç»“01 - ç±»å‹æ£€æŸ¥"><i class="fa fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Reactç»„ä»¶è®¾è®¡å®è·µæ€»ç»“01 - ç±»å‹æ£€æŸ¥&body=Check out this article: https://bobi.ink/2019/05/10/react-component-design-01/"><i class="fa fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://bobi.ink/2019/05/10/react-component-design-01/&title=Reactç»„ä»¶è®¾è®¡å®è·µæ€»ç»“01 - ç±»å‹æ£€æŸ¥"><i class="fa fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://bobi.ink/2019/05/10/react-component-design-01/&title=Reactç»„ä»¶è®¾è®¡å®è·µæ€»ç»“01 - ç±»å‹æ£€æŸ¥"><i class="fa fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://bobi.ink/2019/05/10/react-component-design-01/&title=Reactç»„ä»¶è®¾è®¡å®è·µæ€»ç»“01 - ç±»å‹æ£€æŸ¥"><i class="fa fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://bobi.ink/2019/05/10/react-component-design-01/&title=Reactç»„ä»¶è®¾è®¡å®è·µæ€»ç»“01 - ç±»å‹æ£€æŸ¥"><i class="fa fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://bobi.ink/2019/05/10/react-component-design-01/&name=Reactç»„ä»¶è®¾è®¡å®è·µæ€»ç»“01 - ç±»å‹æ£€æŸ¥&description="><i class="fa fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#ç³»åˆ—å¼•è¨€"><span class="toc-number">1.</span> <span class="toc-text">ç³»åˆ—å¼•è¨€</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ç±»å‹æ£€æŸ¥"><span class="toc-number">2.</span> <span class="toc-text">ç±»å‹æ£€æŸ¥</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-å‡½æ•°ç»„ä»¶"><span class="toc-number">2.1.</span> <span class="toc-text">1. å‡½æ•°ç»„ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1ï¸âƒ£-ä½¿ç”¨componentnameprops-å½¢å¼å‘½å-props-ç±»å‹-å¹¶å¯¼å‡º"><span class="toc-number">2.1.1.</span> <span class="toc-text">1ï¸âƒ£ ä½¿ç”¨ComponentNameProps å½¢å¼å‘½å Props ç±»å‹, å¹¶å¯¼å‡º</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2ï¸âƒ£-ä¼˜å…ˆä½¿ç”¨fcç±»å‹æ¥å£°æ˜å‡½æ•°ç»„ä»¶"><span class="toc-number">2.1.2.</span> <span class="toc-text">2ï¸âƒ£ ä¼˜å…ˆä½¿ç”¨FCç±»å‹æ¥å£°æ˜å‡½æ•°ç»„ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3ï¸âƒ£-ä¸è¦ç›´æ¥ä½¿ç”¨export-defaultå¯¼å‡ºç»„ä»¶"><span class="toc-number">2.1.3.</span> <span class="toc-text">3ï¸âƒ£ ä¸è¦ç›´æ¥ä½¿ç”¨export defaultå¯¼å‡ºç»„ä»¶.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4ï¸âƒ£-é»˜è®¤-props-å£°æ˜"><span class="toc-number">2.1.4.</span> <span class="toc-text">4ï¸âƒ£ é»˜è®¤ props å£°æ˜</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5ï¸âƒ£-æ³›å‹å‡½æ•°ç»„ä»¶"><span class="toc-number">2.1.5.</span> <span class="toc-text">5ï¸âƒ£ æ³›å‹å‡½æ•°ç»„ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6ï¸âƒ£-å­ç»„ä»¶å£°æ˜"><span class="toc-number">2.1.6.</span> <span class="toc-text">6ï¸âƒ£ å­ç»„ä»¶å£°æ˜</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7ï¸âƒ£-forwarding-refs"><span class="toc-number">2.1.7.</span> <span class="toc-text">7ï¸âƒ£ Forwarding Refs</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8ï¸âƒ£-é…åˆé«˜é˜¶ç»„ä»¶ä½¿ç”¨"><span class="toc-number">2.1.8.</span> <span class="toc-text">8ï¸âƒ£ é…åˆé«˜é˜¶ç»„ä»¶ä½¿ç”¨</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-ç±»ç»„ä»¶"><span class="toc-number">2.2.</span> <span class="toc-text">2. ç±»ç»„ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1ï¸âƒ£-ç»§æ‰¿-component-æˆ–-purecomponent"><span class="toc-number">2.2.1.</span> <span class="toc-text">1ï¸âƒ£ ç»§æ‰¿ Component æˆ– PureComponent</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2ï¸âƒ£-ä½¿ç”¨static-defaultpropså®šä¹‰é»˜è®¤-props"><span class="toc-number">2.2.2.</span> <span class="toc-text">2ï¸âƒ£ ä½¿ç”¨static defaultPropså®šä¹‰é»˜è®¤ props</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3ï¸âƒ£-å­ç»„ä»¶å£°æ˜"><span class="toc-number">2.2.3.</span> <span class="toc-text">3ï¸âƒ£ å­ç»„ä»¶å£°æ˜</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4ï¸âƒ£-æ³›å‹"><span class="toc-number">2.2.4.</span> <span class="toc-text">4ï¸âƒ£ æ³›å‹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-é«˜é˜¶ç»„ä»¶"><span class="toc-number">2.3.</span> <span class="toc-text">3. é«˜é˜¶ç»„ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-render-props"><span class="toc-number">2.4.</span> <span class="toc-text">4. Render Props</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-context"><span class="toc-number">2.5.</span> <span class="toc-text">5. Context</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-æ‚é¡¹"><span class="toc-number">2.6.</span> <span class="toc-text">6. æ‚é¡¹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1ï¸âƒ£-ä½¿ç”¨handleeventå‘½åäº‹ä»¶å¤„ç†å™¨"><span class="toc-number">2.6.1.</span> <span class="toc-text">1ï¸âƒ£ ä½¿ç”¨handleEventå‘½åäº‹ä»¶å¤„ç†å™¨.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2ï¸âƒ£-å†…ç½®äº‹ä»¶å¤„ç†å™¨çš„ç±»å‹"><span class="toc-number">2.6.2.</span> <span class="toc-text">2ï¸âƒ£ å†…ç½®äº‹ä»¶å¤„ç†å™¨çš„ç±»å‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3ï¸âƒ£-è‡ªå®šä¹‰ç»„ä»¶æš´éœ²äº‹ä»¶å¤„ç†å™¨ç±»å‹"><span class="toc-number">2.6.3.</span> <span class="toc-text">3ï¸âƒ£ è‡ªå®šä¹‰ç»„ä»¶æš´éœ²äº‹ä»¶å¤„ç†å™¨ç±»å‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4ï¸âƒ£-è·å–åŸç”Ÿå…ƒç´ -props-å®šä¹‰"><span class="toc-number">2.6.4.</span> <span class="toc-text">4ï¸âƒ£ è·å–åŸç”Ÿå…ƒç´  props å®šä¹‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5ï¸âƒ£-ä¸è¦ä½¿ç”¨-proptypes"><span class="toc-number">2.6.5.</span> <span class="toc-text">5ï¸âƒ£ ä¸è¦ä½¿ç”¨ PropTypes</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6ï¸âƒ£-styled-components"><span class="toc-number">2.6.6.</span> <span class="toc-text">6ï¸âƒ£ styled-components</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7ï¸âƒ£-ä¸ºæ²¡æœ‰æä¾›-typescript-å£°æ˜æ–‡ä»¶çš„ç¬¬ä¸‰æ–¹åº“è‡ªå®šä¹‰æ¨¡å—å£°æ˜"><span class="toc-number">2.6.7.</span> <span class="toc-text">7ï¸âƒ£ ä¸ºæ²¡æœ‰æä¾› Typescript å£°æ˜æ–‡ä»¶çš„ç¬¬ä¸‰æ–¹åº“è‡ªå®šä¹‰æ¨¡å—å£°æ˜</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8ï¸âƒ£-ä¸ºæ–‡æ¡£ç”Ÿæˆåšå¥½å‡†å¤‡"><span class="toc-number">2.6.8.</span> <span class="toc-text">8ï¸âƒ£ ä¸ºæ–‡æ¡£ç”Ÿæˆåšå¥½å‡†å¤‡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9ï¸âƒ£-å¼€å¯-strict-æ¨¡å¼"><span class="toc-number">2.6.9.</span> <span class="toc-text">9ï¸âƒ£ å¼€å¯ strict æ¨¡å¼</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#æ‰©å±•èµ„æ–™"><span class="toc-number">2.7.</span> <span class="toc-text">æ‰©å±•èµ„æ–™</span></a></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index width mx-auto px2 my4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        Reactç»„ä»¶è®¾è®¡å®è·µæ€»ç»“01 - ç±»å‹æ£€æŸ¥
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Bobi.ink</span>
      </span>
      
    <div class="postdate">
        <time datetime="2019-05-09T16:00:00.000Z" itemprop="datePublished">2019-05-10</time>
    </div>


      

    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h2 id="ç³»åˆ—å¼•è¨€"><a href="#ç³»åˆ—å¼•è¨€" class="headerlink" title="ç³»åˆ—å¼•è¨€"></a>ç³»åˆ—å¼•è¨€</h2><p>æœ€è¿‘å‡†å¤‡åŸ¹è®­æ–°äºº, ä¸ºäº†æ–¹ä¾¿æ–°äººè¾ƒå¿«å…¥æ‰‹ React å¼€å‘å¹¶ç¼–å†™é«˜è´¨é‡çš„ç»„ä»¶ä»£ç , æˆ‘æ ¹æ®è‡ªå·±çš„å®è·µç»éªŒå¯¹<strong>React ç»„ä»¶è®¾è®¡çš„ç›¸å…³å®è·µå’Œè§„èŒƒ</strong>æ•´ç†äº†ä¸€äº›æ–‡æ¡£, å°†éƒ¨åˆ†ç« èŠ‚åˆ†äº«äº†å‡ºæ¥. ç”±äºç»éªŒæœ‰é™, æ–‡ç« å¯èƒ½ä¼šæœ‰æŸäº›é”™è¯¯, å¸Œæœ›å¤§å®¶æŒ‡å‡º, äº’ç›¸äº¤æµ.</p>
<p>ç”±äºç¯‡å¹…å¤ªé•¿, æ‰€ä»¥æ‹†åˆ†ä¸ºå‡ ç¯‡æ–‡ç« . ä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªä¸»é¢˜:</p>
<ul>
<li><a href="/2019/05/10/react-component-design-01/">01 ç±»å‹æ£€æŸ¥</a></li>
<li><a href="/2019/05/11/react-component-design-02/">02 ç»„ä»¶çš„ç»„ç»‡</a></li>
<li><a href="/2019/05/14/react-component-design-03/">03 æ ·å¼çš„ç®¡ç†</a></li>
<li><a href="/2019/05/15/react-component-design-04/">04 ç»„ä»¶çš„æ€ç»´</a></li>
<li><a href="/2019/05/20/react-component-design-05/">05 çŠ¶æ€ç®¡ç†</a></li>
</ul>
<h2 id="ç±»å‹æ£€æŸ¥"><a href="#ç±»å‹æ£€æŸ¥" class="headerlink" title="ç±»å‹æ£€æŸ¥"></a>ç±»å‹æ£€æŸ¥</h2><p>é™æ€ç±»å‹æ£€æŸ¥å¯¹äºå½“ä»Šçš„å‰ç«¯é¡¹ç›®è¶Šæ¥è¶Šä¸å¯æˆ–ç¼º, å°¤å…¶æ˜¯å¤§å‹é¡¹ç›®. <strong>å®ƒå¯ä»¥åœ¨å¼€å‘æ—¶å°±é¿å…è®¸å¤šç±»å‹é—®é¢˜, å‡å°‘ä½çº§é”™è¯¯çš„; å¦å¤–é€šè¿‡ç±»å‹æ™ºèƒ½æç¤º, å¯ä»¥æé«˜ç¼–ç çš„æ•ˆç‡; æœ‰åˆ©äºä¹¦å†™è‡ªæè¿°çš„ä»£ç (ç±»å‹å³æ–‡æ¡£); æ–¹ä¾¿ä»£ç é‡æ„(é…åˆ IDE å¯ä»¥è‡ªåŠ¨é‡æ„)</strong>. å¯¹äºé™æ€ç±»å‹æ£€æŸ¥çš„å¥½å¤„è¿™é‡Œå°±ä¸äºˆèµ˜è¿°, è¯»è€…å¯ä»¥æŸ¥çœ‹è¿™ä¸ªå›ç­”<a href="https://www.zhihu.com/question/28016252/answer/39056940" target="_blank" rel="noopener">flow.js/typescript è¿™ç±»å®šä¹‰å‚æ•°ç±»å‹çš„æ„ä¹‰ä½•åœ¨ï¼Ÿ</a>.</p>
<p>Javascript çš„ç±»å‹æ£€æŸ¥å™¨ä¸»è¦æœ‰<a href="https://www.typescriptlang.org" target="_blank" rel="noopener">Typescript</a>å’Œ<a href="https://flow.org" target="_blank" rel="noopener">Flow</a>, ç¬”è€…ä¸¤è€…éƒ½ç”¨è¿‡, Typescript æ›´å¼ºå¤§ä¸€äº›, å¯ä»¥é¿å…å¾ˆå¤šå‘, æœ‰æ›´å¥½çš„ç”Ÿæ€(ä¾‹å¦‚ç¬¬ä¸‰æ–¹åº“ç±»å‹å£°æ˜), è€Œä¸” VSCode å†…ç½®æ”¯æŒ. è€Œå¯¹äº Flow, è¿ Facebook è‡ªå·±çš„å¼€æºé¡¹ç›®(å¦‚ Yarn, Jest)éƒ½æŠ›å¼ƒäº†å®ƒ, æ‰€ä»¥ä¸å»ºè®®å…¥å‘. æ‰€ä»¥æœ¬ç¯‡æ–‡ç« ä½¿ç”¨ Typescript(v3.3) å¯¹ React ç»„ä»¶è¿›è¡Œç±»å‹æ£€æŸ¥å£°æ˜</p>
<p>å»ºè®®é€šè¿‡å®˜æ–¹æ–‡æ¡£æ¥<a href="https://www.typescriptlang.org" target="_blank" rel="noopener">å­¦ä¹  Typescript</a>. ç¬”è€…æ­¤å‰ä¹Ÿæ•´ç†äº† Typescript ç›¸å…³çš„<a href="https://github.com/ivan-94/mindnodes/tree/master/è¯­è¨€/Typescript" target="_blank" rel="noopener">æ€ç»´å¯¼å›¾(mindnode)</a></p>
<blockquote>
<p>å½“ç„¶ Flow ä¹Ÿæœ‰æŸäº› Typescript æ²¡æœ‰çš„ç‰¹æ€§: <a href="https://github.com/niieani/typescript-vs-flowtype" target="_blank" rel="noopener">typescript-vs-flowtype</a></p>
</blockquote>
<blockquote>
<p>React ç»„ä»¶ç±»å‹æ£€æŸ¥ä¾èµ–äº<code>@types/react</code>å’Œ<code>@types/react-dom</code></p>
</blockquote>
<blockquote>
<p>ç›´æ¥ä¸Šæ‰‹ä½¿ç”¨è¯•ç”¨ <br> <a href="https://codesandbox.io/s/5vx5wwmkvx?fontsize=14" target="_blank" rel="noopener"><img src="https://codesandbox.io/static/img/play-codesandbox.svg" alt="Edit typescript-react-playground"></a></p>
</blockquote>
<p><strong>ç›®å½•</strong></p>
<!-- TOC -->
<ul>
<li><a href="#ç³»åˆ—å¼•è¨€">ç³»åˆ—å¼•è¨€</a></li>
<li><a href="#ç±»å‹æ£€æŸ¥">ç±»å‹æ£€æŸ¥</a><ul>
<li><a href="#1-å‡½æ•°ç»„ä»¶">1. å‡½æ•°ç»„ä»¶</a><ul>
<li><a href="#1ï¸âƒ£-ä½¿ç”¨componentnameprops-å½¢å¼å‘½å-props-ç±»å‹-å¹¶å¯¼å‡º">1ï¸âƒ£ <strong>ä½¿ç”¨<code>ComponentNameProps</code> å½¢å¼å‘½å Props ç±»å‹, å¹¶å¯¼å‡º</strong></a></li>
<li><a href="#2ï¸âƒ£-ä¼˜å…ˆä½¿ç”¨fcç±»å‹æ¥å£°æ˜å‡½æ•°ç»„ä»¶">2ï¸âƒ£ <strong>ä¼˜å…ˆä½¿ç”¨<code>FC</code>ç±»å‹æ¥å£°æ˜å‡½æ•°ç»„ä»¶</strong></a></li>
<li><a href="#3ï¸âƒ£-ä¸è¦ç›´æ¥ä½¿ç”¨export-defaultå¯¼å‡ºç»„ä»¶">3ï¸âƒ£ <strong>ä¸è¦ç›´æ¥ä½¿ç”¨<code>export default</code>å¯¼å‡ºç»„ä»¶</strong>.</a></li>
<li><a href="#4ï¸âƒ£-é»˜è®¤-props-å£°æ˜">4ï¸âƒ£ <strong>é»˜è®¤ props å£°æ˜</strong></a></li>
<li><a href="#5ï¸âƒ£-æ³›å‹å‡½æ•°ç»„ä»¶">5ï¸âƒ£ <strong>æ³›å‹å‡½æ•°ç»„ä»¶</strong></a></li>
<li><a href="#6ï¸âƒ£-å­ç»„ä»¶å£°æ˜">6ï¸âƒ£ <strong>å­ç»„ä»¶å£°æ˜</strong></a></li>
<li><a href="#7ï¸âƒ£-forwarding-refs">7ï¸âƒ£ <strong>Forwarding Refs</strong></a></li>
<li><a href="#8ï¸âƒ£-é…åˆé«˜é˜¶ç»„ä»¶ä½¿ç”¨">8ï¸âƒ£ <strong>é…åˆé«˜é˜¶ç»„ä»¶ä½¿ç”¨</strong></a></li>
</ul>
</li>
<li><a href="#2-ç±»ç»„ä»¶">2. ç±»ç»„ä»¶</a><ul>
<li><a href="#1ï¸âƒ£-ç»§æ‰¿-component-æˆ–-purecomponent">1ï¸âƒ£ <strong>ç»§æ‰¿ Component æˆ– PureComponent</strong></a></li>
<li><a href="#2ï¸âƒ£-ä½¿ç”¨static-defaultpropså®šä¹‰é»˜è®¤-props">2ï¸âƒ£ <strong>ä½¿ç”¨<code>static defaultProps</code>å®šä¹‰é»˜è®¤ props</strong></a></li>
<li><a href="#3ï¸âƒ£-å­ç»„ä»¶å£°æ˜">3ï¸âƒ£ <strong>å­ç»„ä»¶å£°æ˜</strong></a></li>
<li><a href="#4ï¸âƒ£-æ³›å‹">4ï¸âƒ£ <strong>æ³›å‹</strong></a></li>
</ul>
</li>
<li><a href="#3-é«˜é˜¶ç»„ä»¶">3. é«˜é˜¶ç»„ä»¶</a></li>
<li><a href="#4-render-props">4. Render Props</a></li>
<li><a href="#5-context">5. Context</a></li>
<li><a href="#6-æ‚é¡¹">6. æ‚é¡¹</a><ul>
<li><a href="#1ï¸âƒ£-ä½¿ç”¨handleeventå‘½åäº‹ä»¶å¤„ç†å™¨">1ï¸âƒ£ <strong>ä½¿ç”¨<code>handleEvent</code>å‘½åäº‹ä»¶å¤„ç†å™¨</strong>.</a></li>
<li><a href="#2ï¸âƒ£-å†…ç½®äº‹ä»¶å¤„ç†å™¨çš„ç±»å‹">2ï¸âƒ£ <strong>å†…ç½®äº‹ä»¶å¤„ç†å™¨çš„ç±»å‹</strong></a></li>
<li><a href="#3ï¸âƒ£-è‡ªå®šä¹‰ç»„ä»¶æš´éœ²äº‹ä»¶å¤„ç†å™¨ç±»å‹">3ï¸âƒ£ <strong>è‡ªå®šä¹‰ç»„ä»¶æš´éœ²äº‹ä»¶å¤„ç†å™¨ç±»å‹</strong></a></li>
<li><a href="#4ï¸âƒ£-è·å–åŸç”Ÿå…ƒç´ -props-å®šä¹‰">4ï¸âƒ£ <strong>è·å–åŸç”Ÿå…ƒç´  props å®šä¹‰</strong></a></li>
<li><a href="#5ï¸âƒ£-ä¸è¦ä½¿ç”¨-proptypes">5ï¸âƒ£ <strong>ä¸è¦ä½¿ç”¨ PropTypes</strong></a></li>
<li><a href="#6ï¸âƒ£-styled-components">6ï¸âƒ£ <strong>styled-components</strong></a></li>
<li><a href="#7ï¸âƒ£-ä¸ºæ²¡æœ‰æä¾›-typescript-å£°æ˜æ–‡ä»¶çš„ç¬¬ä¸‰æ–¹åº“è‡ªå®šä¹‰æ¨¡å—å£°æ˜">7ï¸âƒ£ <strong>ä¸ºæ²¡æœ‰æä¾› Typescript å£°æ˜æ–‡ä»¶çš„ç¬¬ä¸‰æ–¹åº“è‡ªå®šä¹‰æ¨¡å—å£°æ˜</strong></a></li>
<li><a href="#8ï¸âƒ£-ä¸ºæ–‡æ¡£ç”Ÿæˆåšå¥½å‡†å¤‡">8ï¸âƒ£ <strong>ä¸ºæ–‡æ¡£ç”Ÿæˆåšå¥½å‡†å¤‡</strong></a></li>
<li><a href="#9ï¸âƒ£-å¼€å¯-strict-æ¨¡å¼">9ï¸âƒ£ <strong>å¼€å¯ strict æ¨¡å¼</strong></a></li>
</ul>
</li>
<li><a href="#æ‰©å±•èµ„æ–™">æ‰©å±•èµ„æ–™</a></li>
</ul>
</li>
</ul>
<!-- /TOC -->
<p><br></p>
<hr>
<p><br></p>
<h3 id="1-å‡½æ•°ç»„ä»¶"><a href="#1-å‡½æ•°ç»„ä»¶" class="headerlink" title="1. å‡½æ•°ç»„ä»¶"></a>1. å‡½æ•°ç»„ä»¶</h3><p>React Hooks å‡ºç°å, å‡½æ•°ç»„ä»¶æœ‰äº†æ›´å¤šå‡ºé•œç‡. ç”±äºå‡½æ•°ç»„ä»¶åªæ˜¯æ™®é€šå‡½æ•°, å®ƒéå¸¸å®¹æ˜“è¿›è¡Œç±»å‹å£°æ˜</p>
<p><br></p>
<h4 id="1ï¸âƒ£-ä½¿ç”¨componentnameprops-å½¢å¼å‘½å-props-ç±»å‹-å¹¶å¯¼å‡º"><a href="#1ï¸âƒ£-ä½¿ç”¨componentnameprops-å½¢å¼å‘½å-props-ç±»å‹-å¹¶å¯¼å‡º" class="headerlink" title="1ï¸âƒ£ ä½¿ç”¨ComponentNameProps å½¢å¼å‘½å Props ç±»å‹, å¹¶å¯¼å‡º"></a>1ï¸âƒ£ <strong>ä½¿ç”¨<code>ComponentNameProps</code> å½¢å¼å‘½å Props ç±»å‹, å¹¶å¯¼å‡º</strong></h4><p><br></p>
<h4 id="2ï¸âƒ£-ä¼˜å…ˆä½¿ç”¨fcç±»å‹æ¥å£°æ˜å‡½æ•°ç»„ä»¶"><a href="#2ï¸âƒ£-ä¼˜å…ˆä½¿ç”¨fcç±»å‹æ¥å£°æ˜å‡½æ•°ç»„ä»¶" class="headerlink" title="2ï¸âƒ£ ä¼˜å…ˆä½¿ç”¨FCç±»å‹æ¥å£°æ˜å‡½æ•°ç»„ä»¶"></a>2ï¸âƒ£ <strong>ä¼˜å…ˆä½¿ç”¨<code>FC</code>ç±»å‹æ¥å£°æ˜å‡½æ•°ç»„ä»¶</strong></h4><p><code>FC</code>æ˜¯<code>FunctionComponent</code>çš„ç®€å†™, è¿™ä¸ªç±»å‹å®šä¹‰äº†é»˜è®¤çš„ props(å¦‚ children)ä»¥åŠä¸€äº›é™æ€å±æ€§(å¦‚ defaultProps)</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; FC &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å£°æ˜Propsç±»å‹</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> MyComponentProps &#123;</span><br><span class="line">  className?: <span class="built_in">string</span>;</span><br><span class="line">  style?: React.CSSProperties;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> MyComponent: FC&lt;MyComponentProps&gt; = <span class="function"><span class="params">props</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> &lt;div&gt;hello react&lt;<span class="regexp">/div&gt;;</span></span><br><span class="line"><span class="regexp">&#125;;</span></span><br></pre></td></tr></table></figure>
<p>ä½ ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨æ™®é€šå‡½æ•°æ¥è¿›è¡Œç»„ä»¶å£°æ˜, ä¸‹æ–‡ä¼šçœ‹åˆ°è¿™ç§å½¢å¼æ›´åŠ çµæ´»:</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> MyComponentProps &#123;</span><br><span class="line">  className?: <span class="built_in">string</span>;</span><br><span class="line">  style?: React.CSSProperties;</span><br><span class="line">  <span class="comment">// æ‰‹åŠ¨å£°æ˜children</span></span><br><span class="line">  children?: React.ReactNode;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">MyComponent</span>(<span class="params">props: MyComponentProps</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &lt;div&gt;hello react&lt;<span class="regexp">/div&gt;;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>
<p><br></p>
<h4 id="3ï¸âƒ£-ä¸è¦ç›´æ¥ä½¿ç”¨export-defaultå¯¼å‡ºç»„ä»¶"><a href="#3ï¸âƒ£-ä¸è¦ç›´æ¥ä½¿ç”¨export-defaultå¯¼å‡ºç»„ä»¶" class="headerlink" title="3ï¸âƒ£ ä¸è¦ç›´æ¥ä½¿ç”¨export defaultå¯¼å‡ºç»„ä»¶."></a>3ï¸âƒ£ <strong>ä¸è¦ç›´æ¥ä½¿ç”¨<code>export default</code>å¯¼å‡ºç»„ä»¶</strong>.</h4><p>è¿™ç§æ–¹å¼å¯¼å‡ºçš„ç»„ä»¶åœ¨<code>React Inspector</code>æŸ¥çœ‹æ—¶ä¼šæ˜¾ç¤ºä¸º<code>Unknown</code></p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (props: &#123;&#125;) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> &lt;div&gt;hello react&lt;<span class="regexp">/div&gt;;</span></span><br><span class="line"><span class="regexp">&#125;;</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœéå¾—è¿™ä¹ˆåš, è¯·ä½¿ç”¨<code>å‘½å function</code> å®šä¹‰:</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params">props: &#123;&#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &lt;div&gt;xxx&lt;<span class="regexp">/div&gt;;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>
<p><br></p>
<h4 id="4ï¸âƒ£-é»˜è®¤-props-å£°æ˜"><a href="#4ï¸âƒ£-é»˜è®¤-props-å£°æ˜" class="headerlink" title="4ï¸âƒ£ é»˜è®¤ props å£°æ˜"></a>4ï¸âƒ£ <strong>é»˜è®¤ props å£°æ˜</strong></h4><p>å®é™…ä¸Šæˆªæ­¢ç›®å‰å¯¹äºä¸Šé¢çš„ä½¿ç”¨<code>FC</code>ç±»å‹å£°æ˜çš„å‡½æ•°ç»„ä»¶å¹¶<a href="https://github.com/Microsoft/TypeScript/issues/27425" target="_blank" rel="noopener">ä¸èƒ½å®Œç¾æ”¯æŒ defaultProps</a>:</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; FC &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> HelloProps &#123;</span><br><span class="line">  name: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> Hello: FC&lt;HelloProps&gt; = <span class="function">(<span class="params">&#123; name &#125;</span>) =&gt;</span> &lt;div&gt;Hello &#123;name&#125;!&lt;<span class="regexp">/div&gt;;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">Hello.defaultProps = &#123; name: 'TJ' &#125;;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ âŒ! missing name</span></span><br><span class="line"><span class="regexp">&lt;Hello /</span>&gt;;</span><br></pre></td></tr></table></figure>
<p>ç¬”è€…ä¸€èˆ¬å–œæ¬¢è¿™æ ·å­å£°æ˜é»˜è®¤ props:</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> HelloProps &#123;</span><br><span class="line">  name?: <span class="built_in">string</span>; <span class="comment">// å£°æ˜ä¸ºå¯é€‰å±æ€§</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ©ç”¨å¯¹è±¡é»˜è®¤å±æ€§å€¼è¯­æ³•</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> Hello: FC&lt;HelloProps&gt; = <span class="function">(<span class="params">&#123; name = 'TJ' &#125;</span>) =&gt;</span> &lt;div&gt;Hello &#123;name&#125;!&lt;<span class="regexp">/div&gt;;</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœéå¾—ä½¿ç”¨ defaultProps, å¯ä»¥è¿™æ ·å­å£°æ˜ ğŸ‘‡. Typescript å¯ä»¥æ¨æ–­å’Œåœ¨å‡½æ•°ä¸Šå®šä¹‰çš„å±æ€§, è¿™ä¸ªç‰¹æ€§åœ¨ Typescript <a href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-1.html#properties-declarations-on-functions" target="_blank" rel="noopener">3.1</a>å¼€å§‹æ”¯æŒ.</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; PropsWithChildren &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> HelloProps &#123;</span><br><span class="line">  name: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›´æ¥ä½¿ç”¨å‡½æ•°å‚æ•°å£°æ˜</span></span><br><span class="line"><span class="comment">// PropsWithChildrenåªæ˜¯æ‰©å±•äº†children, å®Œå…¨å¯ä»¥è‡ªå·±å£°æ˜</span></span><br><span class="line"><span class="comment">// type PropsWithChildren&lt;P&gt; = P &amp; &#123;</span></span><br><span class="line"><span class="comment">//    children?: ReactNode;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="keyword">const</span> Hello = <span class="function">(<span class="params">&#123; name &#125;: PropsWithChildren&lt;HelloProps&gt;</span>) =&gt;</span> &lt;div&gt;Hello &#123;name&#125;!&lt;<span class="regexp">/div&gt;;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">Hello.defaultProps = &#123; name: 'TJ' &#125;;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ âœ… ok!</span></span><br><span class="line"><span class="regexp">&lt;Hello /</span>&gt;;</span><br></pre></td></tr></table></figure>
<p>è¿™ç§æ–¹å¼ä¹Ÿéå¸¸ç®€æ´, åªä¸è¿‡ defaultProps çš„ç±»å‹å’Œç»„ä»¶æœ¬èº«çš„ props æ²¡æœ‰å…³è”æ€§, è¿™ä¼šä½¿å¾— defaultProps æ— æ³•å¾—åˆ°ç±»å‹çº¦æŸ, æ‰€ä»¥å¿…è¦æ—¶è¿›ä¸€æ­¥æ˜¾å¼å£°æ˜ defaultProps çš„ç±»å‹:</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line">Hello.defaultProps = &#123; name: <span class="string">'TJ'</span> &#125; <span class="keyword">as</span> Partial&lt;HelloProps&gt;;</span><br></pre></td></tr></table></figure>
<p><br></p>
<h4 id="5ï¸âƒ£-æ³›å‹å‡½æ•°ç»„ä»¶"><a href="#5ï¸âƒ£-æ³›å‹å‡½æ•°ç»„ä»¶" class="headerlink" title="5ï¸âƒ£ æ³›å‹å‡½æ•°ç»„ä»¶"></a>5ï¸âƒ£ <strong>æ³›å‹å‡½æ•°ç»„ä»¶</strong></h4><p>æ³›å‹åœ¨ä¸€ä¸‹åˆ—è¡¨å‹æˆ–å®¹å™¨å‹çš„ç»„ä»¶ä¸­æ¯”è¾ƒå¸¸ç”¨, ç›´æ¥ä½¿ç”¨<code>FC</code>æ— æ³•æ»¡è¶³éœ€æ±‚:</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> ListProps&lt;T&gt; &#123;</span><br><span class="line">  visible: <span class="built_in">boolean</span>;</span><br><span class="line">  list: T[];</span><br><span class="line">  renderItem: <span class="function">(<span class="params">item: T, index: <span class="built_in">number</span></span>) =&gt;</span> React.ReactNode;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">List</span>&lt;<span class="title">T</span>&gt;(<span class="params">props: ListProps&lt;T&gt;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &lt;div /&gt;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Test</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;List</span><br><span class="line">      list=&#123;[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]&#125;</span><br><span class="line">      renderItem=&#123;<span class="function"><span class="params">i</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">/*è‡ªåŠ¨æ¨æ–­iä¸ºnumberç±»å‹*/</span></span><br><span class="line">      &#125;&#125;</span><br><span class="line">    /&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœè¦é…åˆé«˜é˜¶ç»„ä»¶ä½¿ç”¨å¯ä»¥è¿™æ ·å­å£°æ˜:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const List = React.memo(props =&gt; &#123;</span><br><span class="line">  return &lt;div /&gt;;</span><br><span class="line">&#125;) as (&lt;T&gt;(props: ListProps&lt;T&gt;) =&gt; React.ReactElement)</span><br></pre></td></tr></table></figure>
<p><br></p>
<h4 id="6ï¸âƒ£-å­ç»„ä»¶å£°æ˜"><a href="#6ï¸âƒ£-å­ç»„ä»¶å£°æ˜" class="headerlink" title="6ï¸âƒ£ å­ç»„ä»¶å£°æ˜"></a>6ï¸âƒ£ <strong>å­ç»„ä»¶å£°æ˜</strong></h4><p>ä½¿ç”¨<code>Parent.Child</code>å½¢å¼çš„ JSX å¯ä»¥è®©èŠ‚ç‚¹çˆ¶å­å…³ç³»æ›´åŠ ç›´è§‚, å®ƒç±»ä¼¼äºä¸€ç§å‘½åç©ºé—´çš„æœºåˆ¶, å¯ä»¥é¿å…å‘½åå†²çª. ç›¸æ¯”<code>ParentChild</code>è¿™ç§å‘½åæ–¹å¼, <code>Parent.Child</code>æ›´ä¸ºä¼˜é›…äº›. å½“ç„¶ä¹Ÿæœ‰å¯èƒ½è®©ä»£ç å˜å¾—å•°å—¦.</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; PropsWithChildren &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> LayoutProps &#123;&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> LayoutHeaderProps &#123;&#125; <span class="comment">// é‡‡ç”¨ParentChildPropså½¢å¼å‘½å</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> LayoutFooterProps &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">Layout</span>(<span class="params">props: PropsWithChildren&lt;LayoutProps&gt;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &lt;div className=<span class="string">"layout"</span>&gt;&#123;props.children&#125;&lt;<span class="regexp">/div&gt;;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ ä½œä¸ºçˆ¶ç»„ä»¶çš„å±æ€§</span></span><br><span class="line"><span class="regexp">Layout.Header = (props: PropsWithChildren&lt;LayoutHeaderProps&gt;) =&gt; &#123;</span></span><br><span class="line"><span class="regexp">  return &lt;div className="header"&gt;&#123;props.children&#125;&lt;/</span>div&gt;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Layout.Footer = <span class="function">(<span class="params">props: PropsWithChildren&lt;LayoutFooterProps&gt;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> &lt;div className=<span class="string">"footer"</span>&gt;&#123;props.children&#125;&lt;<span class="regexp">/div&gt;;</span></span><br><span class="line"><span class="regexp">&#125;;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ Test</span></span><br><span class="line"><span class="regexp">&lt;Layout&gt;</span></span><br><span class="line"><span class="regexp">  &lt;Layout.Header&gt;header&lt;/</span>Layout.Header&gt;</span><br><span class="line">  &lt;Layout.Footer&gt;footer&lt;<span class="regexp">/Layout.Footer&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>Layout&gt;;</span><br></pre></td></tr></table></figure>
<p><br></p>
<h4 id="7ï¸âƒ£-forwarding-refs"><a href="#7ï¸âƒ£-forwarding-refs" class="headerlink" title="7ï¸âƒ£ Forwarding Refs"></a>7ï¸âƒ£ <strong>Forwarding Refs</strong></h4><p><code>React.forwardRef</code> åœ¨ 16.3 æ–°å¢, å¯ä»¥ç”¨äºè½¬å‘ ref, é€‚ç”¨äº HOC å’Œå‡½æ•°ç»„ä»¶.</p>
<p>å‡½æ•°ç»„ä»¶åœ¨ 16.8.4 ä¹‹å‰æ˜¯ä¸æ”¯æŒ ref çš„, é…åˆ forwardRef å’Œ useImperativeHandle å¯ä»¥è®©å‡½æ•°ç»„ä»¶å‘å¤–æš´éœ²æ–¹æ³•</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*****************************</span></span><br><span class="line"><span class="comment"> * MyModal.tsx</span></span><br><span class="line"><span class="comment"> ****************************/</span></span><br><span class="line"><span class="keyword">import</span> React, &#123; useState, useImperativeHandle, FC, useRef, useCallback &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> MyModalProps &#123;</span><br><span class="line">  title?: React.ReactNode;</span><br><span class="line">  onOk?: <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">  onCancel?: <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æš´éœ²çš„æ–¹æ³•, é€‚ç”¨`&#123;ComponentName&#125;Methods`å½¢å¼å‘½å</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> MyModalMethods &#123;</span><br><span class="line">  show(): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> MyModal = React.forwardRef&lt;MyModalMethods, MyModalProps&gt;<span class="function">(<span class="params">(<span class="params">props, ref</span>) =&gt; &#123;</span></span></span><br><span class="line"><span class="function"><span class="params">  <span class="keyword">const</span> [visible, setVisible] = useState(<span class="params"></span>);</span></span></span><br><span class="line"><span class="function"><span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  <span class="comment">// åˆå§‹åŒ–refæš´éœ²çš„æ–¹æ³•</span></span></span></span><br><span class="line"><span class="function"><span class="params">  useImperativeHandle(<span class="params">ref, (<span class="params"></span>) =&gt; (<span class="params">&#123;</span></span></span></span></span><br><span class="line"><span class="function"><span class="params"><span class="params"><span class="params">    show: (<span class="params"></span>) =&gt; setVisible(<span class="params"><span class="literal">true</span></span>),</span></span></span></span></span><br><span class="line"><span class="function"><span class="params"><span class="params"><span class="params">  &#125;</span>)</span>);</span></span></span><br><span class="line"><span class="function"><span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  <span class="keyword">return</span> &lt;Modal visible=&#123;visible&#125;&gt;...&lt;/Modal&gt;;</span></span></span><br><span class="line"><span class="function"><span class="params">&#125;</span>);</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">/*******************</span></span><br><span class="line"><span class="function"> * <span class="params">Test</span>.<span class="params">tsx</span></span></span><br><span class="line"><span class="function"> *******************/</span></span><br><span class="line"><span class="function"><span class="params">const</span> <span class="params">Test</span>: <span class="params">FC</span>&lt;&#123;&#125;&gt; = <span class="params">props</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// å¼•ç”¨</span></span><br><span class="line">  <span class="keyword">const</span> modal = useRef&lt;MyModalMethods | <span class="literal">null</span>&gt;(<span class="literal">null</span>);</span><br><span class="line">  <span class="keyword">const</span> confirm = useCallback(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (modal.current) &#123;</span><br><span class="line">      modal.current.show();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, []);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> handleOk = useCallback(<span class="function"><span class="params">()</span> =&gt;</span> &#123;&#125;, []);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;button onClick=&#123;confirm&#125;&gt;show&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">      &lt;MyModal ref=&#123;modal&#125; onOk=&#123;handleOk&#125; /</span>&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;;</span></span><br></pre></td></tr></table></figure>
<h4 id="8ï¸âƒ£-é…åˆé«˜é˜¶ç»„ä»¶ä½¿ç”¨"><a href="#8ï¸âƒ£-é…åˆé«˜é˜¶ç»„ä»¶ä½¿ç”¨" class="headerlink" title="8ï¸âƒ£ é…åˆé«˜é˜¶ç»„ä»¶ä½¿ç”¨"></a>8ï¸âƒ£ <strong>é…åˆé«˜é˜¶ç»„ä»¶ä½¿ç”¨</strong></h4><p>ç»å¸¸çœ‹åˆ°æ–°æ‰‹å†™å‡ºè¿™æ ·çš„ä»£ç :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// Foo.tsx</span><br><span class="line">const Foo: FC&lt;FooProps&gt; = props =&gt; &#123;/* .. */&#125;)</span><br><span class="line">export default React.memo(Foo)</span><br><span class="line"></span><br><span class="line">// ä½¿ç”¨</span><br><span class="line">// Demo.tsx</span><br><span class="line">import &#123; Foo &#125; from &apos;./Foo&apos; // -&gt; è¿™é‡Œé¢è¯¯ä½¿ç”¨å‘½åå¯¼å…¥è¯­å¥ï¼Œå¯¼è‡´React.memoæ²¡æœ‰èµ·ä½œç”¨</span><br></pre></td></tr></table></figure>
<p>æ‰€ä»¥ç¬”è€…ä¸€èˆ¬è¿™æ ·å­ç»„ç»‡:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// Foo.tsx</span><br><span class="line">const Foo: FC&lt;FooProps&gt; = React.memo(props =&gt; &#123;/* .. */&#125;))</span><br><span class="line">export default Foo</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„ä»£ç è¿˜æ˜¯æœ‰ä¸€ä¸ªç¼ºé™·, å³ä½ åœ¨Reactå¼€å‘è€…å·¥å…·çœ‹åˆ°çš„èŠ‚ç‚¹åç§°æ˜¯è¿™æ ·çš„<code>&lt;Memo(wrappedComponent)&gt;&lt;/Memo(wrappedComponent)&gt;</code>, åªæ˜¯å› ä¸ºReact Babelæ’ä»¶æ— æ³•ä»åŒ¿åå‡½æ•°ä¸­æ¨å¯¼å‡ºdisplayNameå¯¼è‡´çš„. è§£å†³æ–¹æ¡ˆæ˜¯æ˜¾å¼æ·»åŠ displayName:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const Foo: FC&lt;FooProps&gt; = React.memo(props =&gt; &#123;/* .. */&#125;))</span><br><span class="line">Foo.displayName = &apos;Foo&apos;</span><br><span class="line">export default Foo</span><br></pre></td></tr></table></figure>
<p><br></p>
<hr>
<p><br></p>
<h3 id="2-ç±»ç»„ä»¶"><a href="#2-ç±»ç»„ä»¶" class="headerlink" title="2. ç±»ç»„ä»¶"></a>2. ç±»ç»„ä»¶</h3><p>ç›¸æ¯”å‡½æ•°, åŸºäºç±»çš„ç±»å‹æ£€æŸ¥å¯èƒ½ä¼šæ›´å¥½ç†è§£(ä¾‹å¦‚é‚£äº›ç†Ÿæ‚‰ä¼ ç»Ÿé¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€çš„å¼€å‘è€…).</p>
<h4 id="1ï¸âƒ£-ç»§æ‰¿-component-æˆ–-purecomponent"><a href="#1ï¸âƒ£-ç»§æ‰¿-component-æˆ–-purecomponent" class="headerlink" title="1ï¸âƒ£ ç»§æ‰¿ Component æˆ– PureComponent"></a>1ï¸âƒ£ <strong>ç»§æ‰¿ Component æˆ– PureComponent</strong></h4><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é¦–å…ˆå¯¼å‡ºPropså£°æ˜, åŒæ ·æ˜¯&#123;ComponentName&#125;Propså½¢å¼å‘½å</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> CounterProps &#123;</span><br><span class="line">  defaultCount: <span class="built_in">number</span>; <span class="comment">// å¯é€‰props, ä¸éœ€è¦?ä¿®é¥°</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç»„ä»¶çŠ¶æ€, ä¸éœ€è¦æš´éœ²</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">interface</span> State &#123;</span><br><span class="line">  count: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç±»æ³¨é‡Š</span></span><br><span class="line"><span class="comment"> * ç»§æ‰¿React.Component, å¹¶å£°æ˜Propså’ŒStateç±»å‹</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> Counter <span class="keyword">extends</span> React.Component&lt;CounterProps, State&gt; &#123;</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * é»˜è®¤å‚æ•°</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> defaultProps = &#123;</span><br><span class="line">    defaultCount: <span class="number">0</span>,</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * åˆå§‹åŒ–State</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">public</span> state = &#123;</span><br><span class="line">    count: <span class="keyword">this</span>.props.defaultCount,</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * å£°æ˜å‘¨æœŸæ–¹æ³•</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">public</span> componentDidMount() &#123;&#125;</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * å»ºè®®é è¿‘componentDidMount, èµ„æºæ¶ˆè´¹å’Œèµ„æºé‡Šæ”¾é è¿‘åœ¨ä¸€èµ·, æ–¹ä¾¿review</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">public</span> componentWillUnmount() &#123;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> componentDidCatch() &#123;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> componentDidUpdate(prevProps: CounterProps, prevState: State) &#123;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * æ¸²æŸ“å‡½æ•°</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">public</span> render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &#123;<span class="keyword">this</span>.state.count&#125;</span><br><span class="line">        &lt;button onClick=&#123;<span class="keyword">this</span>.increment&#125;&gt;Increment&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">        &lt;button onClick=&#123;this.decrement&#125;&gt;Decrement&lt;/</span>button&gt;</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    );</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">  /</span>**</span><br><span class="line">   * â‘  ç»„ä»¶ç§æœ‰æ–¹æ³•, ä¸æš´éœ²</span><br><span class="line">   * â‘¡ ä½¿ç”¨ç±»å®ä¾‹å±æ€§+ç®­å¤´å‡½æ•°å½¢å¼ç»‘å®š<span class="keyword">this</span></span><br><span class="line">   *<span class="regexp">/</span></span><br><span class="line"><span class="regexp">  private increment = () =&gt; &#123;</span></span><br><span class="line"><span class="regexp">    this.setState((&#123; count &#125;) =&gt; (&#123; count: count + 1 &#125;));</span></span><br><span class="line"><span class="regexp">  &#125;;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">  private decrement = () =&gt; &#123;</span></span><br><span class="line"><span class="regexp">    this.setState((&#123; count &#125;) =&gt; (&#123; count: count - 1 &#125;));</span></span><br><span class="line"><span class="regexp">  &#125;;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>
<p><br></p>
<h4 id="2ï¸âƒ£-ä½¿ç”¨static-defaultpropså®šä¹‰é»˜è®¤-props"><a href="#2ï¸âƒ£-ä½¿ç”¨static-defaultpropså®šä¹‰é»˜è®¤-props" class="headerlink" title="2ï¸âƒ£ ä½¿ç”¨static defaultPropså®šä¹‰é»˜è®¤ props"></a>2ï¸âƒ£ <strong>ä½¿ç”¨<code>static defaultProps</code>å®šä¹‰é»˜è®¤ props</strong></h4><p>Typescript <a href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-0.html#support-for-defaultprops-in-jsx" target="_blank" rel="noopener">3.0</a>å¼€å§‹æ”¯æŒå¯¹ä½¿ç”¨ defaultProps å¯¹ JSX props è¿›è¡Œæ¨æ–­, åœ¨ defaultProps ä¸­å®šä¹‰çš„ props å¯ä»¥ä¸éœ€è¦â€™?â€™å¯é€‰æ“ä½œç¬¦ä¿®é¥°. ä»£ç å¦‚ä¸Š ğŸ‘†</p>
<p><br></p>
<h4 id="3ï¸âƒ£-å­ç»„ä»¶å£°æ˜"><a href="#3ï¸âƒ£-å­ç»„ä»¶å£°æ˜" class="headerlink" title="3ï¸âƒ£ å­ç»„ä»¶å£°æ˜"></a>3ï¸âƒ£ <strong>å­ç»„ä»¶å£°æ˜</strong></h4><p>ç±»ç»„ä»¶å¯ä»¥ä½¿ç”¨é™æ€å±æ€§å½¢å¼å£°æ˜å­ç»„ä»¶</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> Layout <span class="keyword">extends</span> React.Component&lt;LayoutProps&gt; &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> Header = Header;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> Footer = Footer;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> render() &#123;</span><br><span class="line">    <span class="keyword">return</span> &lt;div className=<span class="string">"layout"</span>&gt;&#123;<span class="keyword">this</span>.props.children&#125;&lt;<span class="regexp">/div&gt;;</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>
<p><br></p>
<h4 id="4ï¸âƒ£-æ³›å‹"><a href="#4ï¸âƒ£-æ³›å‹" class="headerlink" title="4ï¸âƒ£ æ³›å‹"></a>4ï¸âƒ£ <strong>æ³›å‹</strong></h4><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> List&lt;T&gt; <span class="keyword">extends</span> React.Component&lt;ListProps&lt;T&gt;&gt; &#123;</span><br><span class="line">  <span class="keyword">public</span> render() &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br></p>
<hr>
<p><br></p>
<h3 id="3-é«˜é˜¶ç»„ä»¶"><a href="#3-é«˜é˜¶ç»„ä»¶" class="headerlink" title="3. é«˜é˜¶ç»„ä»¶"></a>3. é«˜é˜¶ç»„ä»¶</h3><p>åœ¨ React Hooks å‡ºæ¥ä¹‹å‰, é«˜é˜¶ç»„ä»¶æ˜¯ React çš„ä¸€ä¸ªé‡è¦é€»è¾‘å¤ç”¨æ–¹å¼. ç›¸æ¯”è¾ƒè€Œè¨€é«˜é˜¶ç»„ä»¶æ¯”è¾ƒé‡, ä¸”éš¾ä»¥ç†è§£, å®¹æ˜“é€ æˆ<code>åµŒå¥—åœ°ç‹±(wrapper)</code>. å¦å¤–å¯¹ Typescript ç±»å‹åŒ–ä¹Ÿä¸å‹å¥½(ä»¥å‰ä¼šä½¿ç”¨<a href="https://github.com/DefinitelyTyped/DefinitelyTyped/blob/9c1c7e78a9a2b4af8e2cda842c3693f67bb9e42d/types/react-router/index.d.ts#L137" target="_blank" rel="noopener">Omit</a>æ¥è®¡ç®—å¯¼å‡ºçš„ props). æ‰€ä»¥æ–°é¡¹ç›®è¿˜æ˜¯å»ºè®®ä½¿ç”¨ React Hooks.</p>
<p>ä¸€ä¸ªç®€å•çš„é«˜é˜¶ç»„ä»¶:</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; FC &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å£°æ˜æ³¨å…¥çš„Props</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> ThemeProps &#123;</span><br><span class="line">  primary: <span class="built_in">string</span>;</span><br><span class="line">  secondary: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç»™æŒ‡å®šç»„ä»¶æ³¨å…¥'ä¸»é¢˜'</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">withTheme</span>&lt;<span class="title">P</span>&gt;(<span class="params">Component: React.ComponentType&lt;P &amp; ThemeProps&gt;</span>) </span>&#123;</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * WithTheme è‡ªå·±æš´éœ²çš„Props</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">interface</span> OwnProps &#123;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * é«˜é˜¶ç»„ä»¶çš„props, å¿½ç•¥ThemeProps, å¤–éƒ¨ä¸éœ€è¦ä¼ é€’è¿™äº›å±æ€§</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">type</span> WithThemeProps = P &amp; OwnProps;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * é«˜é˜¶ç»„ä»¶</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">const</span> WithTheme = <span class="function">(<span class="params">props: WithThemeProps</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// å‡è®¾themeä»contextä¸­è·å–</span></span><br><span class="line">    <span class="keyword">const</span> fakeTheme: ThemeProps = &#123;</span><br><span class="line">      primary: <span class="string">'red'</span>,</span><br><span class="line">      secondary: <span class="string">'blue'</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> &lt;Component &#123;...fakeTheme&#125; &#123;...props&#125; /&gt;;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  WithTheme.displayName = <span class="string">`withTheme<span class="subst">$&#123;Component.displayName&#125;</span>`</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> WithTheme;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Test</span></span><br><span class="line"><span class="keyword">const</span> Foo: FC&lt;&#123; a: <span class="built_in">number</span> &#125; &amp; ThemeProps&gt; = <span class="function"><span class="params">props</span> =&gt;</span> &lt;div style=&#123;&#123; color: props.primary &#125;&#125; /&gt;;</span><br><span class="line"><span class="keyword">const</span> FooWithTheme = withTheme(Foo);</span><br><span class="line">() =&gt; &#123;</span><br><span class="line">  &lt;FooWithTheme a=&#123;<span class="number">1</span>&#125; /&gt;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>å†é‡æ„ä¸€ä¸‹:</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æŠ½å–å‡ºé€šç”¨çš„é«˜é˜¶ç»„ä»¶ç±»å‹</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">type</span> HOC&lt;InjectedProps, OwnProps = &#123;&#125;&gt; = &lt;P&gt;(</span><br><span class="line">  Component: React.ComponentType&lt;P &amp; InjectedProps&gt;,</span><br><span class="line">) =&gt; React.ComponentType&lt;P &amp; OwnProps&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å£°æ˜æ³¨å…¥çš„Props</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> ThemeProps &#123;</span><br><span class="line">  primary: <span class="built_in">string</span>;</span><br><span class="line">  secondary: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> withTheme: HOC&lt;ThemeProps&gt; = <span class="function"><span class="params">Component</span> =&gt;</span> props =&gt; &#123;</span><br><span class="line">  <span class="comment">// å‡è®¾themeä»contextä¸­è·å–</span></span><br><span class="line">  <span class="keyword">const</span> fakeTheme: ThemeProps = &#123;</span><br><span class="line">    primary: <span class="string">'red'</span>,</span><br><span class="line">    secondary: <span class="string">'blue'</span>,</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">return</span> &lt;Component &#123;...fakeTheme&#125; &#123;...props&#125; /&gt;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨é«˜é˜¶ç»„ä»¶è¿˜æœ‰ä¸€äº›ç—›ç‚¹:</p>
<ul>
<li>æ— æ³•å®Œç¾åœ°ä½¿ç”¨ ref(è¿™å·²ä¸ç®—ä»€ä¹ˆç—›ç‚¹)<ul>
<li>åœ¨ React.forwardRef å‘å¸ƒä¹‹å‰, æœ‰ä¸€äº›åº“ä¼šä½¿ç”¨ innerRef æˆ–è€… wrapperRef, è½¬å‘ç»™å°è£…çš„ç»„ä»¶çš„ ref.</li>
<li>æ— æ³•æ¨æ–­ ref å¼•ç”¨ç»„ä»¶çš„ç±»å‹, éœ€è¦æ˜¾å¼å£°æ˜.</li>
</ul>
</li>
<li>é«˜é˜¶ç»„ä»¶ç±»å‹æŠ¥é”™å¾ˆéš¾ç†è§£</li>
</ul>
<p><br></p>
<hr>
<p><br></p>
<h3 id="4-render-props"><a href="#4-render-props" class="headerlink" title="4. Render Props"></a>4. Render Props</h3><p>React çš„ props(åŒ…æ‹¬ children)å¹¶æ²¡æœ‰é™å®šç±»å‹, å®ƒå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°. äºæ˜¯å°±æœ‰äº† render props, è¿™æ˜¯å’Œé«˜é˜¶ç»„ä»¶ä¸€æ ·å¸¸è§çš„æ¨¡å¼:</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> ThemeConsumerProps &#123;</span><br><span class="line">  children: <span class="function">(<span class="params">theme: Theme</span>) =&gt;</span> React.ReactNode;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> ThemeConsumer = <span class="function">(<span class="params">props: ThemeConsumerProps</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> fakeTheme = &#123; primary: <span class="string">'red'</span>, secondary: <span class="string">'blue'</span> &#125;;</span><br><span class="line">  <span class="keyword">return</span> props.children(fakeTheme);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Test</span></span><br><span class="line">&lt;ThemeConsumer&gt;</span><br><span class="line">  &#123;<span class="function">(<span class="params">&#123; primary &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &lt;div style=&#123;&#123; color: primary &#125;&#125; /&gt;;</span><br><span class="line">  &#125;&#125;</span><br><span class="line">&lt;<span class="regexp">/ThemeConsumer&gt;;</span></span><br></pre></td></tr></table></figure>
<p><br></p>
<hr>
<p><br></p>
<h3 id="5-context"><a href="#5-context" class="headerlink" title="5. Context"></a>5. Context</h3><p>Context æä¾›äº†ä¸€ç§è·¨ç»„ä»¶é—´çŠ¶æ€å…±äº«æœºåˆ¶</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; FC, useContext &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> Theme &#123;</span><br><span class="line">  primary: <span class="built_in">string</span>;</span><br><span class="line">  secondary: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å£°æ˜Contextçš„ç±»å‹, ä»¥&#123;Name&#125;ContextValueå‘½å</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> ThemeContextValue &#123;</span><br><span class="line">  theme: Theme;</span><br><span class="line">  onThemeChange: <span class="function">(<span class="params">theme: Theme</span>) =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åˆ›å»ºContext, å¹¶è®¾ç½®é»˜è®¤å€¼, ä»¥&#123;Name&#125;Contextå‘½å</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> ThemeContext = React.createContext&lt;ThemeContextValue&gt;(&#123;</span><br><span class="line">  theme: &#123;</span><br><span class="line">    primary: <span class="string">'red'</span>,</span><br><span class="line">    secondary: <span class="string">'blue'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  onThemeChange: noop,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Provider, ä»¥&#123;Name&#125;Providerå‘½å</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> ThemeProvider: FC&lt;&#123; theme: Theme; onThemeChange: <span class="function">(<span class="params">theme: Theme</span>) =&gt;</span> <span class="built_in">void</span> &#125;&gt; = <span class="function"><span class="params">props</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;ThemeContext.Provider value=&#123;&#123; theme: props.theme, onThemeChange: props.onThemeChange &#125;&#125;&gt;</span><br><span class="line">      &#123;props.children&#125;</span><br><span class="line">    &lt;<span class="regexp">/ThemeContext.Provider&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span>**</span><br><span class="line"> * æš´éœ²hooks, ä»¥use&#123;Name&#125;å‘½å</span><br><span class="line"> *<span class="regexp">/</span></span><br><span class="line"><span class="regexp">export function useTheme() &#123;</span></span><br><span class="line"><span class="regexp">  return useContext(ThemeContext);</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>
<p><br></p>
<hr>
<p><br></p>
<h3 id="6-æ‚é¡¹"><a href="#6-æ‚é¡¹" class="headerlink" title="6. æ‚é¡¹"></a>6. æ‚é¡¹</h3><h4 id="1ï¸âƒ£-ä½¿ç”¨handleeventå‘½åäº‹ä»¶å¤„ç†å™¨"><a href="#1ï¸âƒ£-ä½¿ç”¨handleeventå‘½åäº‹ä»¶å¤„ç†å™¨" class="headerlink" title="1ï¸âƒ£ ä½¿ç”¨handleEventå‘½åäº‹ä»¶å¤„ç†å™¨."></a>1ï¸âƒ£ <strong>ä½¿ç”¨<code>handleEvent</code>å‘½åäº‹ä»¶å¤„ç†å™¨</strong>.</h4><p>å¦‚æœå­˜åœ¨å¤šä¸ªç›¸åŒäº‹ä»¶å¤„ç†å™¨, åˆ™æŒ‰ç…§<code>handle{Type}{Event}</code>å‘½å, ä¾‹å¦‚ handleNameChange.</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> EventDemo: FC&lt;&#123;&#125;&gt; = <span class="function"><span class="params">props</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> handleClick = useCallback&lt;React.MouseEventHandler&gt;(<span class="function"><span class="params">evt</span> =&gt;</span> &#123;</span><br><span class="line">    evt.preventDefault();</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;, []);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &lt;button onClick=&#123;handleClick&#125; /&gt;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><br></p>
<h4 id="2ï¸âƒ£-å†…ç½®äº‹ä»¶å¤„ç†å™¨çš„ç±»å‹"><a href="#2ï¸âƒ£-å†…ç½®äº‹ä»¶å¤„ç†å™¨çš„ç±»å‹" class="headerlink" title="2ï¸âƒ£ å†…ç½®äº‹ä»¶å¤„ç†å™¨çš„ç±»å‹"></a>2ï¸âƒ£ <strong>å†…ç½®äº‹ä»¶å¤„ç†å™¨çš„ç±»å‹</strong></h4><p><code>@types/react</code>å†…ç½®äº†ä»¥ä¸‹äº‹ä»¶å¤„ç†å™¨çš„ç±»å‹ ğŸ‘‡</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> EventHandler&lt;E <span class="keyword">extends</span> SyntheticEvent&lt;<span class="built_in">any</span>&gt;&gt; = &#123; bivarianceHack(event: E): <span class="built_in">void</span> &#125;[<span class="string">'bivarianceHack'</span>];</span><br><span class="line"><span class="keyword">type</span> ReactEventHandler&lt;T = Element&gt; = EventHandler&lt;SyntheticEvent&lt;T&gt;&gt;;</span><br><span class="line"><span class="keyword">type</span> ClipboardEventHandler&lt;T = Element&gt; = EventHandler&lt;ClipboardEvent&lt;T&gt;&gt;;</span><br><span class="line"><span class="keyword">type</span> CompositionEventHandler&lt;T = Element&gt; = EventHandler&lt;CompositionEvent&lt;T&gt;&gt;;</span><br><span class="line"><span class="keyword">type</span> DragEventHandler&lt;T = Element&gt; = EventHandler&lt;DragEvent&lt;T&gt;&gt;;</span><br><span class="line"><span class="keyword">type</span> FocusEventHandler&lt;T = Element&gt; = EventHandler&lt;FocusEvent&lt;T&gt;&gt;;</span><br><span class="line"><span class="keyword">type</span> FormEventHandler&lt;T = Element&gt; = EventHandler&lt;FormEvent&lt;T&gt;&gt;;</span><br><span class="line"><span class="keyword">type</span> ChangeEventHandler&lt;T = Element&gt; = EventHandler&lt;ChangeEvent&lt;T&gt;&gt;;</span><br><span class="line"><span class="keyword">type</span> KeyboardEventHandler&lt;T = Element&gt; = EventHandler&lt;KeyboardEvent&lt;T&gt;&gt;;</span><br><span class="line"><span class="keyword">type</span> MouseEventHandler&lt;T = Element&gt; = EventHandler&lt;MouseEvent&lt;T&gt;&gt;;</span><br><span class="line"><span class="keyword">type</span> TouchEventHandler&lt;T = Element&gt; = EventHandler&lt;TouchEvent&lt;T&gt;&gt;;</span><br><span class="line"><span class="keyword">type</span> PointerEventHandler&lt;T = Element&gt; = EventHandler&lt;PointerEvent&lt;T&gt;&gt;;</span><br><span class="line"><span class="keyword">type</span> UIEventHandler&lt;T = Element&gt; = EventHandler&lt;UIEvent&lt;T&gt;&gt;;</span><br><span class="line"><span class="keyword">type</span> WheelEventHandler&lt;T = Element&gt; = EventHandler&lt;WheelEvent&lt;T&gt;&gt;;</span><br><span class="line"><span class="keyword">type</span> AnimationEventHandler&lt;T = Element&gt; = EventHandler&lt;AnimationEvent&lt;T&gt;&gt;;</span><br><span class="line"><span class="keyword">type</span> TransitionEventHandler&lt;T = Element&gt; = EventHandler&lt;TransitionEvent&lt;T&gt;&gt;;</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥ç®€æ´åœ°å£°æ˜äº‹ä»¶å¤„ç†å™¨ç±»å‹:</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; ChangeEventHandler &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> EventDemo: FC&lt;&#123;&#125;&gt; = <span class="function"><span class="params">props</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * å¯ä»¥é™å®šå…·ä½“Targetçš„ç±»å‹</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">const</span> handleChange = useCallback&lt;ChangeEventHandler&lt;HTMLInputElement&gt;&gt;(<span class="function"><span class="params">evt</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(evt.target.value);</span><br><span class="line">  &#125;, []);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &lt;input onChange=&#123;handleChange&#125; /&gt;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><br></p>
<h4 id="3ï¸âƒ£-è‡ªå®šä¹‰ç»„ä»¶æš´éœ²äº‹ä»¶å¤„ç†å™¨ç±»å‹"><a href="#3ï¸âƒ£-è‡ªå®šä¹‰ç»„ä»¶æš´éœ²äº‹ä»¶å¤„ç†å™¨ç±»å‹" class="headerlink" title="3ï¸âƒ£ è‡ªå®šä¹‰ç»„ä»¶æš´éœ²äº‹ä»¶å¤„ç†å™¨ç±»å‹"></a>3ï¸âƒ£ <strong>è‡ªå®šä¹‰ç»„ä»¶æš´éœ²äº‹ä»¶å¤„ç†å™¨ç±»å‹</strong></h4><p>å’ŒåŸç”Ÿ html å…ƒç´ ä¸€æ ·, è‡ªå®šä¹‰ç»„ä»¶åº”è¯¥æš´éœ²è‡ªå·±çš„äº‹ä»¶å¤„ç†å™¨ç±»å‹, å°¤å…¶æ˜¯è¾ƒä¸ºå¤æ‚çš„äº‹ä»¶å¤„ç†å™¨, è¿™æ ·å¯ä»¥é¿å…å¼€å‘è€…æ‰‹åŠ¨ä¸ºæ¯ä¸ªäº‹ä»¶å¤„ç†å™¨çš„å‚æ•°å£°æ˜ç±»å‹</p>
<p>è‡ªå®šä¹‰äº‹ä»¶å¤„ç†å™¨ç±»å‹ä»¥<code>{ComponentName}{Event}Handler</code>å‘½å. ä¸ºäº†å’ŒåŸç”Ÿäº‹ä»¶å¤„ç†å™¨ç±»å‹åŒºåˆ†, ä¸ä½¿ç”¨<code>EventHandler</code>å½¢å¼çš„åç¼€</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; FC, useState &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> UploadValue &#123;</span><br><span class="line">  url: <span class="built_in">string</span>;</span><br><span class="line">  name: <span class="built_in">string</span>;</span><br><span class="line">  size: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æš´éœ²äº‹ä»¶å¤„ç†å™¨ç±»å‹</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> UploadChangeHandler = <span class="function">(<span class="params">value?: UploadValue, file?: File</span>) =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> UploadProps &#123;</span><br><span class="line">  value?: UploadValue;</span><br><span class="line">  onChange?: UploadChangeHandler;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> Upload: FC&lt;UploadProps&gt; = <span class="function"><span class="params">props</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> &lt;div&gt;...&lt;<span class="regexp">/div&gt;;</span></span><br><span class="line"><span class="regexp">&#125;;</span></span><br></pre></td></tr></table></figure>
<p><br></p>
<h4 id="4ï¸âƒ£-è·å–åŸç”Ÿå…ƒç´ -props-å®šä¹‰"><a href="#4ï¸âƒ£-è·å–åŸç”Ÿå…ƒç´ -props-å®šä¹‰" class="headerlink" title="4ï¸âƒ£ è·å–åŸç”Ÿå…ƒç´  props å®šä¹‰"></a>4ï¸âƒ£ <strong>è·å–åŸç”Ÿå…ƒç´  props å®šä¹‰</strong></h4><p>æœ‰äº›åœºæ™¯æˆ‘ä»¬å¸Œæœ›åŸç”Ÿå…ƒç´ æ‰©å±•ä¸€ä¸‹ä¸€äº› props. æ‰€æœ‰åŸç”Ÿå…ƒç´  props éƒ½ç»§æ‰¿äº†<code>React.HTMLAttributes</code>, æŸäº›ç‰¹æ®Šå…ƒç´ ä¹Ÿä¼šæ‰©å±•äº†è‡ªå·±çš„å±æ€§, ä¾‹å¦‚<code>InputHTMLAttributes</code>. å…·ä½“å¯ä»¥å‚è€ƒ<a href="https://github.com/DefinitelyTyped/DefinitelyTyped/blob/eafef8bd049017b3998939de2edbab5d8a96423b/types/react/index.d.ts#L203" target="_blank" rel="noopener"><code>React.createElement</code></a>æ–¹æ³•çš„å®ç°</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; FC &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">fixClass</span>&lt;</span></span><br><span class="line"><span class="function">  <span class="title">T</span> <span class="title">extends</span> <span class="title">Element</span> = <span class="title">HTMLDivElement</span>,</span></span><br><span class="line"><span class="function">  <span class="title">Attribute</span> <span class="title">extends</span> <span class="title">React</span>.<span class="title">HTMLAttributes</span>&lt;<span class="title">T</span>&gt; = <span class="title">React</span>.<span class="title">HTMLAttributes</span>&lt;<span class="title">T</span>&gt;</span></span><br><span class="line"><span class="function">&gt;(<span class="params">cls: <span class="built_in">string</span>, <span class="keyword">type</span>: keyof React.ReactHTML = 'div'</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> FixedClassName: FC&lt;Attribute&gt; = <span class="function"><span class="params">props</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> React.createElement(<span class="keyword">type</span>, &#123; ...props, className: <span class="string">`<span class="subst">$&#123;cls&#125;</span> <span class="subst">$&#123;props.className&#125;</span>`</span> &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> FixedClassName;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Test</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> Container = fixClass(<span class="string">'card'</span>);</span><br><span class="line"><span class="keyword">const</span> Header = fixClass(<span class="string">'card__header'</span>, <span class="string">'header'</span>);</span><br><span class="line"><span class="keyword">const</span> Body = fixClass(<span class="string">'card__body'</span>, <span class="string">'main'</span>);</span><br><span class="line"><span class="keyword">const</span> Footer = fixClass(<span class="string">'card__body'</span>, <span class="string">'footer'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Test = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;Container&gt;</span><br><span class="line">      &lt;Header&gt;header&lt;<span class="regexp">/Header&gt;</span></span><br><span class="line"><span class="regexp">      &lt;Body&gt;header&lt;/</span>Body&gt;</span><br><span class="line">      &lt;Footer&gt;footer&lt;<span class="regexp">/Footer&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>Container&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><br></p>
<h4 id="5ï¸âƒ£-ä¸è¦ä½¿ç”¨-proptypes"><a href="#5ï¸âƒ£-ä¸è¦ä½¿ç”¨-proptypes" class="headerlink" title="5ï¸âƒ£ ä¸è¦ä½¿ç”¨ PropTypes"></a>5ï¸âƒ£ <strong>ä¸è¦ä½¿ç”¨ PropTypes</strong></h4><p>æœ‰äº† Typescript ä¹‹åå¯ä»¥å®‰å…¨åœ°çº¦æŸ Props å’Œ State, æ²¡æœ‰å¿…è¦å¼•å…¥ React.PropTypes, è€Œä¸”å®ƒçš„è¡¨è¾¾èƒ½åŠ›æ¯”è¾ƒå¼±</p>
<p><br></p>
<h4 id="6ï¸âƒ£-styled-components"><a href="#6ï¸âƒ£-styled-components" class="headerlink" title="6ï¸âƒ£ styled-components"></a>6ï¸âƒ£ <strong>styled-components</strong></h4><p>styled-components æ˜¯ç›®å‰æœ€æµè¡Œçš„<code>CSS-in-js</code>åº“, Typescript åœ¨ 2.9 æ”¯æŒæ³›å‹<a href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-9.html#generic-type-arguments-in-generic-tagged-templates" target="_blank" rel="noopener"><code>æ ‡ç­¾æ¨¡æ¿</code></a>. è¿™æ„å‘³ç€å¯ä»¥ç®€å•åœ°å¯¹ styled-components åˆ›å»ºçš„ç»„ä»¶è¿›è¡Œç±»å‹çº¦æŸ</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä¾èµ–äº@types/styled-components</span></span><br><span class="line"><span class="keyword">import</span> styled <span class="keyword">from</span> <span class="string">'styled-components/macro'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Title = styled.h1&lt;&#123; active?: <span class="built_in">boolean</span> &#125;&gt;<span class="string">`</span></span><br><span class="line"><span class="string">  color: <span class="subst">$&#123;props =&gt; (props.active ? 'red' : 'gray')&#125;</span>;</span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰©å±•å·²æœ‰ç»„ä»¶</span></span><br><span class="line"><span class="keyword">const</span> NewHeader = styled(Header)&lt;&#123; customColor: <span class="built_in">string</span> &#125;&gt;<span class="string">`</span></span><br><span class="line"><span class="string">  color: <span class="subst">$&#123;props =&gt; props.customColor&#125;</span>;</span></span><br><span class="line"><span class="string">`</span>;</span><br></pre></td></tr></table></figure>
<p>äº†è§£æ›´å¤š<a href="https://www.styled-components.com/docs/api#typescript" target="_blank" rel="noopener">styled-components å’Œ Typescript</a></p>
<p><br></p>
<h4 id="7ï¸âƒ£-ä¸ºæ²¡æœ‰æä¾›-typescript-å£°æ˜æ–‡ä»¶çš„ç¬¬ä¸‰æ–¹åº“è‡ªå®šä¹‰æ¨¡å—å£°æ˜"><a href="#7ï¸âƒ£-ä¸ºæ²¡æœ‰æä¾›-typescript-å£°æ˜æ–‡ä»¶çš„ç¬¬ä¸‰æ–¹åº“è‡ªå®šä¹‰æ¨¡å—å£°æ˜" class="headerlink" title="7ï¸âƒ£ ä¸ºæ²¡æœ‰æä¾› Typescript å£°æ˜æ–‡ä»¶çš„ç¬¬ä¸‰æ–¹åº“è‡ªå®šä¹‰æ¨¡å—å£°æ˜"></a>7ï¸âƒ£ <strong>ä¸ºæ²¡æœ‰æä¾› Typescript å£°æ˜æ–‡ä»¶çš„ç¬¬ä¸‰æ–¹åº“è‡ªå®šä¹‰æ¨¡å—å£°æ˜</strong></h4><p>ç¬”è€…ä¸€èˆ¬ä¹ æƒ¯åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹(å’Œ tsconfig.json åŒåœ¨ä¸€ä¸ªç›®å½•ä¸‹)æ”¾ç½®ä¸€ä¸ª<code>global.d.ts</code>. æ”¾ç½®é¡¹ç›®çš„å…¨å±€å£°æ˜æ–‡ä»¶</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// /global.d.ts</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è‡ªå®šä¹‰æ¨¡å—å£°æ˜</span></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">module</span> 'awesome-react-component' &#123;</span><br><span class="line">  <span class="comment">// ä¾èµ–å…¶ä»–æ¨¡å—çš„å£°æ˜æ–‡ä»¶</span></span><br><span class="line">  <span class="keyword">import</span> * <span class="keyword">as</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">const</span> Foo: React.FC&lt;&#123; a: <span class="built_in">number</span>; b: <span class="built_in">string</span> &#125;&gt;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>äº†è§£æ›´å¤š<a href="https://www.typescriptlang.org/docs/handbook/declaration-files/introduction.html" target="_blank" rel="noopener">å¦‚ä½•å®šä¹‰å£°æ˜æ–‡ä»¶</a></p>
<p><br></p>
<h4 id="8ï¸âƒ£-ä¸ºæ–‡æ¡£ç”Ÿæˆåšå¥½å‡†å¤‡"><a href="#8ï¸âƒ£-ä¸ºæ–‡æ¡£ç”Ÿæˆåšå¥½å‡†å¤‡" class="headerlink" title="8ï¸âƒ£ ä¸ºæ–‡æ¡£ç”Ÿæˆåšå¥½å‡†å¤‡"></a>8ï¸âƒ£ <strong>ä¸ºæ–‡æ¡£ç”Ÿæˆåšå¥½å‡†å¤‡</strong></h4><p>ç›®å‰ç¤¾åŒºæœ‰å¤šç§ react ç»„ä»¶æ–‡æ¡£ç”Ÿæˆæ–¹æ¡ˆ, ä¾‹å¦‚<a href="https://www.docz.site" target="_blank" rel="noopener"><code>docz</code></a>, <a href="https://github.com/styleguidist/react-docgen-typescript" target="_blank" rel="noopener"><code>styleguidist</code></a>è¿˜æœ‰<a href="https://github.com/storybooks/storybook" target="_blank" rel="noopener">storybook</a>. å®ƒä»¬åº•å±‚éƒ½ä½¿ç”¨<a href="https://github.com/styleguidist/react-docgen-typescript" target="_blank" rel="noopener">react-docgen-typescript</a>å¯¹ Typescript è¿›è¡Œè§£æ. å°±ç›®å‰è€Œè¨€, å®ƒè¿˜æœ‰äº›å‘, è€Œä¸”è§£ææ¯”è¾ƒæ…¢. ä¸ç®¡ä¸å¦¨ç¢æˆ‘ä»¬ä½¿ç”¨å®ƒçš„é£æ ¼å¯¹ä»£ç è¿›è¡Œæ³¨é‡Š:</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Propsæ³¨é‡Š</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> ColumnProps <span class="keyword">extends</span> React.HTMLAttributes&lt;any&gt; &#123;</span><br><span class="line">  <span class="comment">/** prop1 description */</span></span><br><span class="line">  prop1?: <span class="built_in">string</span>;</span><br><span class="line">  <span class="comment">/** prop2 description */</span></span><br><span class="line">  prop2: <span class="built_in">number</span>;</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * prop3 description</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  prop3: <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">  <span class="comment">/** prop4 description */</span></span><br><span class="line">  prop4: <span class="string">'option1'</span> | <span class="string">'option2'</span> | <span class="string">'option3'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¯¹ç»„ä»¶è¿›è¡Œæ³¨é‡Š</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> Column <span class="keyword">extends</span> Component&lt;ColumnProps, &#123;&#125;&gt; &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> &lt;div&gt;Column&lt;<span class="regexp">/div&gt;;</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>
<h4 id="9ï¸âƒ£-å¼€å¯-strict-æ¨¡å¼"><a href="#9ï¸âƒ£-å¼€å¯-strict-æ¨¡å¼" class="headerlink" title="9ï¸âƒ£ å¼€å¯ strict æ¨¡å¼"></a>9ï¸âƒ£ <strong>å¼€å¯ strict æ¨¡å¼</strong></h4><p>ä¸ºäº†çœŸæ­£æŠŠ Typescript ç”¨èµ·æ¥, åº”è¯¥å§‹ç»ˆå¼€å¯ strict æ¨¡å¼, é¿å…ä½¿ç”¨ any ç±»å‹å£°æ˜.</p>
<p><br></p>
<hr>
<p><br></p>
<h3 id="æ‰©å±•èµ„æ–™"><a href="#æ‰©å±•èµ„æ–™" class="headerlink" title="æ‰©å±•èµ„æ–™"></a>æ‰©å±•èµ„æ–™</h3><ul>
<li><a href="https://github.com/piotrwitek/react-redux-typescript-guide" target="_blank" rel="noopener">piotrwitek/react-redux-typescript-guide</a></li>
<li><a href="https://www.zhihu.com/question/279911703" target="_blank" rel="noopener">TypeScript å¦‚ä½•å®Œç¾åœ°ä¹¦å†™ React ä¸­çš„ HOCï¼Ÿ</a></li>
<li><a href="https://www.typescriptlang.org/docs/home.html" target="_blank" rel="noopener">Typescript å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://basarat.gitbooks.io/typescript/docs/why-typescript.html" target="_blank" rel="noopener">Typescript-deep-dive</a></li>
<li><a href="https://github.com/ivan-94/mindnodes/tree/master/è¯­è¨€/Typescript" target="_blank" rel="noopener">Typescript æ€ç»´å¯¼å›¾</a></li>
</ul>

  </div>
</article>

    <div class="blog-post-comments">
        <div id="disqus_thread">
            <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        </div>
    </div>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Blogs</a></li>
         
          <li><a href="http://github.com/ivan-94">Projects</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#ç³»åˆ—å¼•è¨€"><span class="toc-number">1.</span> <span class="toc-text">ç³»åˆ—å¼•è¨€</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ç±»å‹æ£€æŸ¥"><span class="toc-number">2.</span> <span class="toc-text">ç±»å‹æ£€æŸ¥</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-å‡½æ•°ç»„ä»¶"><span class="toc-number">2.1.</span> <span class="toc-text">1. å‡½æ•°ç»„ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1ï¸âƒ£-ä½¿ç”¨componentnameprops-å½¢å¼å‘½å-props-ç±»å‹-å¹¶å¯¼å‡º"><span class="toc-number">2.1.1.</span> <span class="toc-text">1ï¸âƒ£ ä½¿ç”¨ComponentNameProps å½¢å¼å‘½å Props ç±»å‹, å¹¶å¯¼å‡º</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2ï¸âƒ£-ä¼˜å…ˆä½¿ç”¨fcç±»å‹æ¥å£°æ˜å‡½æ•°ç»„ä»¶"><span class="toc-number">2.1.2.</span> <span class="toc-text">2ï¸âƒ£ ä¼˜å…ˆä½¿ç”¨FCç±»å‹æ¥å£°æ˜å‡½æ•°ç»„ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3ï¸âƒ£-ä¸è¦ç›´æ¥ä½¿ç”¨export-defaultå¯¼å‡ºç»„ä»¶"><span class="toc-number">2.1.3.</span> <span class="toc-text">3ï¸âƒ£ ä¸è¦ç›´æ¥ä½¿ç”¨export defaultå¯¼å‡ºç»„ä»¶.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4ï¸âƒ£-é»˜è®¤-props-å£°æ˜"><span class="toc-number">2.1.4.</span> <span class="toc-text">4ï¸âƒ£ é»˜è®¤ props å£°æ˜</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5ï¸âƒ£-æ³›å‹å‡½æ•°ç»„ä»¶"><span class="toc-number">2.1.5.</span> <span class="toc-text">5ï¸âƒ£ æ³›å‹å‡½æ•°ç»„ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6ï¸âƒ£-å­ç»„ä»¶å£°æ˜"><span class="toc-number">2.1.6.</span> <span class="toc-text">6ï¸âƒ£ å­ç»„ä»¶å£°æ˜</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7ï¸âƒ£-forwarding-refs"><span class="toc-number">2.1.7.</span> <span class="toc-text">7ï¸âƒ£ Forwarding Refs</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8ï¸âƒ£-é…åˆé«˜é˜¶ç»„ä»¶ä½¿ç”¨"><span class="toc-number">2.1.8.</span> <span class="toc-text">8ï¸âƒ£ é…åˆé«˜é˜¶ç»„ä»¶ä½¿ç”¨</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-ç±»ç»„ä»¶"><span class="toc-number">2.2.</span> <span class="toc-text">2. ç±»ç»„ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1ï¸âƒ£-ç»§æ‰¿-component-æˆ–-purecomponent"><span class="toc-number">2.2.1.</span> <span class="toc-text">1ï¸âƒ£ ç»§æ‰¿ Component æˆ– PureComponent</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2ï¸âƒ£-ä½¿ç”¨static-defaultpropså®šä¹‰é»˜è®¤-props"><span class="toc-number">2.2.2.</span> <span class="toc-text">2ï¸âƒ£ ä½¿ç”¨static defaultPropså®šä¹‰é»˜è®¤ props</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3ï¸âƒ£-å­ç»„ä»¶å£°æ˜"><span class="toc-number">2.2.3.</span> <span class="toc-text">3ï¸âƒ£ å­ç»„ä»¶å£°æ˜</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4ï¸âƒ£-æ³›å‹"><span class="toc-number">2.2.4.</span> <span class="toc-text">4ï¸âƒ£ æ³›å‹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-é«˜é˜¶ç»„ä»¶"><span class="toc-number">2.3.</span> <span class="toc-text">3. é«˜é˜¶ç»„ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-render-props"><span class="toc-number">2.4.</span> <span class="toc-text">4. Render Props</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-context"><span class="toc-number">2.5.</span> <span class="toc-text">5. Context</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-æ‚é¡¹"><span class="toc-number">2.6.</span> <span class="toc-text">6. æ‚é¡¹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1ï¸âƒ£-ä½¿ç”¨handleeventå‘½åäº‹ä»¶å¤„ç†å™¨"><span class="toc-number">2.6.1.</span> <span class="toc-text">1ï¸âƒ£ ä½¿ç”¨handleEventå‘½åäº‹ä»¶å¤„ç†å™¨.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2ï¸âƒ£-å†…ç½®äº‹ä»¶å¤„ç†å™¨çš„ç±»å‹"><span class="toc-number">2.6.2.</span> <span class="toc-text">2ï¸âƒ£ å†…ç½®äº‹ä»¶å¤„ç†å™¨çš„ç±»å‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3ï¸âƒ£-è‡ªå®šä¹‰ç»„ä»¶æš´éœ²äº‹ä»¶å¤„ç†å™¨ç±»å‹"><span class="toc-number">2.6.3.</span> <span class="toc-text">3ï¸âƒ£ è‡ªå®šä¹‰ç»„ä»¶æš´éœ²äº‹ä»¶å¤„ç†å™¨ç±»å‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4ï¸âƒ£-è·å–åŸç”Ÿå…ƒç´ -props-å®šä¹‰"><span class="toc-number">2.6.4.</span> <span class="toc-text">4ï¸âƒ£ è·å–åŸç”Ÿå…ƒç´  props å®šä¹‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5ï¸âƒ£-ä¸è¦ä½¿ç”¨-proptypes"><span class="toc-number">2.6.5.</span> <span class="toc-text">5ï¸âƒ£ ä¸è¦ä½¿ç”¨ PropTypes</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6ï¸âƒ£-styled-components"><span class="toc-number">2.6.6.</span> <span class="toc-text">6ï¸âƒ£ styled-components</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7ï¸âƒ£-ä¸ºæ²¡æœ‰æä¾›-typescript-å£°æ˜æ–‡ä»¶çš„ç¬¬ä¸‰æ–¹åº“è‡ªå®šä¹‰æ¨¡å—å£°æ˜"><span class="toc-number">2.6.7.</span> <span class="toc-text">7ï¸âƒ£ ä¸ºæ²¡æœ‰æä¾› Typescript å£°æ˜æ–‡ä»¶çš„ç¬¬ä¸‰æ–¹åº“è‡ªå®šä¹‰æ¨¡å—å£°æ˜</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8ï¸âƒ£-ä¸ºæ–‡æ¡£ç”Ÿæˆåšå¥½å‡†å¤‡"><span class="toc-number">2.6.8.</span> <span class="toc-text">8ï¸âƒ£ ä¸ºæ–‡æ¡£ç”Ÿæˆåšå¥½å‡†å¤‡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9ï¸âƒ£-å¼€å¯-strict-æ¨¡å¼"><span class="toc-number">2.6.9.</span> <span class="toc-text">9ï¸âƒ£ å¼€å¯ strict æ¨¡å¼</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#æ‰©å±•èµ„æ–™"><span class="toc-number">2.7.</span> <span class="toc-text">æ‰©å±•èµ„æ–™</span></a></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://bobi.ink/2019/05/10/react-component-design-01/"><i class="fa fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://bobi.ink/2019/05/10/react-component-design-01/&text=Reactç»„ä»¶è®¾è®¡å®è·µæ€»ç»“01 - ç±»å‹æ£€æŸ¥"><i class="fa fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://bobi.ink/2019/05/10/react-component-design-01/&title=Reactç»„ä»¶è®¾è®¡å®è·µæ€»ç»“01 - ç±»å‹æ£€æŸ¥"><i class="fa fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://bobi.ink/2019/05/10/react-component-design-01/&is_video=false&description=Reactç»„ä»¶è®¾è®¡å®è·µæ€»ç»“01 - ç±»å‹æ£€æŸ¥"><i class="fa fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Reactç»„ä»¶è®¾è®¡å®è·µæ€»ç»“01 - ç±»å‹æ£€æŸ¥&body=Check out this article: https://bobi.ink/2019/05/10/react-component-design-01/"><i class="fa fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://bobi.ink/2019/05/10/react-component-design-01/&title=Reactç»„ä»¶è®¾è®¡å®è·µæ€»ç»“01 - ç±»å‹æ£€æŸ¥"><i class="fa fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://bobi.ink/2019/05/10/react-component-design-01/&title=Reactç»„ä»¶è®¾è®¡å®è·µæ€»ç»“01 - ç±»å‹æ£€æŸ¥"><i class="fa fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://bobi.ink/2019/05/10/react-component-design-01/&title=Reactç»„ä»¶è®¾è®¡å®è·µæ€»ç»“01 - ç±»å‹æ£€æŸ¥"><i class="fa fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://bobi.ink/2019/05/10/react-component-design-01/&title=Reactç»„ä»¶è®¾è®¡å®è·µæ€»ç»“01 - ç±»å‹æ£€æŸ¥"><i class="fa fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://bobi.ink/2019/05/10/react-component-design-01/&name=Reactç»„ä»¶è®¾è®¡å®è·µæ€»ç»“01 - ç±»å‹æ£€æŸ¥&description="><i class="fa fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
      <ul>
        <li id="toc"><a class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa fa-list fa-lg" aria-hidden="true"></i> TOC</a></li>
        <li id="share"><a class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa fa-share-alt fa-lg" aria-hidden="true"></i> Share</a></li>
        <li id="top" style="display:none"><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a></li>
        <li id="menu"><a class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa fa-bars fa-lg" aria-hidden="true"></i> Menu</a></li>
      </ul>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2023 Ivan
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Blogs</a></li>
         
          <li><a href="http://github.com/ivan-94">Projects</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>
<!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="/lib/meslo-LG/styles.css">
<link rel="stylesheet" href="/lib/justified-gallery/justifiedGallery.min.css">

<!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>


    <!-- Google Analytics -->
    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-44571525-2', 'auto');
        ga('send', 'pageview');
    </script>


    <!-- Disqus Comments -->
    <script type="text/javascript">
        var disqus_shortname = 'bobi-ink';

        (function(){
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        }());
    </script>


