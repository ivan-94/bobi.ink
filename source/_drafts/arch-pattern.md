---
title: "常见的前端架构风格和案例"
date: 2019/9/11
categories: 前端
---

所谓软件架构风格，是指描述某个特定应用领域中系统组织方式的惯用模式。架构风格定义一个词汇表和一组约束，词汇表中包含一些组件及连接器，约束则指出系统如何将构建和连接器组合起来。软件架构风格反映了领域中众多系统所共有的结构和语义特性，并指导如何将系统中的各个模块和子系统有机的结合为一个完整的系统

本文不是专业讨论系统架构的文章，笔者还还没到那个水平. 所以没必要纠结于什么是架构模式、什么是架构风格。在这里尚且把它们当成一个系统架构上的套路, 所谓的套路就是一些通用的、可复用的，用于应对某类问题的方式方法. 可以理解为类似“设计模式”的东西，只是解决问题的层次不一样。

直接进入正题吧

<br>

## 分层风格

> 没有什么问题是分层解决不了，如果解决不了, 就再加一层 —— 鲁迅 <br>
> 不不，原话是: `Any problem  in computer science can be solved by anther layer of indirection.`

分层架构是最常见的软件架构，你要不知道用什么架构，或者不知道怎么解决问题，那就尝试加多一层。

一个分层系统是按照层次来组织的，每一层为在其之上的层提供服务，并且使用在其之 下的层所提供的服务. 分层通常可以解决什么问题？

- 隔离业务复杂度与技术复杂度的利器. 典型的例子是网络协议, 越高层越面向人类，越底层越面向机器。一层一层往上，很多技术的细节都被隐藏了，比如我们使用HTTP时，不需要考虑TCP层的握手和包传输，TCP层不需要关心IP层的寻址和路由。

  ![](/images/arch-pattern/tcp-ip-model.png)

- 分离关注点。减少跨越多层的耦合, 当一层变动时不会影响到其他层. 还是TCP/IP协议簇为例, 比如网络层变动了，因为网络层暴露给传输层的协议是不变的，那传输层是不受影响的；或者数据链路层变动了，因为传输层和数据链路层之间隔离了一个网络层，所以数据链路层更不会影响传输层.
  
关注点分离之后，软件的结构会变得容易理解和开发, 每一层都可以独立测试，其他层的接口通过模拟解决. 分层架构，也不是全是优点，比如分层的抽象可能会丢失部分效率和灵活性, 比如编程语言就有明显的层次结构，语言抽象的层次越高，一般运行效率可能会有衰减:

![](/images/arch-pattern/lang.png)

分层架构在软件领域的案例实在太多太多了，咱讲讲前端的一些分层案例：

倒三角
Virtual DOM

正三角
Taro

## 参考文献

- [几种常见的软件架构风格介绍](https://wxs.me/2069)
- [架构风格与基于网络的软件架构设计](https://docs.huihoo.com/rest/REST_cn.pdf) REST提议者，Roy Thomas Fielding的博士论文
- [软件架构入门](http://www.ruanyifeng.com/blog/2016/09/software-architecture.html)
