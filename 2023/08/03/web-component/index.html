<!DOCTYPE html>
<html lang=zh>
<head><meta name="generator" content="Hexo 3.8.0">
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="Web Component å·²ç»è¢«æµè§ˆå™¨å¹¿æ³›æ”¯æŒï¼Œä¸å†æ˜¯æ–°é²œç©æ„äº†ï¼Œå®ƒæœ‰å¾ˆå¤šä½¿ç”¨åœºæ™¯ï¼Œæ¯”å¦‚ç¼–å†™è·¨æ¡†æ¶çš„ç»„ä»¶åº“ã€å¾®å‰ç«¯ï¼Œå®Œå…¨ç”¨å®ƒå¼€å‘å¤æ‚çš„åº”ç”¨ä¹Ÿæ²¡é—®é¢˜ã€‚ è€Œä»Šå¤©æˆ‘è¦ä»‹ç»çš„æ˜¯ Web component å¦‚ä½•æ‰®æ¼”æ¡†æ¶/å¾®åº”ç”¨ä¹‹é—´çš„èƒ¶æ°´å±‚è¿™ä¸ªè§’è‰²ã€‚ Web Component æ˜¯å‰ç«¯é€šç”¨åè®®åœ¨è½¯ä»¶ç³»ç»Ÿä¸­ ï¼Œå‰ç«¯é€šå¸¸ä½œä¸ºå„ç§åç«¯æœåŠ¡çš„èšåˆå±‚ï¼Œä¸€ä¸ªé¡µé¢ä¸­å¯èƒ½æ‰¿è½½æ¥è‡ªå¤šä¸ªä¸šåŠ¡åŸŸçš„å†…å®¹ï¼š  å› æ­¤å‰ç«¯çš„ä¸šåŠ¡è¾¹ç•Œå¹¶">
<meta name="keywords" content="Blog,FrontEnd,React,Javascript,Typescript">
<meta property="og:type" content="article">
<meta property="og:title" content="æ¥ä¸€ç“¶  Web Component é­”æ³•èƒ¶æ°´">
<meta property="og:url" content="https://bobi.ink/2023/08/03/web-component/index.html">
<meta property="og:site_name" content="Bobi.ink">
<meta property="og:description" content="Web Component å·²ç»è¢«æµè§ˆå™¨å¹¿æ³›æ”¯æŒï¼Œä¸å†æ˜¯æ–°é²œç©æ„äº†ï¼Œå®ƒæœ‰å¾ˆå¤šä½¿ç”¨åœºæ™¯ï¼Œæ¯”å¦‚ç¼–å†™è·¨æ¡†æ¶çš„ç»„ä»¶åº“ã€å¾®å‰ç«¯ï¼Œå®Œå…¨ç”¨å®ƒå¼€å‘å¤æ‚çš„åº”ç”¨ä¹Ÿæ²¡é—®é¢˜ã€‚ è€Œä»Šå¤©æˆ‘è¦ä»‹ç»çš„æ˜¯ Web component å¦‚ä½•æ‰®æ¼”æ¡†æ¶/å¾®åº”ç”¨ä¹‹é—´çš„èƒ¶æ°´å±‚è¿™ä¸ªè§’è‰²ã€‚ Web Component æ˜¯å‰ç«¯é€šç”¨åè®®åœ¨è½¯ä»¶ç³»ç»Ÿä¸­ ï¼Œå‰ç«¯é€šå¸¸ä½œä¸ºå„ç§åç«¯æœåŠ¡çš„èšåˆå±‚ï¼Œä¸€ä¸ªé¡µé¢ä¸­å¯èƒ½æ‰¿è½½æ¥è‡ªå¤šä¸ªä¸šåŠ¡åŸŸçš„å†…å®¹ï¼š  å› æ­¤å‰ç«¯çš„ä¸šåŠ¡è¾¹ç•Œå¹¶">
<meta property="og:locale" content="zh">
<meta property="og:image" content="https://bobi.ink/images/web-component/Untitled.png">
<meta property="og:image" content="https://bobi.ink/images/web-component/Untitled%201.png">
<meta property="og:image" content="https://bobi.ink/images/web-component/Untitled%202.png">
<meta property="og:image" content="https://bobi.ink/images/web-component/Untitled%203.png">
<meta property="og:image" content="https://bobi.ink/images/web-component/Untitled%204.png">
<meta property="og:image" content="https://bobi.ink/images/web-component/Untitled%205.png">
<meta property="og:image" content="https://bobi.ink/images/web-component/Untitled%206.png">
<meta property="og:updated_time" content="2023-08-08T08:08:21.031Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="æ¥ä¸€ç“¶  Web Component é­”æ³•èƒ¶æ°´">
<meta name="twitter:description" content="Web Component å·²ç»è¢«æµè§ˆå™¨å¹¿æ³›æ”¯æŒï¼Œä¸å†æ˜¯æ–°é²œç©æ„äº†ï¼Œå®ƒæœ‰å¾ˆå¤šä½¿ç”¨åœºæ™¯ï¼Œæ¯”å¦‚ç¼–å†™è·¨æ¡†æ¶çš„ç»„ä»¶åº“ã€å¾®å‰ç«¯ï¼Œå®Œå…¨ç”¨å®ƒå¼€å‘å¤æ‚çš„åº”ç”¨ä¹Ÿæ²¡é—®é¢˜ã€‚ è€Œä»Šå¤©æˆ‘è¦ä»‹ç»çš„æ˜¯ Web component å¦‚ä½•æ‰®æ¼”æ¡†æ¶/å¾®åº”ç”¨ä¹‹é—´çš„èƒ¶æ°´å±‚è¿™ä¸ªè§’è‰²ã€‚ Web Component æ˜¯å‰ç«¯é€šç”¨åè®®åœ¨è½¯ä»¶ç³»ç»Ÿä¸­ ï¼Œå‰ç«¯é€šå¸¸ä½œä¸ºå„ç§åç«¯æœåŠ¡çš„èšåˆå±‚ï¼Œä¸€ä¸ªé¡µé¢ä¸­å¯èƒ½æ‰¿è½½æ¥è‡ªå¤šä¸ªä¸šåŠ¡åŸŸçš„å†…å®¹ï¼š  å› æ­¤å‰ç«¯çš„ä¸šåŠ¡è¾¹ç•Œå¹¶">
<meta name="twitter:image" content="https://bobi.ink/images/web-component/Untitled.png">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>æ¥ä¸€ç“¶  Web Component é­”æ³•èƒ¶æ°´</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- rss -->
    
    
</head>

<body>
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Blogs</a></li>
         
          <li><a href="http://github.com/ivan-94">Projects</a></li>
        
      </ul>
    </span>
    <br>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2023/08/08/i18n-locale/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2023/07/28/mobx/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://bobi.ink/2023/08/03/web-component/"><i class="fa fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://bobi.ink/2023/08/03/web-component/&text=æ¥ä¸€ç“¶  Web Component é­”æ³•èƒ¶æ°´"><i class="fa fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://bobi.ink/2023/08/03/web-component/&title=æ¥ä¸€ç“¶  Web Component é­”æ³•èƒ¶æ°´"><i class="fa fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://bobi.ink/2023/08/03/web-component/&is_video=false&description=æ¥ä¸€ç“¶  Web Component é­”æ³•èƒ¶æ°´"><i class="fa fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=æ¥ä¸€ç“¶  Web Component é­”æ³•èƒ¶æ°´&body=Check out this article: https://bobi.ink/2023/08/03/web-component/"><i class="fa fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://bobi.ink/2023/08/03/web-component/&title=æ¥ä¸€ç“¶  Web Component é­”æ³•èƒ¶æ°´"><i class="fa fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://bobi.ink/2023/08/03/web-component/&title=æ¥ä¸€ç“¶  Web Component é­”æ³•èƒ¶æ°´"><i class="fa fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://bobi.ink/2023/08/03/web-component/&title=æ¥ä¸€ç“¶  Web Component é­”æ³•èƒ¶æ°´"><i class="fa fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://bobi.ink/2023/08/03/web-component/&title=æ¥ä¸€ç“¶  Web Component é­”æ³•èƒ¶æ°´"><i class="fa fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://bobi.ink/2023/08/03/web-component/&name=æ¥ä¸€ç“¶  Web Component é­”æ³•èƒ¶æ°´&description="><i class="fa fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#web-component-æ˜¯å‰ç«¯é€šç”¨åè®®"><span class="toc-number">1.</span> <span class="toc-text">Web Component æ˜¯å‰ç«¯é€šç”¨åè®®</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#web-component-æ¦‚è§ˆ"><span class="toc-number">2.</span> <span class="toc-text">Web component æ¦‚è§ˆ</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#æ˜ å°„-props"><span class="toc-number">3.</span> <span class="toc-text">æ˜ å°„ Props</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#æœ€ä½³å®è·µ"><span class="toc-number">3.1.</span> <span class="toc-text">æœ€ä½³å®è·µ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#æ¡†æ¶æ€ä¹ˆå†³å®šç”¨-html-attribute-è¿˜æ˜¯-property-çš„å‘¢ï¼Ÿ"><span class="toc-number">3.2.</span> <span class="toc-text">æ¡†æ¶æ€ä¹ˆå†³å®šç”¨ HTML Attribute è¿˜æ˜¯ Property çš„å‘¢ï¼Ÿ</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ä»£ç†äº‹ä»¶"><span class="toc-number">4.</span> <span class="toc-text">ä»£ç†äº‹ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#è§†å›¾æ¡†æ¶æ”¯æŒè‡ªå®šä¹‰å…ƒç´ çš„äº‹ä»¶è®¢é˜…å—ï¼Ÿ"><span class="toc-number">4.1.</span> <span class="toc-text">è§†å›¾æ¡†æ¶æ”¯æŒè‡ªå®šä¹‰å…ƒç´ çš„äº‹ä»¶è®¢é˜…å—ï¼Ÿ</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ä¸ä½¿ç”¨-shadow-dom-ï¼Ÿ"><span class="toc-number">5.</span> <span class="toc-text">ä¸ä½¿ç”¨  Shadow DOM ï¼Ÿ</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#é‚£ä»€ä¹ˆæ—¶å€™ä¸ä½¿ç”¨-shadow-dom-å‘¢ï¼Ÿ"><span class="toc-number">5.1.</span> <span class="toc-text">é‚£ä»€ä¹ˆæ—¶å€™ä¸ä½¿ç”¨ Shadow DOM å‘¢ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#å¦‚æœä¸ä½¿ç”¨-shadow-dom-ä¼šæœ‰ä»€ä¹ˆåæœï¼Ÿ"><span class="toc-number">5.2.</span> <span class="toc-text">å¦‚æœä¸ä½¿ç”¨ Shadow DOM ä¼šæœ‰ä»€ä¹ˆåæœï¼Ÿ</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#slot-æ’æ§½"><span class="toc-number">6.</span> <span class="toc-text">Slot æ’æ§½</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#å…ˆæ¥çœ‹çœ‹ä¸»æµçš„è§†å›¾æ¡†æ¶æ”¯ä¸æ”¯æŒåŸç”Ÿ-slotï¼Ÿ"><span class="toc-number">6.1.</span> <span class="toc-text">å…ˆæ¥çœ‹çœ‹ä¸»æµçš„è§†å›¾æ¡†æ¶æ”¯ä¸æ”¯æŒåŸç”Ÿ Slotï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#å¦‚æœä¸ä½¿ç”¨-slot-è¿˜æœ‰å“ªäº›å›é€€æ–¹æ¡ˆï¼Ÿ"><span class="toc-number">6.2.</span> <span class="toc-text">å¦‚æœä¸ä½¿ç”¨ slot è¿˜æœ‰å“ªäº›å›é€€æ–¹æ¡ˆï¼Ÿ</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#æ€»ç»“"><span class="toc-number">7.</span> <span class="toc-text">æ€»ç»“</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#æ‰©å±•é˜…è¯»"><span class="toc-number">8.</span> <span class="toc-text">æ‰©å±•é˜…è¯»</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index width mx-auto px2 my4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        æ¥ä¸€ç“¶  Web Component é­”æ³•èƒ¶æ°´
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Bobi.ink</span>
      </span>
      
    <div class="postdate">
        <time datetime="2023-08-02T16:00:00.000Z" itemprop="datePublished">2023-08-03</time>
    </div>


      

    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p>Web Component å·²ç»è¢«æµè§ˆå™¨å¹¿æ³›æ”¯æŒï¼Œä¸å†æ˜¯æ–°é²œç©æ„äº†ï¼Œå®ƒæœ‰å¾ˆå¤šä½¿ç”¨åœºæ™¯ï¼Œæ¯”å¦‚ç¼–å†™è·¨æ¡†æ¶çš„ç»„ä»¶åº“ã€å¾®å‰ç«¯ï¼Œå®Œå…¨ç”¨å®ƒå¼€å‘å¤æ‚çš„åº”ç”¨ä¹Ÿæ²¡é—®é¢˜ã€‚</p>
<p>è€Œä»Šå¤©æˆ‘è¦ä»‹ç»çš„æ˜¯ Web component å¦‚ä½•æ‰®æ¼”æ¡†æ¶/å¾®åº”ç”¨ä¹‹é—´çš„èƒ¶æ°´å±‚è¿™ä¸ªè§’è‰²ã€‚</p>
<h1 id="web-component-æ˜¯å‰ç«¯é€šç”¨åè®®"><a href="#web-component-æ˜¯å‰ç«¯é€šç”¨åè®®" class="headerlink" title="Web Component æ˜¯å‰ç«¯é€šç”¨åè®®"></a>Web Component æ˜¯å‰ç«¯é€šç”¨åè®®</h1><p>åœ¨è½¯ä»¶ç³»ç»Ÿä¸­ ï¼Œå‰ç«¯é€šå¸¸ä½œä¸ºå„ç§åç«¯æœåŠ¡çš„èšåˆå±‚ï¼Œä¸€ä¸ªé¡µé¢ä¸­å¯èƒ½æ‰¿è½½æ¥è‡ªå¤šä¸ªä¸šåŠ¡åŸŸçš„å†…å®¹ï¼š</p>
<p><img src="/images/web-component/Untitled.png" alt="æœåŠ¡èšåˆ"></p>
<p>å› æ­¤å‰ç«¯çš„ä¸šåŠ¡è¾¹ç•Œå¹¶é‚£ä¹ˆæ¸…æ™°ï¼Œå¾ˆéš¾åšåˆ°å’Œåç«¯å¾®æœåŠ¡ä¸€ä¸€æ˜ å°„:</p>
<p><img src="/images/web-component/Untitled%201.png" alt="å¾®åº”ç”¨æ˜ å°„"></p>
<p>å°±åƒå¾®æœåŠ¡ä¸€æ ·ï¼Œå¾®åº”ç”¨ä¹‹é—´ä¹Ÿä¼šäº’ç›¸ä¾èµ–ã€‚æ¯”å¦‚åœ¨å¾®å‰ç«¯ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šä¾èµ–å…¶ä»–å­åº”ç”¨çš„<code>ä¸šåŠ¡ç»„ä»¶</code>ï¼Œå¹¶ä¸”è¿™äº›å­åº”ç”¨æœ‰å¯èƒ½æ˜¯å¼‚æ„çš„ï¼Œæ¯”å¦‚ React å¼•ç”¨ Vue çš„ç»„ä»¶ã€æˆ–è€… Vue 3 å¼•ç”¨è€æ—§ Vue 2 ç»„ä»¶ã€‚</p>
<p>å°½ç®¡åœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¹¶ä¸å»ºè®®å­åº”ç”¨ä¹‹é—´äº§ç”Ÿè€¦åˆï¼Œä½†æ˜¯è€ƒè™‘è¿ç§»çš„æˆæœ¬ç­‰ç°å®å› ç´ ï¼Œæˆ‘ä»¬åªèƒ½å¦¥åã€‚ä¸‹é¢æ˜¯ä¸€äº›å¸¸è§çš„è§£å†³åŠæ³•æœ‰ï¼š</p>
<ul>
<li>å°†è¿™äº›ç»„ä»¶å‰¥ç¦»å‡ºæ¥ï¼Œæ”¾ç½®åˆ°é€šç”¨çš„ä¸šåŠ¡ç»„ä»¶åº“ã€‚</li>
<li>å­åº”ç”¨æš´éœ²æœåŠ¡æ–¹æ³•ï¼Œä¼ å…¥ DOM æŒ‚è½½ç‚¹ï¼Œè®©ç›®æ ‡å­åº”ç”¨å°†å…ƒç´ æ¸²æŸ“åˆ°è¿™ä¸ª DOM å…ƒç´ ä¸Š</li>
<li>å­åº”ç”¨é€šè¿‡ Web Component æš´éœ²æœåŠ¡ã€‚</li>
</ul>
<p>ç¬¬ä¸€ç§æ–¹å¼ã€‚å¾ˆå¤šæƒ…å†µï¼Œè¿™äº›ç»„ä»¶å¾ˆéš¾å‰¥ç¦»å‡ºæ¥ï¼Œå°±ç®—å‰¥ç¦»å‡ºæ¥ä¸ºäº†åº”ä»˜å¼‚æ„æ¶ˆè´¹ï¼Œæˆ‘ä»¬å¯èƒ½è¿˜æ˜¯å¾—é€šè¿‡ Web component é‡æ„ã€‚</p>
<p>è€Œç¬¬äºŒç§æ–¹å¼ï¼Œè¿˜ä¸å¦‚ç›´æ¥ä½¿ç”¨ Web Component , è¿™æ˜¯ä¸€ç§æ ‡å‡†ç»„ä»¶ APIï¼Œä¸»æµçš„è§†å›¾æ¡†æ¶éƒ½æ”¯æŒã€‚</p>
<p><img src="/images/web-component/Untitled%202.png" alt="é€šç”¨åè®®"></p>
<p>å°±å¦‚å¼‚æ„çš„å¾®æœåŠ¡ä½¿ç”¨é€šç”¨çš„ HTTPã€RPC åè®®æ¥é€šä¿¡ä¸€æ ·ï¼ŒWeb Component å°±æ˜¯å¼‚æ„å‰ç«¯åº”ç”¨ä¹‹é—´çš„ã€Œé€šç”¨åè®®ã€ã€‚</p>
<p>æ‰€ä»¥æœ¬æ–‡çš„è¯é¢˜å°±æ˜¯å›´ç»•ç€ï¼š<code>æ€ä¹ˆæŠŠç°æœ‰çš„ç»„ä»¶åŒ…è£…æˆ Web Component</code> å±•å¼€ã€‚</p>
<p><br><br><br><br><br></p>
<h1 id="web-component-æ¦‚è§ˆ"><a href="#web-component-æ¦‚è§ˆ" class="headerlink" title="Web component æ¦‚è§ˆ"></a>Web component æ¦‚è§ˆ</h1><p>Web Component ï¼Œæˆ–è€…è¯´<code>è‡ªå®šä¹‰å…ƒç´ </code>(Custom Element) æ›´åŠ è´´åˆ‡ï¼Œå®ƒå°±æ˜¯æ”¯æŒæˆ‘ä»¬<strong><code>åˆ›å»ºè‡ªå®šä¹‰ HTML å…ƒç´ </code></strong>çš„ç›¸å…³â€™<strong>æŠ€æœ¯é›†åˆâ€™</strong>ã€‚</p>
<p><img src="/images/web-component/Untitled%203.png" alt="æ€ç»´å¯¼å›¾"></p>
<p>ä¸Šé¢çš„æ€ç»´å¯¼å›¾ï¼ŒåŸºæœ¬è¦†ç›–äº†ä½ éœ€è¦æŒæ¡çš„å†…å®¹äº†ã€‚å¦‚æœè¯»è€…ç†Ÿæ‚‰ä¸»æµè§†å›¾æ¡†æ¶(æ¯”å¦‚ Vue)ï¼Œåªè¦èŠ±ä¸€ä¸¤ä¸ªå°æ—¶å°±å¯ä»¥æŒæ¡å•¦ã€‚è¿™å—èµ„æ–™ä¹Ÿæ¯”è¾ƒå¤šï¼Œ æˆ‘å°±å±•å¼€ç»†èŠ‚äº†ï¼Œæ¨è <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_components" target="_blank" rel="noopener">MDN çš„ç›¸å…³æ•™ç¨‹</a>ã€‚</p>
<p><br><br><br></p>
<p>å…ˆç®€å•å†™å‡ ä¸ª <code>Hello world</code> å§ï¼š</p>
<p><br></p>
<p>åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰å…ƒç´ ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        hello-world &#123; color: red; &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        class HelloWorld extends HTMLElement &#123;</span><br><span class="line">            connectedCallback() &#123;</span><br><span class="line">                this.innerHTML = `&lt;p&gt;Hello, World!&lt;/p&gt;`;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        customElements.define(&apos;hello-world&apos;, HelloWorld);</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;hello-world&gt;&lt;/hello-world&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>Shadow DOM ç‰ˆæœ¬ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        class HelloWorld extends HTMLElement &#123;</span><br><span class="line">            constructor() &#123;</span><br><span class="line">                super();</span><br><span class="line">                this.attachShadow(&#123; mode: &apos;open&apos; &#125;);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            connectedCallback() &#123;</span><br><span class="line">                this.shadowRoot.innerHTML = `</span><br><span class="line">                    &lt;style&gt;:host &#123; color: red; &#125;&lt;/style&gt;</span><br><span class="line">                    &lt;p&gt;Hello, World!&lt;/p&gt;</span><br><span class="line">                `;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        customElements.define(&apos;hello-world&apos;, HelloWorld);</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;hello-world&gt;&lt;/hello-world&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>åŒ…è£… <a href="https://vuejs.org/guide/extras/web-components.html" target="_blank" rel="noopener">Vue 3 ç»„ä»¶</a>, å®˜æ–¹æ”¯æŒ:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import &#123; defineCustomElement &#125; from &apos;vue&apos;</span><br><span class="line"></span><br><span class="line">const MyVueElement = defineCustomElement(&#123;</span><br><span class="line">  // normal Vue component options here</span><br><span class="line">  props: &#123;&#125;,</span><br><span class="line">  emits: &#123;&#125;,</span><br><span class="line">  template: `...`,</span><br><span class="line"></span><br><span class="line">  // defineCustomElement only: CSS to be injected into shadow root</span><br><span class="line">  styles: [`/* inlined css */`]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">// Register the custom element.</span><br><span class="line">// After registration, all `&lt;my-vue-element&gt;` tags</span><br><span class="line">// on the page will be upgraded.</span><br><span class="line">customElements.define(&apos;my-vue-element&apos;, MyVueElement)</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>åŒ…è£… React ç»„ä»¶:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class XSearch extends HTMLElement &#123;</span><br><span class="line">  connectedCallback() &#123;</span><br><span class="line">    const mountPoint = document.createElement(&apos;span&apos;);</span><br><span class="line">    this.attachShadow(&#123; mode: &apos;open&apos; &#125;).appendChild(mountPoint);</span><br><span class="line"></span><br><span class="line">    const name = this.getAttribute(&apos;name&apos;);</span><br><span class="line">    const url = &apos;https://www.google.com/search?q=&apos; + encodeURIComponent(name);</span><br><span class="line">    const root = ReactDOM.createRoot(mountPoint);</span><br><span class="line">    root.render(&lt;a href=&#123;url&#125;&gt;&#123;name&#125;&lt;/a&gt;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">customElements.define(&apos;x-search&apos;, XSearch);</span><br></pre></td></tr></table></figure>
<p><br><br><br></p>
<p>å°†åŸæœ‰çš„ç»„ä»¶åŒ…è£…æˆ Web Component,  æˆ‘ä»¬éœ€è¦åšä»¥ä¸‹å·¥ä½œï¼š</p>
<ul>
<li>æ€ä¹ˆæŠŠ<code>è‡ªå®šä¹‰å…ƒç´ </code>çš„ Attribute æˆ–è€… Property æ˜ å°„åˆ°ç»„ä»¶çš„ Props?</li>
<li>æ€ä¹ˆå°†ç»„ä»¶çš„äº‹ä»¶å®šä¹‰æ˜ å°„æˆ <code>è‡ªå®šä¹‰å…ƒç´ </code> çš„äº‹ä»¶ï¼Ÿ</li>
<li>ç»„ä»¶çš„æ’æ§½åˆæ€ä¹ˆå¤„ç†ï¼Ÿ</li>
<li>Shadow DOM è¦ä¸è¦ç”¨ï¼Ÿ</li>
</ul>
<p>ä¸‹é¢å¼€å§‹è¯¦ç»†ä»‹ç»è¿™äº›ç»†èŠ‚ã€‚</p>
<p><br><br><br></p>
<h1 id="æ˜ å°„-props"><a href="#æ˜ å°„-props" class="headerlink" title="æ˜ å°„ Props"></a>æ˜ å°„ Props</h1><p>HTML <code>è‡ªå®šä¹‰å…ƒç´ </code>æœ‰ä¸¤ç§è¾“å…¥å‚æ•°å½¢å¼ï¼š<code>HTML Attribute</code> å’Œ <code>Property</code>ã€‚è¿™ä¸¤ä¸ªçš„åŒºåˆ«å°±æ— é¡»è¿‡å¤šä»‹ç»äº†ã€‚Property å°±æ˜¯æ™®é€šçš„ç±»å®ä¾‹å±æ€§ã€‚è€Œ HTML Attribute ç›¸å¯¹ç‰¹æ®Šï¼š</p>
<ul>
<li>HTML Attribute å¯ä»¥åœ¨ HTML ä¸­æºå¸¦ï¼Œæˆ–è€…é€šè¿‡ <code>Element.setAttribute</code> è®¾ç½®</li>
<li>å¹¶ä¸”å®ƒçš„å€¼åªèƒ½æ˜¯å­—ç¬¦ä¸²å½¢å¼ï¼Œå› æ­¤å®ƒåªé€‚åˆä¼ é€’ä¸€äº›ç®€å•çš„åŸå§‹ç±»å‹ã€‚æˆ‘ä»¬å¯èƒ½éœ€è¦è¿›è¡Œè½¬æ¢</li>
<li>Attribute key ä¸åŒºåˆ†å¤§å°å†™ã€‚é€šå¸¸ä¹ æƒ¯ä½¿ç”¨ <code>kebab-case</code> å½¢å¼ã€‚</li>
</ul>
<h2 id="æœ€ä½³å®è·µ"><a href="#æœ€ä½³å®è·µ" class="headerlink" title="æœ€ä½³å®è·µ"></a>æœ€ä½³å®è·µ</h2><p>å…³äºæ€ä¹ˆè®¾è®¡ Attribute å’Œ Propertyï¼Œç¤¾åŒºå·²ç»ç§¯ç´¯äº†å¾ˆå¤šç»éªŒï¼Œå¸¸è§çš„æœ€ä½³å®è·µæœ‰ï¼š</p>
<ul>
<li>å°½é‡åŒæ—¶æä¾› HTML Attribute å’Œ Property ä¸¤ç§å½¢å¼ã€‚å¹¶åœ¨å‘½åå’Œè¡Œä¸ºä¸Šä¿æŒç»Ÿä¸€</li>
<li>ä¸è¦é€šè¿‡ Attribute ä¼ é€’å¤æ‚æ•°æ®(éåŸå§‹ç±»å‹æ•°æ®)</li>
<li>å•æ•°æ®æºï¼ˆSource of truthï¼‰ã€‚å³ä¸ç®¡æ˜¯ Attribute è¿˜æ˜¯ Property éƒ½æ˜¯æ¥æºäºå•ä¸€çš„æ•°æ®æºã€‚</li>
</ul>
<blockquote>
<p>ğŸ’¡ å…³äº Web Component çš„æ›´å¤šæœ€ä½³å®è·µï¼Œå¯ä»¥å‚è€ƒä¸‹é¢æ–‡ç« ï¼š</p>
<ul>
<li><a href="https://web.dev/custom-elements-best-practices/" target="_blank" rel="noopener"> web.dev Custom Element Best Practices</a></li>
<li><a href="https://webcomponents.today/best-practices/" target="_blank" rel="noopener">Best Practices</a></li>
</ul>
</blockquote>
<p>æ¯”å¦‚ç®€å•çš„åœºæ™¯å¯ä»¥å°† Attribute ä½œä¸ºå•ä¸€æ•°æ®æºï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyComponent</span> <span class="keyword">extends</span> <span class="title">HTMLElement</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">get</span> observedAttributes() &#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">'foo'</span>];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  attributeChangedCallback(name, oldValue, newValue) &#123;</span><br><span class="line">    <span class="keyword">if</span> (name === <span class="string">'foo'</span>) &#123;</span><br><span class="line">      <span class="comment">// åœ¨è¿™é‡Œè§¦å‘åŠ¨ä½œ</span></span><br><span class="line">      dosomething()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">get</span> foo() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.getAttribute(<span class="string">'foo'</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">set</span> foo(val) &#123;</span><br><span class="line">    <span class="keyword">this</span>.setAttribute(<span class="string">'foo'</span>, val);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br><br><br></p>
<p>æˆ–è€…ä½¿ç”¨ä¸€ä¸ªã€Œå¯¹è±¡ã€ä½œä¸ºå•ä¸€æ•°æ®æºï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyComponent</span> <span class="keyword">extends</span> <span class="title">HTMLElement</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">super</span>();</span><br><span class="line">    <span class="keyword">this</span>.props = &#123;&#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">get</span> observedAttributes() &#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">'foo'</span>];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  attributeChangedCallback(name, oldValue, newValue) &#123;</span><br><span class="line">    <span class="keyword">this</span>.updateProps(name, newValue);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">get</span> foo() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.props.foo; <span class="comment">// ä» props å¯¹è±¡ä¸­è·å–å€¼</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">set</span> foo(val) &#123;</span><br><span class="line">    <span class="keyword">this</span>.updateProps(<span class="string">'foo'</span>, val, <span class="literal">true</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  updateProps(key, value, updateAttribute = <span class="literal">false</span>) &#123;</span><br><span class="line">    <span class="keyword">this</span>.props[key] = value;</span><br><span class="line">    <span class="keyword">if</span> (updateAttribute) <span class="keyword">this</span>.setAttribute(key, value);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  connectedCallback() &#123;</span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–æ“ä½œ</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.customElements.define(<span class="string">'my-component'</span>, MyComponent);</span><br></pre></td></tr></table></figure>
<p><br><br><br></p>
<p>æ‰‹åŠ¨ç»´æŠ¤ Attribute/Property å¤ªéº»çƒ¦äº†ã€‚</p>
<p>æ¯”å¦‚æˆ‘ä»¬å·²ç»åœ¨ Vue ç»„ä»¶å£°æ˜ä¸­å®šä¹‰äº† propsï¼Œå¯ä»¥ç›´æ¥æ¬è¿‡æ¥ç”¨,  åŸºäºè¿™äº›ä¿¡æ¯æ¥æ‰¹é‡æ·»åŠ  Attribute å’Œ Propertyï¼Œå¦å¤–ä¹Ÿæ–¹ä¾¿æˆ‘ä»¬å¯¹ Attribute è¿›è¡Œç±»å‹è½¬æ¢ï¼Œä»¥ <a href="https://github.com/vuejs/vue-web-component-wrapper/blob/master/src/index.js" target="_blank" rel="noopener">Vue 2</a> ä¸ºä¾‹ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> options = <span class="keyword">typeof</span> Component === <span class="string">'function'</span></span><br><span class="line">      ? Component.options</span><br><span class="line">      : Component</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æå– Props ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">const</span> propsList = <span class="built_in">Array</span>.isArray(options.props)</span><br><span class="line">      ? options.props</span><br><span class="line">      : <span class="built_in">Object</span>.keys(options.props || &#123;&#125;)</span><br><span class="line">    hyphenatedPropsList = propsList.map(hyphenate)</span><br><span class="line">    camelizedPropsList = propsList.map(camelize)</span><br><span class="line">    <span class="keyword">const</span> originalPropsAsObject = <span class="built_in">Array</span>.isArray(options.props) ? &#123;&#125; : options.props || &#123;&#125;</span><br><span class="line">    camelizedPropsMap = camelizedPropsList.reduce(<span class="function">(<span class="params">map, key, i</span>) =&gt;</span> &#123;</span><br><span class="line">      map[key] = originalPropsAsObject[propsList[i]]</span><br><span class="line">      <span class="keyword">return</span> map</span><br><span class="line">    &#125;, &#123;&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ğŸ”´ å®šä¹‰ Properties</span></span><br><span class="line">    camelizedPropsList.forEach(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">Object</span>.defineProperty(CustomElement.prototype, key, &#123;</span><br><span class="line">        <span class="keyword">get</span> () &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="keyword">this</span>._wrapper.props[key]</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="keyword">set</span> (newVal) &#123;</span><br><span class="line">          <span class="keyword">this</span>._wrapper.props[key] = newVal</span><br><span class="line">          <span class="comment">// æ›´æ–°åˆ° attribute </span></span><br><span class="line">          <span class="comment">// ...</span></span><br><span class="line">        &#125;,</span><br><span class="line">        enumerable: <span class="literal">false</span>,</span><br><span class="line">        configurable: <span class="literal">true</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">   <span class="comment">// ğŸ”´ Attribute åŒæ­¥å’Œè½¬æ¢åˆ° props</span></span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">syncAttribute</span> (<span class="params">el, key</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> camelized = camelize(key)</span><br><span class="line">    <span class="keyword">const</span> value = el.hasAttribute(key) ? el.getAttribute(key) : <span class="literal">undefined</span></span><br><span class="line">    el._wrapper.props[camelized] = convertAttributeValue(</span><br><span class="line">      value,</span><br><span class="line">      key,</span><br><span class="line">      camelizedPropsMap[camelized]</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">CustomElement</span> <span class="keyword">extends</span> <span class="title">HTMLElement</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span> () &#123;</span><br><span class="line">      <span class="keyword">const</span> self = <span class="keyword">super</span>()</span><br><span class="line">      self.attachShadow(&#123; <span class="attr">mode</span>: <span class="string">'open'</span> &#125;)</span><br><span class="line">      <span class="comment">// ....</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">// ğŸ”´ ä½¿ç”¨ MutationObserver ç›‘å¬ Attribute å˜åŒ–ï¼Œè¿™æ˜¯å¦ä¸€ç§ç›‘å¬ Attribute å˜åŒ–çš„æ–¹å¼</span></span><br><span class="line">      <span class="keyword">const</span> observer = <span class="keyword">new</span> MutationObserver(<span class="function"><span class="params">mutations</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> hasChildrenChange = <span class="literal">false</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; mutations.length; i++) &#123;</span><br><span class="line">          <span class="keyword">const</span> m = mutations[i]</span><br><span class="line">          <span class="keyword">if</span> (isInitialized &amp;&amp; m.type === <span class="string">'attributes'</span> &amp;&amp; m.target === self) &#123;</span><br><span class="line">            syncAttribute(self, m.attributeName)</span><br><span class="line">          &#125; </span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line">      observer.observe(self, &#123;</span><br><span class="line">        attributes: <span class="literal">true</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>React åŒç†ï¼Œæˆ‘ä»¬éœ€è¦æŒ‰ç…§ä¸€å®šçš„åè®®æ¥å£°æ˜ propsï¼Œç„¶åæ‰¹é‡æ·»åŠ å³å¯ã€‚</p>
<p><br><br><br></p>
<h2 id="æ¡†æ¶æ€ä¹ˆå†³å®šç”¨-html-attribute-è¿˜æ˜¯-property-çš„å‘¢ï¼Ÿ"><a href="#æ¡†æ¶æ€ä¹ˆå†³å®šç”¨-html-attribute-è¿˜æ˜¯-property-çš„å‘¢ï¼Ÿ" class="headerlink" title="æ¡†æ¶æ€ä¹ˆå†³å®šç”¨ HTML Attribute è¿˜æ˜¯ Property çš„å‘¢ï¼Ÿ"></a>æ¡†æ¶æ€ä¹ˆå†³å®šç”¨ HTML Attribute è¿˜æ˜¯ Property çš„å‘¢ï¼Ÿ</h2><p>é‚£ä¹ˆåœ¨å¸¸è§çš„è§†å›¾æ¡†æ¶ä¸­ï¼Œåœ¨å¯¹æ¥<code>è‡ªå®šä¹‰å…ƒç´ </code>æ—¶ï¼Œ<strong>æ˜¯æ€ä¹ˆå†³å®šç”¨ HTML Attribute è¿˜æ˜¯ Property çš„å‘¢ï¼Ÿ</strong></p>
<ul>
<li>Vue 2ã€‚é™¤äº†æŸäº›ç‰¹æ®Šçš„å†…ç½®å­—æ®µä¼šä½¿ç”¨ Propertyï¼Œé»˜è®¤éƒ½ä½¿ç”¨ Attributeï¼Œè¿™ä¸ªåœ¨æ¨¡æ¿ç¼–è¯‘é˜¶æ®µå°±ç¡®å®šä¸‹æ¥äº†ã€‚ä¸è¿‡å¼€å‘è€…å¯ä»¥æ˜¾å¼ä½¿ç”¨ <code>v-bind.prop</code> å¼ºåˆ¶ Propertyã€‚</li>
<li>Vue 3 å’Œ React ä¼šåˆ¤æ–­å…ƒç´ å®ä¾‹ä¸­å­˜ä¸å­˜åœ¨ Propertyï¼ˆé€šå¸¸ç”¨ in æ“ä½œç¬¦ï¼‰ï¼Œå¦‚æœå­˜åœ¨å°±ä½¿ç”¨ Propertyï¼Œå¦åˆ™ä½¿ç”¨ Attributeã€‚</li>
</ul>
<p>å› æ­¤ï¼Œ<strong>æˆ‘ä»¬æœ€å¥½æ˜¯éµå¾ªä¸Šè¿°çš„æœ€ä½³å®è·µï¼Œå¯ä»¥è®©è‡ªå®šä¹‰å…ƒç´ æ›´åŠ æ™®é€‚ï¼Œ å‡å°‘ä½¿ç”¨è€…çš„å¿ƒæ™ºè´Ÿæ‹…</strong>ã€‚</p>
<p><br><br><br><br><br></p>
<h1 id="ä»£ç†äº‹ä»¶"><a href="#ä»£ç†äº‹ä»¶" class="headerlink" title="ä»£ç†äº‹ä»¶"></a>ä»£ç†äº‹ä»¶</h1><p>Web Component ä½¿ç”¨ Custom Event å¯¹å¤–æŠ›å‡ºäº‹ä»¶ã€‚</p>
<p>åœ¨ Vue ä¸‹å¯ä»¥é€šè¿‡æ‹¦æˆª emit æ–¹æ³•æ¥å®ç°ä»£ç†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// ğŸ”´ intercept emit</span><br><span class="line">instance.emit = (event: string, ...args: any[]) =&gt; &#123;</span><br><span class="line">  // dispatch both the raw and hyphenated versions of an event</span><br><span class="line">  // to match Vue behavior</span><br><span class="line">  dispatch(event, args)</span><br><span class="line"></span><br><span class="line">  if (hyphenate(event) !== event) &#123;</span><br><span class="line">    dispatch(hyphenate(event), args)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>React åˆ™éœ€è¦é¢„å…ˆå£°æ˜å¥½éœ€è¦ä»£ç†å“ªäº›äº‹ä»¶ï¼Œé¢„ç”Ÿæˆå¯¹åº”çš„ Propsã€‚</p>
<p><br><br><br></p>
<h2 id="è§†å›¾æ¡†æ¶æ”¯æŒè‡ªå®šä¹‰å…ƒç´ çš„äº‹ä»¶è®¢é˜…å—ï¼Ÿ"><a href="#è§†å›¾æ¡†æ¶æ”¯æŒè‡ªå®šä¹‰å…ƒç´ çš„äº‹ä»¶è®¢é˜…å—ï¼Ÿ" class="headerlink" title="è§†å›¾æ¡†æ¶æ”¯æŒè‡ªå®šä¹‰å…ƒç´ çš„äº‹ä»¶è®¢é˜…å—ï¼Ÿ"></a>è§†å›¾æ¡†æ¶æ”¯æŒè‡ªå®šä¹‰å…ƒç´ çš„äº‹ä»¶è®¢é˜…å—ï¼Ÿ</h2><ul>
<li>Vue æ”¯æŒé€šè¿‡ <code>v-on</code> æ¥ç›‘å¬è‡ªå®šä¹‰å…ƒç´ çš„äº‹ä»¶ã€‚</li>
<li><strong>React ä¸æ”¯æŒï¼</strong>å› ä¸º React ä½¿ç”¨äº†è‡ªå·±çš„<code>åˆæˆäº‹ä»¶</code>(SyntheticEvent)ç³»ç»Ÿï¼Œæ²¡æœ‰æä¾›æ‰‹æ®µæ¥ç›‘å¬èŠ‚ç‚¹çš„åŸç”Ÿäº‹ä»¶ã€‚å› æ­¤è‡ªå®šä¹‰å…ƒç´ çš„äº‹ä»¶åªèƒ½é€šè¿‡ addEventListener æ¥ç›‘å¬ã€‚ è¿™ç¯‡<a href="https://css-tricks.com/3-approaches-to-integrate-react-with-custom-elements/" target="_blank" rel="noopener">æ–‡ç« </a>ä¹Ÿä»‹ç»äº† React ç›‘å¬åŸç”Ÿäº‹ä»¶çš„å‡ ç§æ–¹å¼ã€‚</li>
</ul>
<p><br><br><br></p>
<h1 id="ä¸ä½¿ç”¨-shadow-dom-ï¼Ÿ"><a href="#ä¸ä½¿ç”¨-shadow-dom-ï¼Ÿ" class="headerlink" title="ä¸ä½¿ç”¨  Shadow DOM ï¼Ÿ"></a>ä¸ä½¿ç”¨  Shadow DOM ï¼Ÿ</h1><p>Shadow DOM å°±æ˜¯ä¸€ä¸ªè¶…å¼ºçš„<code>ç»“ç•Œ</code>,  ç›¸äº’éš”ç¦»äº† DOM å’Œæ ·å¼ã€‚ <code>å®¿ä¸»</code>æ— æ³•è®¿é—®å®ƒçš„å†…éƒ¨ç»†èŠ‚ï¼Œå®¿ä¸»çš„æ ·å¼å½±å“ä¸äº† Shadow DOM,  Shadow DOM å†…éƒ¨çš„æ ·å¼ä¹Ÿä¸ä¼šå½±å“å®¿ä¸»ã€‚</p>
<p>Shadow DOM åŸºæœ¬ä¸Šå°±æ˜¯ Web Component çš„ä»£åè¯ã€‚ä½†<strong>å®é™…ä¸Š Shadow DOM å¯¹äº<code>è‡ªå®šä¹‰å…ƒç´ </code>æ¥è¯´æ˜¯å¯é€‰çš„ï¼Œè€Œ Shadow DOM ä¹Ÿå¯ä»¥ç”¨åœ¨<code>è‡ªå®šä¹‰å…ƒç´ </code>ä¹‹å¤–ã€‚</strong></p>
<p>æ‰€ä»¥ç”¨ä¸ç”¨ Shadow DOM ä¹Ÿéœ€è¦æˆ‘ä»¬æ¥æƒè¡¡ã€‚</p>
<p><br></p>
<p>å¾ˆå¤šè§†å›¾æ¡†æ¶å®˜æ–¹æä¾›çš„ Web Component åŒ…è£…æ–¹æ¡ˆï¼Œä½†éƒ½æ˜¯å¼ºåˆ¶ä½¿ç”¨ Shadow DOMçš„ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>Vue 3.x å®˜æ–¹å†…ç½®æ”¯æŒï¼Œä½¿ç”¨ <a href="https://cn.vuejs.org/guide/extras/web-components.html" target="_blank" rel="noopener">defineCustomElement</a> è¿›è¡Œå®šä¹‰</li>
<li>Vue 2.x åˆ™å¯ä»¥é€šè¿‡ Vue CLI æ¥æ„å»ºç”Ÿæˆï¼Œåº•å±‚ç”±  <a href="https://github.com/karol-f/vue-custom-element" target="_blank" rel="noopener">vue-custom-element</a> æ”¯æŒ</li>
<li>â€¦</li>
</ul>
<p><br><br><br></p>
<h2 id="é‚£ä»€ä¹ˆæ—¶å€™ä¸ä½¿ç”¨-shadow-dom-å‘¢ï¼Ÿ"><a href="#é‚£ä»€ä¹ˆæ—¶å€™ä¸ä½¿ç”¨-shadow-dom-å‘¢ï¼Ÿ" class="headerlink" title="é‚£ä»€ä¹ˆæ—¶å€™ä¸ä½¿ç”¨ Shadow DOM å‘¢ï¼Ÿ"></a>é‚£ä»€ä¹ˆæ—¶å€™ä¸ä½¿ç”¨ Shadow DOM å‘¢ï¼Ÿ</h2><p>å¦‚æœæˆ‘ä¸ä½¿ç”¨ Shadow DOM, ç†ç”±ä¼°è®¡åªæœ‰ä¸€ä¸ª â€”â€” <strong>æ ·å¼éš¾ä»¥ç®¡ç†</strong>ï¼</p>
<p>å¦‚æœæ²¡æœ‰ä»»ä½•å†å²åŒ…è¢±çš„ã€åŸå­ç²’åº¦ç»„ä»¶åº“ï¼Œç®¡ç†èµ·æ¥è¦å®¹æ˜“å¾ˆå¤šã€‚æˆ‘ä¹Ÿä¸éœ€è¦å†™ä¸€ç¯‡æ–‡ç« æ¥è®²å®ƒäº†ï¼Œå¸‚é¢ä¸Šæœ‰å¾ˆå¤šæ¡†æ¶å¯ä»¥å¸®æˆ‘ä»¬åˆ›å»º Web Component ç»„ä»¶åº“ï¼Œæ¯”å¦‚ <a href="https://stenciljs.com/docs/react" target="_blank" rel="noopener">Stencil</a>ã€<a href="https://lit.dev/" target="_blank" rel="noopener">Lit</a>ã€è¿˜æœ‰å“ˆå•°å›¢é˜Ÿæœ€è¿‘å¼€æºçš„ <a href="https://quarkc.hellobike.com/#/" target="_blank" rel="noopener">Quarkc</a>â€¦</p>
<p>è€Œè€æ—§é¡¹ç›®å¯¹å¤–æš´éœ²çš„ä¸šåŠ¡ç»„ä»¶ï¼Œé¦–å…ˆç²’åº¦ä¼šæ¯”è¾ƒå¤§ï¼Œè¿˜å¯èƒ½ä¼šä¾èµ–æ‰€åœ¨å­åº”ç”¨çš„å…¨å±€æ ·å¼ã€ç¬¬ä¸‰æ–¹ç»„ä»¶åº“æ ·å¼ç­‰ç­‰ã€‚è¿™äº›æ ·å¼çš„æå–ã€å¤§é‡æ ·å¼åº”ç”¨çš„æ€§èƒ½éƒ½æ˜¯æ¯”è¾ƒå¤§çš„é—®é¢˜ã€‚</p>
<blockquote>
<p>è¾ƒæ–°çš„æµè§ˆå™¨æ”¯æŒ <a href="http://developer.mozilla.org/en-US/docs/Web/API/ShadowRoot/adoptedStyleSheets" target="_blank" rel="noopener">adoptedStyleSheets</a> ï¼Œå¯ä»¥è®©<code>æ„é€ æ ·å¼è¡¨</code>(Constructed stylesheet) åº”ç”¨åˆ°å¤šä¸ª Shadow Root ä¸­ï¼Œå®ç°å…±äº«ã€‚ ä½†ä¹Ÿéœ€è¦å¼€å‘è€…æ¥ç®¡ç†æ ·å¼ã€‚</p>
</blockquote>
<p><br><br><br></p>
<h2 id="å¦‚æœä¸ä½¿ç”¨-shadow-dom-ä¼šæœ‰ä»€ä¹ˆåæœï¼Ÿ"><a href="#å¦‚æœä¸ä½¿ç”¨-shadow-dom-ä¼šæœ‰ä»€ä¹ˆåæœï¼Ÿ" class="headerlink" title="å¦‚æœä¸ä½¿ç”¨ Shadow DOM ä¼šæœ‰ä»€ä¹ˆåæœï¼Ÿ"></a>å¦‚æœä¸ä½¿ç”¨ Shadow DOM ä¼šæœ‰ä»€ä¹ˆåæœï¼Ÿ</h2><ul>
<li>æˆ‘ä»¬éœ€è¦è‡ªè¡Œå¤„ç†å…¨å±€æ ·å¼æ±¡æŸ“é—®é¢˜ã€‚</li>
<li>æ— æ³•ä½¿ç”¨ Slotã€‚</li>
<li>DOM å¹²æ‰°</li>
<li>â€¦</li>
</ul>
<p><br><br><br><br><br></p>
<h1 id="slot-æ’æ§½"><a href="#slot-æ’æ§½" class="headerlink" title="Slot æ’æ§½"></a>Slot æ’æ§½</h1><p>ä¸ä½¿ç”¨ Shadow DOMï¼Œæ¯”è¾ƒå¤§å½±å“å°±æ˜¯æ— æ³•ä½¿ç”¨åŸç”Ÿ Slotã€‚</p>
<p>å…ˆæ¥ç®€å•çœ‹çœ‹å®ƒçš„ç”¨æ³•ï¼Œå’Œæ—©æœŸçš„ Vue éå¸¸ç›¸ä¼¼ã€‚æˆ–è€…è¯´ Vue åœ¨ç«­åŠ›å¯¹é½ Web æ ‡å‡†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template id=&quot;my-component&quot;&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;slot name=&quot;header&quot;&gt;Default header&lt;/slot&gt;</span><br><span class="line">    &lt;slot name=&quot;body&quot;&gt;Default body&lt;/slot&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  class MyComponent extends HTMLElement &#123;</span><br><span class="line">    constructor() &#123;</span><br><span class="line">      super();</span><br><span class="line"></span><br><span class="line">      const template = document.getElementById(&apos;my-component&apos;);</span><br><span class="line">      const node = document.importNode(template.content, true);</span><br><span class="line">      this.attachShadow(&#123; mode: &apos;open&apos; &#125;).appendChild(node);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  customElements.define(&apos;my-component&apos;, MyComponent);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">ä½¿ç”¨</span><br><span class="line">&lt;my-component&gt;</span><br><span class="line">  &lt;span slot=&quot;header&quot;&gt;Custom Header&lt;/span&gt;</span><br><span class="line">  &lt;span slot=&quot;body&quot;&gt;Custom Body&lt;/span&gt;</span><br><span class="line">&lt;/my-component&gt;</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>æµè§ˆå™¨åœ¨ DOM æ¸²æŸ“æ—¶ï¼Œä¼šå°†è‡ªå®šä¹‰å…ƒç´ ä¸‹çš„å®¿ä¸» DOM èŠ‚ç‚¹åˆ†é…(Assign) ç»™ Shadow Root çš„ Slot å…ƒç´ ï¼š</p>
<p><img src="/images/web-component/Untitled%204.png" alt="Assignment"></p>
<p>ä¸è¿‡ slot ç›¸æ¯” Vue çš„æ’æ§½å°±è¦å¼±åŒ–å¾ˆå¤šäº†ã€‚æ¯”å¦‚ä¸æ”¯æŒä½œç”¨åŸŸæ’æ§½(Scoped Slot)ã€‚å› æ­¤å®ƒåªèƒ½ç®€å•æ»¡è¶³ä¸€äº› DOM èŠ‚ç‚¹çš„æ›¿æ¢ã€‚</p>
<p><br><br><br><br><br></p>
<h2 id="å…ˆæ¥çœ‹çœ‹ä¸»æµçš„è§†å›¾æ¡†æ¶æ”¯ä¸æ”¯æŒåŸç”Ÿ-slotï¼Ÿ"><a href="#å…ˆæ¥çœ‹çœ‹ä¸»æµçš„è§†å›¾æ¡†æ¶æ”¯ä¸æ”¯æŒåŸç”Ÿ-slotï¼Ÿ" class="headerlink" title="å…ˆæ¥çœ‹çœ‹ä¸»æµçš„è§†å›¾æ¡†æ¶æ”¯ä¸æ”¯æŒåŸç”Ÿ Slotï¼Ÿ"></a>å…ˆæ¥çœ‹çœ‹ä¸»æµçš„è§†å›¾æ¡†æ¶æ”¯ä¸æ”¯æŒåŸç”Ÿ Slotï¼Ÿ</h2><ul>
<li><p>Vue 2ã€‚å› ä¸º slot å’Œ Vue æœ¬èº«çš„æ’æ§½æœºåˆ¶æ˜¯å†²çªçš„ï¼Œ å¦‚æœä½ é€šè¿‡<a href="https://github.com/vuejs/vue-web-component-wrapper" target="_blank" rel="noopener">https://github.com/vuejs/vue-web-component-wrapper</a> æ¥åˆ›å»ºè‡ªå®šä¹‰å…ƒç´ ï¼Œå®ƒçš„æ–¹æ¡ˆæ¯”è¾ƒ Hack, å®ƒä¼šç›‘å¬å®¿ä¸» Light DOM èŠ‚ç‚¹çš„å˜åŒ–ï¼Œç„¶åå°†è¿™äº› DOM èŠ‚ç‚¹çš„ <code>innerHTML</code> æå–å‡ºæ¥ï¼Œå†æ¬è¿åˆ° Shadow DOM ä¸‹ï¼š</p>
  <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">  // ç›‘å¬ Light DOM</span><br><span class="line">  const observer = new MutationObserver(mutations =&gt; &#123;</span><br><span class="line">     // ... çœç•¥</span><br><span class="line">     if (hasChildrenChange) &#123;</span><br><span class="line">       // ğŸ”´ toVnodes ä½¿ç”¨ è½¬æ¢ childNodes ä¸º innerHTMLï¼Œå†è½¬æˆ VNode</span><br><span class="line">       wrapper.slotChildren = Object.freeze(toVNodes(</span><br><span class="line">         wrapper.$createElement,</span><br><span class="line">         self.childNodes</span><br><span class="line">       ))</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;)</span><br><span class="line">    </span><br><span class="line">const wrapper = self._wrapper = new Vue(&#123;</span><br><span class="line">     name: &apos;shadow-root&apos;,</span><br><span class="line">     customElement: self,</span><br><span class="line">     shadowRoot: self.shadowRoot,</span><br><span class="line">     data () &#123;</span><br><span class="line">       return &#123;</span><br><span class="line">         props: &#123;&#125;,</span><br><span class="line">         slotChildren: []</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;,</span><br><span class="line">     render (h) &#123;</span><br><span class="line">       return h(Component, &#123;</span><br><span class="line">         ref: &apos;inner&apos;,</span><br><span class="line">         props: this.props</span><br><span class="line">       // ğŸ”´ VNode æ¸²æŸ“</span><br><span class="line">       &#125;, this.slotChildren)</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li>Vue 3ã€‚è€Œ Vue 3 çš„ <code>&lt;slot&gt;</code> åœ¨<code>è‡ªå®šä¹‰å…ƒç´ ï¼ˆisCEï¼‰æ¨¡å¼</code>ï¼ˆdefineCustomElementï¼‰ä¸‹, ä¼šæ¸²æŸ“æˆçœŸæ­£ Slot HTML å…ƒç´ </li>
<li>Reactã€‚React æœ¬èº«æ²¡æœ‰ slot çš„æ¦‚å¿µï¼Œä¸å­˜åœ¨å†²çªï¼Œæ‰€ä»¥ slot ä¹Ÿæ˜¯æ¸²æŸ“æˆ Slot HTML å…ƒç´ ã€‚</li>
</ul>
<p><br><br><br><br><br></p>
<h2 id="å¦‚æœä¸ä½¿ç”¨-slot-è¿˜æœ‰å“ªäº›å›é€€æ–¹æ¡ˆï¼Ÿ"><a href="#å¦‚æœä¸ä½¿ç”¨-slot-è¿˜æœ‰å“ªäº›å›é€€æ–¹æ¡ˆï¼Ÿ" class="headerlink" title="å¦‚æœä¸ä½¿ç”¨ slot è¿˜æœ‰å“ªäº›å›é€€æ–¹æ¡ˆï¼Ÿ"></a>å¦‚æœä¸ä½¿ç”¨ slot è¿˜æœ‰å“ªäº›å›é€€æ–¹æ¡ˆï¼Ÿ</h2><p>å¯ä»¥ç†è§£  Web Component çš„ slot å¯ä»¥ç†è§£ä¸º DOM èŠ‚ç‚¹çš„ã€Œæ¬è¿å·¥ã€ã€‚å°† Light DOM æ¬è¿› Shadow DOM,  å°½ç®¡è¿™ç§è¯´æ³•å¯èƒ½ä¸ä¸¥è°¨ã€‚</p>
<blockquote>
<p>ğŸ’¡ä»å°† Light DOM ã€Œæ¬è¿›ã€ Shadow DOM çš„è¿‡ç¨‹ç§°ä¸ºâ€œ<code>åˆ†é…</code>â€ï¼ˆ<code>Assignment</code>ï¼‰ æˆ–è€…â€™èµ‹å€¼â€˜ã€‚è¿™å¹¶ä¸æ˜¯ç®€å•çš„å°† DOM èŠ‚ç‚¹ç§»åŠ¨åˆ° Shadow DOMï¼Œæ•´ä¸ªè¿‡ç¨‹æœ‰ç‚¹åƒå˜é‡â€™å¼•ç”¨â€˜ï¼Œ æ’æ§½çš„å†…å®¹å’Œä½œç”¨åŸŸè¿˜åœ¨å®¿ä¸» DOM,  è€Œæ’å…¥ Shadow DOM å†…éƒ¨åªæ˜¯ä¸€ä¸ªâ€™åˆ†èº«â€˜ã€‚</p>
</blockquote>
<p><br></p>
<p>å¦‚æœä¸æ˜¯ç”¨ Shadow DOM,  è¿˜æœ‰ä¸€äº›æ‰‹æ®µæ¥å®ç°ç±»ä¼¼æ’æ§½çš„æ•ˆæœï¼š</p>
<p>æ–¹æ³•ä¸€ï¼Œ<strong>ä¼ å…¥ HTML å­—ç¬¦ä¸²ã€‚è¿™æ˜¯æœ€ç®€å•ã€æœ€æ™®é€‚çš„æ–¹æ¡ˆäº†</strong>ã€‚è‡³äºäº‹ä»¶ï¼Œå¯ä»¥é€šè¿‡å†’æ³¡å§”æ‰˜ã€‚</p>
<p><br></p>
<hr>
<p><br></p>
<p>æ–¹æ³•äºŒæ˜¯å®šä¹‰ä¸€äº›<code>å…ƒç´ é”šç‚¹</code>(Anchor)ï¼Œä¾›å¤–éƒ¨æ¥ä¿®æ”¹è¿™ä¸ª DOM èŠ‚ç‚¹ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨  Vue 3 çš„ <code>Teleport</code> æˆ–è€… React <code>Portal</code> ä¹‹ç±»çš„æŠ€æœ¯æ¥æŒ‚è½½ã€‚ä¸‹é¢æ˜¯ Vue ç¤ºä¾‹:</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> Demo = defineComponent(&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="comment">// å®šä¹‰æ’æ§½</span></span><br><span class="line">    <span class="keyword">return</span> h(<span class="string">"div"</span>, [h(<span class="string">"div"</span>, &#123; <span class="string">"data-slot"</span>: <span class="string">"header"</span> &#125;)]);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DemoElement</span> <span class="keyword">extends</span> <span class="title">HTMLElement</span> </span>&#123;</span><br><span class="line">  connectedCallback() &#123;</span><br><span class="line">    <span class="keyword">this</span>.vm = createApp(Demo);</span><br><span class="line">    <span class="keyword">this</span>.vm.mount(<span class="keyword">this</span>);</span><br><span class="line">    <span class="keyword">this</span>.dispatchEvent(<span class="keyword">new</span> CustomEvent(<span class="string">"ready"</span>));</span><br><span class="line">  &#125;</span><br><span class="line">  disconnectedCallback() &#123;</span><br><span class="line">    <span class="keyword">this</span>.vm.unmount();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (!customElements.get(<span class="string">"wk-demo"</span>)) &#123;</span><br><span class="line">  customElements.define(<span class="string">"wk-demo"</span>, DemoElement);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span>    </span><br><span class="line">  <span class="tag">&lt;<span class="name">wk-demo</span> @<span class="attr">ready</span>=<span class="string">"handleReady"</span>&gt;</span><span class="tag">&lt;/<span class="name">wk-demo</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">Teleport</span> <span class="attr">v-if</span>=<span class="string">"demoRef"</span> <span class="attr">:to</span>=<span class="string">"demoRef.querySelector('[data-slot=header]')"</span>&gt;</span></span><br><span class="line">    hello header</span><br><span class="line">  <span class="tag">&lt;/<span class="name">Teleport</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> handleReady = <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="undefined">  demoRef.value = event.target;</span></span><br><span class="line"><span class="undefined">&#125;;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>è™½ç„¶å¯ä»¥å·¥ä½œï¼Œä½†æ˜¯ä¸æ˜¯ç‰¹åˆ«ä¼˜é›…ã€‚</p>
<p><br></p>
<hr>
<p><br></p>
<p><a href="https://stenciljs.com/" target="_blank" rel="noopener">Stenciljs</a> æä¾›å¦ä¸€ç§æ€è·¯ â€”â€” <code>Slot Relocation</code> (æ’æ§½é‡å®šä½)ã€‚</p>
<p>Stencil æ˜¯ä¸€ä¸ª Web Component ç¼–è¯‘å™¨ï¼Œå› ä¸ºæ—©æœŸæµè§ˆå™¨å¯¹ Shadow DOM æ”¯æŒæ¯”è¾ƒå·®ï¼ŒåŸºäºå…¼å®¹æ€§çš„è€ƒè™‘ï¼Œ Stencil å¹¶ä¸å¼ºåˆ¶æ‰€æœ‰åŠŸèƒ½éƒ½å’Œ Shadow DOM ç»‘å®šã€‚slot å°±æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</p>
<p><br></p>
<p>é‚£å®ƒæ˜¯æ€ä¹ˆæ¨¡æ‹Ÿ slot çš„å‘¢ï¼Ÿæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç¤ºä¾‹æ¥å±•å¼€çœ‹çœ‹ï¼š</p>
<p>ç»„ä»¶å®šä¹‰ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">// my-component.tsx</span><br><span class="line"></span><br><span class="line">render()&#123;</span><br><span class="line">  return [</span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">"item-start"</span>&gt;</span>fallback content<span class="tag">&lt;/<span class="name">slot</span>&gt;</span>,</span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Here is my main content<span class="tag">&lt;/<span class="name">h1</span>&gt;</span>,</span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">"item-end"</span> /&gt;</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç»„ä»¶ä½¿ç”¨ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">render()&#123;</span><br><span class="line">  return(</span><br><span class="line">    <span class="tag">&lt;<span class="name">my-component</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">slot</span>=<span class="string">"item-start"</span>&gt;</span>I'll be placed before the h1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">slot</span>=<span class="string">"item-end"</span>&gt;</span>I'll be placed after the h1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ¸²æŸ“ç»“æœï¼š</p>
<p><img src="/images/web-component/Untitled%205.png" alt="Stencil æ¸²æŸ“ç»“æœ"></p>
<p>æˆ‘ä»¬æ¥å›¾è§£ä¸€ä¸‹å®ƒçš„æ¸²æŸ“æµç¨‹ï¼š</p>
<p><img src="/images/web-component/Untitled%206.png" alt="Stencil æ¸²æŸ“æµç¨‹"></p>
<p>Stencil å®é™…ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªåŸºäº Virtual DOM çš„æ¡†æ¶</p>
<ul>
<li>æŒ‚è½½å‰ï¼š æ’æ§½çš„ DOM èŠ‚ç‚¹å®é™…ä¸Šåœ¨ <code>connectedCallback</code> ï¼ˆå³æŒ‚è½½ï¼‰è°ƒç”¨ä¹‹å‰ï¼Œå°±å·²ç»å­˜åœ¨ã€‚</li>
<li>æ¸²æŸ“åï¼š Stencil åœ¨æ¸²æŸ“æ—¶ä¸ä¼šå®Œå…¨æ¸…ç©ºå®¿ä¸»å…ƒç´ (host)ï¼Œæ¸²æŸ“çš„å†…å®¹ä»¥ append çš„å½¢å¼è¿½åŠ åˆ°å®¿ä¸»å…ƒç´ </li>
<li>é‡æ–°å®šä½ï¼š æ¸²æŸ“å®Œæˆåï¼Œå°±ä¼šå¼€å§‹æ’æ§½é‡å®šä½ã€‚stencil ä¼šéå†å®¿ä¸»å…ƒç´ ä¸‹çš„å­èŠ‚ç‚¹ï¼Œæ‰¾å‡ºæ‰€æœ‰é Virtual DOM æ¸²æŸ“å‡ºæ¥çš„èŠ‚ç‚¹(ä¸¾ä¸ªä¾‹å­ï¼ŒVirtual DOM æ¸²æŸ“å‡ºæ¥çš„èŠ‚ç‚¹ä¼šæœ‰ç‰¹æ®Šçš„æ ‡è®°ï¼Œ å¯ä»¥æ’é™¤æ‰)ã€‚æ¥ç€å¯¹è¿™äº›èŠ‚ç‚¹, æ ¹æ® <code>slot=*</code> å£°æ˜è¿›è¡Œé‡å®šä½ï¼Œæ’å…¥åˆ°å¯¹åº”çš„ <code>&lt;slot-fb&gt;</code> ä¹‹å</li>
<li>éšè—æ’æ§½ Fallback:  æ¥ç€å°†å·²ç»è¢«å ç”¨çš„ <code>&lt;slot-fb&gt;</code>  è®¾ç½®ä¸º  hiddenï¼Œéšè—æ‰</li>
</ul>
<p><br><br><br></p>
<p>è¿™ç§æ€è·¯æœ‰ä¸€äº›å€Ÿé‰´æ„ä¹‰ã€‚ä¸è¿‡å®ƒç›®å‰ä¹Ÿæœ‰å¾ˆå¤šç¼ºé™·ï¼šStencil åªæ˜¯åœ¨é¦–æ¬¡æŒ‚è½½æ—¶æ‰ä¼šè¿›è¡Œâ€˜é‡å®šä½â€™ï¼Œ ä¸ä¼šåŠ¨æ€ç›‘å¬å…ƒç´ æ–°å¢å’Œç§»é™¤ã€‚æ¯”å¦‚ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> el = <span class="built_in">document</span>.querySelector(<span class="string">'my-component'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŠ¨æ€æ“ä½œä¸ä¼šè¢«é‡æ–°å®šä½</span></span><br><span class="line">el.appendChild(...)</span><br><span class="line">el.innerHTML = ...</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>è¿™ä¹Ÿå¯¼è‡´äº†ï¼Œå®ƒå’Œå…¶ä»–è§†å›¾æ¡†æ¶é…åˆä½¿ç”¨æ—¶ï¼Œæœªå¿…èƒ½æ­£å¸¸å·¥ä½œã€‚</p>
<p><br></p>
<p>æ¯”å¦‚ä¸‹é¢ä½¿ç”¨ JSX æ¡ä»¶æ¸²æŸ“ <code>footer</code>ï¼Œåº•å±‚çš„æ“ä½œå°±æ˜¯åœ¨ <code>app-foo</code> èŠ‚ç‚¹ä¸Šæ‰§è¡Œ <code>remove</code> å’Œ <code>insert</code> æ“ä½œï¼Œè¿™å°†å¯¼è‡´ Stencil çš„æ’æ§½é‡å®šä½å¤±æ•ˆï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">render() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;app-foo&gt;</span><br><span class="line">        &lt;div onClick=&#123;() =&gt; &#123; this.count++; &#125;&#125;&gt;world&lt;/div&gt;</span><br><span class="line">        &#123;this.count % 2 === 0 &amp;&amp; &lt;footer slot=&quot;footer&quot;&gt;footer: &#123;this.count&#125;&lt;/footer&gt;&#125;</span><br><span class="line">      &lt;/app-foo&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br><br><br><br><br></p>
<p>æ¯•ç«Ÿæœ¬è´¨ä¸Š<code>æ’æ§½é‡å®šä½</code>å’Œ Shadow DOM slot è¿˜æ˜¯ä¸ä¸€æ ·ã€‚Shadow DOM æ–¹æ¡ˆä¼šéš”ç¦»å‡º Light DOM å’Œ Shadow DOM ä¸¤ä¸ªä¸åŒçš„ç©ºé—´ï¼ŒDOM çš„æ“ä½œäº’ä¸å¹²æ‰°ã€‚</p>
<p><strong>å¦‚æœæ²¡æœ‰ä½¿ç”¨ Shadow DOM , è¿™äº›æ“ä½œéƒ½æ˜¯ä¸å®‰å…¨çš„ï¼Œä¼šç ´å Stencil æ¸²æŸ“çš„ç»“æœã€‚</strong></p>
<p>ç»¼ä¸Šï¼Œç›®å‰æœ€ä¸ºæ™®é€‚å’Œçµæ´»çš„æ–¹æ¡ˆè¿˜æ˜¯å­—ç¬¦ä¸² HTMLã€‚</p>
<p><br><br><br></p>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æœ¬æ–‡å°† Web Component å®šä¹‰ä¸ºè·¨æ¡†æ¶çš„<code>å¾®åº”ç”¨</code>ä¹‹é—´çš„é€šç”¨åè®®ã€‚ä»‹ç»äº†å°†å·²æœ‰ç»„ä»¶ä»¥ Web Component å½¢å¼å¯¹å¤–æš´éœ²çš„å„ç§æŠ€æœ¯ç»†èŠ‚ï¼Œ ä»¥åŠä¸»æµè§†å›¾æ¡†æ¶å¯¹ Web Component çš„æ”¯æŒç¨‹åº¦ã€‚</p>
<p>å½“æˆ‘ä»¬éœ€è¦å°è£…ä¸€ä¸ª Web Component æ—¶éœ€è¦å¤„ç†ä»¥ä¸‹äº‹æƒ…ï¼š</p>
<ul>
<li>å¦‚ä½•å°†è‡ªå®šä¹‰å…ƒç´ çš„ Attribute å’Œ Property æ˜ å°„åˆ°ç»„ä»¶ Propsã€‚æœ¬æ–‡åˆ—ä¸¾äº†ä¸€äº›æœ€ä½³å®è·µ</li>
<li>å¦‚ä½•å°†ç»„ä»¶çš„äº‹ä»¶ä»£ç†å‡ºå»ã€‚</li>
<li>æƒè¡¡è¦ä¸è¦ä½¿ç”¨ Shadow DOMã€‚</li>
<li>æ’æ§½çš„ä½¿ç”¨ç­‰ç­‰ã€‚</li>
</ul>
<p>æ€»å¾—æ¥è¯´ï¼ŒWeb Component ä½œä¸ºä¸€ä¸ªæ ‡å‡†çš„ã€åº•å±‚çš„æŠ€æœ¯ï¼Œåœ¨ç›®å‰çœ‹æ¥æ˜¯ä¸èƒ½è¦†ç›–ç°åœ¨ä¸»æµè§†å›¾æ¡†æ¶çš„æ‰€æœ‰èƒ½åŠ›çš„ï¼Œå“ªäº›èƒ½åŠ›éœ€è¦è¿›è¡Œå–èˆï¼Œéœ€è¦å¼€å‘è€…è‡ªè¡Œæƒè¡¡ã€‚</p>
<h1 id="æ‰©å±•é˜…è¯»"><a href="#æ‰©å±•é˜…è¯»" class="headerlink" title="æ‰©å±•é˜…è¯»"></a>æ‰©å±•é˜…è¯»</h1><ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_components" target="_blank" rel="noopener">MDN çš„ç›¸å…³æ•™ç¨‹</a></li>
<li>Web Component æœ€ä½³å®è·µ<ul>
<li><a href="https://web.dev/custom-elements-best-practices/" target="_blank" rel="noopener">web.dev Custom Element Best Practices</a></li>
<li><a href="https://webcomponents.today/best-practices/" target="_blank" rel="noopener">Best Practices</a></li>
</ul>
</li>
<li>å›¾ä¹¦æ¨è<ul>
<li>Developing Web Components with TypeScript Native Web Development Using Thin Libraries</li>
<li>Web Components in Action</li>
</ul>
</li>
<li>ç»„ä»¶åŒ…è£…<ul>
<li><a href="https://github.com/vuejs/vue-web-component-wrapper" target="_blank" rel="noopener">vue-web-component-wrapper</a></li>
<li><a href="https://github.com/bitovi/react-to-web-component/tree/main/packages/react-to-web-component" target="_blank" rel="noopener">react-to-web-component</a></li>
</ul>
</li>
<li>Web Component æ¡†æ¶<ul>
<li><strong>StencilJS</strong></li>
<li><strong>LitElement</strong></li>
<li>Quarkc</li>
</ul>
</li>
<li><a href="https://www.notion.so/Vue-2-3-ca2b6bf71c564dfa90fb09ae92fff599?pvs=21" target="_blank" rel="noopener">Vue 2/3 çš„äº’æ“ä½œæ€§</a></li>
<li><strong><a href="https://dev.to/steveblue/the-state-of-web-components-in-2022-1ip3" target="_blank" rel="noopener">The State Of Web Components in 2022</a></strong></li>
<li><strong><strong><a href="https://cn.vuejs.org/guide/extras/web-components.html" target="_blank" rel="noopener">Vue ä¸ Web Components</a></strong></strong></li>
</ul>

  </div>
</article>

    <div class="blog-post-comments">
        <div id="disqus_thread">
            <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        </div>
    </div>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Blogs</a></li>
         
          <li><a href="http://github.com/ivan-94">Projects</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#web-component-æ˜¯å‰ç«¯é€šç”¨åè®®"><span class="toc-number">1.</span> <span class="toc-text">Web Component æ˜¯å‰ç«¯é€šç”¨åè®®</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#web-component-æ¦‚è§ˆ"><span class="toc-number">2.</span> <span class="toc-text">Web component æ¦‚è§ˆ</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#æ˜ å°„-props"><span class="toc-number">3.</span> <span class="toc-text">æ˜ å°„ Props</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#æœ€ä½³å®è·µ"><span class="toc-number">3.1.</span> <span class="toc-text">æœ€ä½³å®è·µ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#æ¡†æ¶æ€ä¹ˆå†³å®šç”¨-html-attribute-è¿˜æ˜¯-property-çš„å‘¢ï¼Ÿ"><span class="toc-number">3.2.</span> <span class="toc-text">æ¡†æ¶æ€ä¹ˆå†³å®šç”¨ HTML Attribute è¿˜æ˜¯ Property çš„å‘¢ï¼Ÿ</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ä»£ç†äº‹ä»¶"><span class="toc-number">4.</span> <span class="toc-text">ä»£ç†äº‹ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#è§†å›¾æ¡†æ¶æ”¯æŒè‡ªå®šä¹‰å…ƒç´ çš„äº‹ä»¶è®¢é˜…å—ï¼Ÿ"><span class="toc-number">4.1.</span> <span class="toc-text">è§†å›¾æ¡†æ¶æ”¯æŒè‡ªå®šä¹‰å…ƒç´ çš„äº‹ä»¶è®¢é˜…å—ï¼Ÿ</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ä¸ä½¿ç”¨-shadow-dom-ï¼Ÿ"><span class="toc-number">5.</span> <span class="toc-text">ä¸ä½¿ç”¨  Shadow DOM ï¼Ÿ</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#é‚£ä»€ä¹ˆæ—¶å€™ä¸ä½¿ç”¨-shadow-dom-å‘¢ï¼Ÿ"><span class="toc-number">5.1.</span> <span class="toc-text">é‚£ä»€ä¹ˆæ—¶å€™ä¸ä½¿ç”¨ Shadow DOM å‘¢ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#å¦‚æœä¸ä½¿ç”¨-shadow-dom-ä¼šæœ‰ä»€ä¹ˆåæœï¼Ÿ"><span class="toc-number">5.2.</span> <span class="toc-text">å¦‚æœä¸ä½¿ç”¨ Shadow DOM ä¼šæœ‰ä»€ä¹ˆåæœï¼Ÿ</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#slot-æ’æ§½"><span class="toc-number">6.</span> <span class="toc-text">Slot æ’æ§½</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#å…ˆæ¥çœ‹çœ‹ä¸»æµçš„è§†å›¾æ¡†æ¶æ”¯ä¸æ”¯æŒåŸç”Ÿ-slotï¼Ÿ"><span class="toc-number">6.1.</span> <span class="toc-text">å…ˆæ¥çœ‹çœ‹ä¸»æµçš„è§†å›¾æ¡†æ¶æ”¯ä¸æ”¯æŒåŸç”Ÿ Slotï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#å¦‚æœä¸ä½¿ç”¨-slot-è¿˜æœ‰å“ªäº›å›é€€æ–¹æ¡ˆï¼Ÿ"><span class="toc-number">6.2.</span> <span class="toc-text">å¦‚æœä¸ä½¿ç”¨ slot è¿˜æœ‰å“ªäº›å›é€€æ–¹æ¡ˆï¼Ÿ</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#æ€»ç»“"><span class="toc-number">7.</span> <span class="toc-text">æ€»ç»“</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#æ‰©å±•é˜…è¯»"><span class="toc-number">8.</span> <span class="toc-text">æ‰©å±•é˜…è¯»</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://bobi.ink/2023/08/03/web-component/"><i class="fa fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://bobi.ink/2023/08/03/web-component/&text=æ¥ä¸€ç“¶  Web Component é­”æ³•èƒ¶æ°´"><i class="fa fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://bobi.ink/2023/08/03/web-component/&title=æ¥ä¸€ç“¶  Web Component é­”æ³•èƒ¶æ°´"><i class="fa fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://bobi.ink/2023/08/03/web-component/&is_video=false&description=æ¥ä¸€ç“¶  Web Component é­”æ³•èƒ¶æ°´"><i class="fa fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=æ¥ä¸€ç“¶  Web Component é­”æ³•èƒ¶æ°´&body=Check out this article: https://bobi.ink/2023/08/03/web-component/"><i class="fa fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://bobi.ink/2023/08/03/web-component/&title=æ¥ä¸€ç“¶  Web Component é­”æ³•èƒ¶æ°´"><i class="fa fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://bobi.ink/2023/08/03/web-component/&title=æ¥ä¸€ç“¶  Web Component é­”æ³•èƒ¶æ°´"><i class="fa fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://bobi.ink/2023/08/03/web-component/&title=æ¥ä¸€ç“¶  Web Component é­”æ³•èƒ¶æ°´"><i class="fa fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://bobi.ink/2023/08/03/web-component/&title=æ¥ä¸€ç“¶  Web Component é­”æ³•èƒ¶æ°´"><i class="fa fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://bobi.ink/2023/08/03/web-component/&name=æ¥ä¸€ç“¶  Web Component é­”æ³•èƒ¶æ°´&description="><i class="fa fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
      <ul>
        <li id="toc"><a class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa fa-list fa-lg" aria-hidden="true"></i> TOC</a></li>
        <li id="share"><a class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa fa-share-alt fa-lg" aria-hidden="true"></i> Share</a></li>
        <li id="top" style="display:none"><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a></li>
        <li id="menu"><a class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa fa-bars fa-lg" aria-hidden="true"></i> Menu</a></li>
      </ul>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2023 Ivan
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Blogs</a></li>
         
          <li><a href="http://github.com/ivan-94">Projects</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>
<!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="/lib/meslo-LG/styles.css">
<link rel="stylesheet" href="/lib/justified-gallery/justifiedGallery.min.css">

<!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>


    <!-- Google Analytics -->
    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-44571525-2', 'auto');
        ga('send', 'pageview');
    </script>


    <!-- Disqus Comments -->
    <script type="text/javascript">
        var disqus_shortname = 'bobi-ink';

        (function(){
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        }());
    </script>


