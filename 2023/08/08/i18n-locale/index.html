<!DOCTYPE html>
<html lang=zh>
<head><meta name="generator" content="Hexo 3.8.0">
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="åˆå¼€äº†ä¸ªæ–°å‘ï¼Œæ¥è®²è®²å‰ç«¯å›½é™…åŒ–ã€‚  å¼€ç¯‡ä¹‹å‰ï¼Œè¯»è€…éœ€è¦åŒºåˆ†å¥½å›½é™…åŒ–(i18n - internationalization)å’Œæœ¬åœ°åŒ–(l10n - localization) ï¼Œ å®ƒä»¬æ˜¯ç›¸äº’å…³è”ä½†åˆä¸åŒçš„æ¦‚å¿µï¼š  å›½é™…åŒ–ï¼ˆi18nï¼‰ï¼šè¿™æ˜¯ä¸€ä¸ªè®¾è®¡å’Œå¼€å‘è¿‡ç¨‹ï¼Œç¡®ä¿äº§å“ï¼ˆå¦‚è½¯ä»¶ã€ç½‘ç«™æˆ–åº”ç”¨ï¼‰èƒ½å¤Ÿåœ¨ä¸åšä»»ä½•ä¿®æ”¹çš„æƒ…å†µä¸‹é€‚åº”ä¸åŒçš„è¯­è¨€å’Œåœ°åŒºã€‚è¿™æ¶‰åŠåˆ°ä»ä¸€å¼€å§‹å°±é¢„ç•™ç©ºé—´ç”¨äºæ–‡æœ¬æ‰©å±•ï¼Œç¡®ä¿æ—¥æœŸå’Œæ—¶é—´æ ¼å¼å¯">
<meta name="keywords" content="Blog,FrontEnd,React,Javascript,Typescript">
<meta property="og:type" content="article">
<meta property="og:title" content="å‰ç«¯å›½é™…åŒ–ï¼šè¯­è¨€åŒ…ç¯‡">
<meta property="og:url" content="https://bobi.ink/2023/08/08/i18n-locale/index.html">
<meta property="og:site_name" content="Bobi.ink">
<meta property="og:description" content="åˆå¼€äº†ä¸ªæ–°å‘ï¼Œæ¥è®²è®²å‰ç«¯å›½é™…åŒ–ã€‚  å¼€ç¯‡ä¹‹å‰ï¼Œè¯»è€…éœ€è¦åŒºåˆ†å¥½å›½é™…åŒ–(i18n - internationalization)å’Œæœ¬åœ°åŒ–(l10n - localization) ï¼Œ å®ƒä»¬æ˜¯ç›¸äº’å…³è”ä½†åˆä¸åŒçš„æ¦‚å¿µï¼š  å›½é™…åŒ–ï¼ˆi18nï¼‰ï¼šè¿™æ˜¯ä¸€ä¸ªè®¾è®¡å’Œå¼€å‘è¿‡ç¨‹ï¼Œç¡®ä¿äº§å“ï¼ˆå¦‚è½¯ä»¶ã€ç½‘ç«™æˆ–åº”ç”¨ï¼‰èƒ½å¤Ÿåœ¨ä¸åšä»»ä½•ä¿®æ”¹çš„æƒ…å†µä¸‹é€‚åº”ä¸åŒçš„è¯­è¨€å’Œåœ°åŒºã€‚è¿™æ¶‰åŠåˆ°ä»ä¸€å¼€å§‹å°±é¢„ç•™ç©ºé—´ç”¨äºæ–‡æœ¬æ‰©å±•ï¼Œç¡®ä¿æ—¥æœŸå’Œæ—¶é—´æ ¼å¼å¯">
<meta property="og:locale" content="zh">
<meta property="og:image" content="https://bobi.ink/images/i18n-locale/Untitled.png">
<meta property="og:image" content="https://bobi.ink/images/i18n-locale/Untitled%201.png">
<meta property="og:image" content="https://bobi.ink/images/i18n-locale/Untitled%202.png">
<meta property="og:image" content="https://bobi.ink/images/i18n-locale/Untitled%203.png">
<meta property="og:image" content="https://bobi.ink/images/i18n-locale/Untitled%204.png">
<meta property="og:image" content="https://bobi.ink/images/i18n-locale/Untitled%205.png">
<meta property="og:image" content="https://bobi.ink/images/i18n-locale/Untitled%206.png">
<meta property="og:image" content="https://bobi.ink/images/i18n-locale/Untitled%207.png">
<meta property="og:updated_time" content="2023-08-08T08:08:21.066Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="å‰ç«¯å›½é™…åŒ–ï¼šè¯­è¨€åŒ…ç¯‡">
<meta name="twitter:description" content="åˆå¼€äº†ä¸ªæ–°å‘ï¼Œæ¥è®²è®²å‰ç«¯å›½é™…åŒ–ã€‚  å¼€ç¯‡ä¹‹å‰ï¼Œè¯»è€…éœ€è¦åŒºåˆ†å¥½å›½é™…åŒ–(i18n - internationalization)å’Œæœ¬åœ°åŒ–(l10n - localization) ï¼Œ å®ƒä»¬æ˜¯ç›¸äº’å…³è”ä½†åˆä¸åŒçš„æ¦‚å¿µï¼š  å›½é™…åŒ–ï¼ˆi18nï¼‰ï¼šè¿™æ˜¯ä¸€ä¸ªè®¾è®¡å’Œå¼€å‘è¿‡ç¨‹ï¼Œç¡®ä¿äº§å“ï¼ˆå¦‚è½¯ä»¶ã€ç½‘ç«™æˆ–åº”ç”¨ï¼‰èƒ½å¤Ÿåœ¨ä¸åšä»»ä½•ä¿®æ”¹çš„æƒ…å†µä¸‹é€‚åº”ä¸åŒçš„è¯­è¨€å’Œåœ°åŒºã€‚è¿™æ¶‰åŠåˆ°ä»ä¸€å¼€å§‹å°±é¢„ç•™ç©ºé—´ç”¨äºæ–‡æœ¬æ‰©å±•ï¼Œç¡®ä¿æ—¥æœŸå’Œæ—¶é—´æ ¼å¼å¯">
<meta name="twitter:image" content="https://bobi.ink/images/i18n-locale/Untitled.png">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>å‰ç«¯å›½é™…åŒ–ï¼šè¯­è¨€åŒ…ç¯‡</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- rss -->
    
    
</head>

<body>
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Blogs</a></li>
         
          <li><a href="http://github.com/ivan-94">Projects</a></li>
        
      </ul>
    </span>
    <br>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2023/08/14/i18n-translate/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2023/08/03/web-component/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://bobi.ink/2023/08/08/i18n-locale/"><i class="fa fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://bobi.ink/2023/08/08/i18n-locale/&text=å‰ç«¯å›½é™…åŒ–ï¼šè¯­è¨€åŒ…ç¯‡"><i class="fa fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://bobi.ink/2023/08/08/i18n-locale/&title=å‰ç«¯å›½é™…åŒ–ï¼šè¯­è¨€åŒ…ç¯‡"><i class="fa fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://bobi.ink/2023/08/08/i18n-locale/&is_video=false&description=å‰ç«¯å›½é™…åŒ–ï¼šè¯­è¨€åŒ…ç¯‡"><i class="fa fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=å‰ç«¯å›½é™…åŒ–ï¼šè¯­è¨€åŒ…ç¯‡&body=Check out this article: https://bobi.ink/2023/08/08/i18n-locale/"><i class="fa fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://bobi.ink/2023/08/08/i18n-locale/&title=å‰ç«¯å›½é™…åŒ–ï¼šè¯­è¨€åŒ…ç¯‡"><i class="fa fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://bobi.ink/2023/08/08/i18n-locale/&title=å‰ç«¯å›½é™…åŒ–ï¼šè¯­è¨€åŒ…ç¯‡"><i class="fa fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://bobi.ink/2023/08/08/i18n-locale/&title=å‰ç«¯å›½é™…åŒ–ï¼šè¯­è¨€åŒ…ç¯‡"><i class="fa fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://bobi.ink/2023/08/08/i18n-locale/&title=å‰ç«¯å›½é™…åŒ–ï¼šè¯­è¨€åŒ…ç¯‡"><i class="fa fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://bobi.ink/2023/08/08/i18n-locale/&name=å‰ç«¯å›½é™…åŒ–ï¼šè¯­è¨€åŒ…ç¯‡&description="><i class="fa fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-ç»„ç»‡è¯­è¨€åŒ…"><span class="toc-number">1.</span> <span class="toc-text">1. ç»„ç»‡è¯­è¨€åŒ…</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-æ”¾åœ¨å“ªä¸ªç›®å½•ä¸‹ï¼Ÿ"><span class="toc-number">1.1.</span> <span class="toc-text">1.1 æ”¾åœ¨å“ªä¸ªç›®å½•ä¸‹ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-å…¨å±€ä½¿ç”¨ä¸€ä¸ªè¯­è¨€åŒ…ï¼Œè¿˜æ˜¯åˆ†æ¨¡å—ï¼Ÿ"><span class="toc-number">1.2.</span> <span class="toc-text">1.2 å…¨å±€ä½¿ç”¨ä¸€ä¸ªè¯­è¨€åŒ…ï¼Œè¿˜æ˜¯åˆ†æ¨¡å—ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3-å¦‚æœæ˜¯åˆ†æ¨¡å—çš„è¯ï¼Ÿç²’åº¦æ€ä¹ˆæŠŠæ¡"><span class="toc-number">1.3.</span> <span class="toc-text">1.3 å¦‚æœæ˜¯åˆ†æ¨¡å—çš„è¯ï¼Ÿç²’åº¦æ€ä¹ˆæŠŠæ¡?</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-è¯­è¨€åŒ…åŠ è½½"><span class="toc-number">2.</span> <span class="toc-text">2. è¯­è¨€åŒ…åŠ è½½</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-æ€ä¹ˆå®ç°æŒ‰éœ€åŠ è½½ï¼Ÿweb-ç«¯ï¼Ÿå°ç¨‹åºç«¯ï¼Ÿ"><span class="toc-number">2.1.</span> <span class="toc-text">2.1 æ€ä¹ˆå®ç°æŒ‰éœ€åŠ è½½ï¼ŸWeb ç«¯ï¼Ÿå°ç¨‹åºç«¯ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-å¦‚æœåˆ†æ¨¡å—ç»„ç»‡ï¼Œç¢ç‰‡åŒ–çš„è¯­è¨€åŒ…ä¼šä¸ä¼šå¯¼è‡´å¤šä¸ªè¯·æ±‚ï¼Ÿ"><span class="toc-number">2.2.</span> <span class="toc-text">2.2 å¦‚æœåˆ†æ¨¡å—ç»„ç»‡ï¼Œç¢ç‰‡åŒ–çš„è¯­è¨€åŒ…ä¼šä¸ä¼šå¯¼è‡´å¤šä¸ªè¯·æ±‚ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-registerbundles-æ€ä¹ˆå®ç°ï¼Ÿ"><span class="toc-number">2.3.</span> <span class="toc-text">2.3 registerBundles æ€ä¹ˆå®ç°ï¼Ÿ</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-è¯­è¨€åŒ…ç®¡ç†"><span class="toc-number">3.</span> <span class="toc-text">3. è¯­è¨€åŒ…ç®¡ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-å¦‚ä½•ç®¡ç†å’Œåˆ†æè¯­è¨€åŒ…çš„ä½¿ç”¨ï¼Ÿ"><span class="toc-number">3.1.</span> <span class="toc-text">3.1 å¦‚ä½•ç®¡ç†å’Œåˆ†æè¯­è¨€åŒ…çš„ä½¿ç”¨ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-è¿˜æœ‰å“ªäº›å»ºè®®ï¼Ÿ"><span class="toc-number">3.2.</span> <span class="toc-text">3.2 è¿˜æœ‰å“ªäº›å»ºè®®ï¼Ÿ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-1-ç»Ÿä¸€è¯­è¨€æ ‡ç­¾"><span class="toc-number">3.2.1.</span> <span class="toc-text">3.2.1 ç»Ÿä¸€è¯­è¨€æ ‡ç­¾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-2-ä½¿ç”¨åµŒå¥—å‘½åç©ºé—´æ¥ç»„ç»‡è¯­è¨€åŒ…"><span class="toc-number">3.2.2.</span> <span class="toc-text">3.2.2 ä½¿ç”¨åµŒå¥—å‘½åç©ºé—´æ¥ç»„ç»‡è¯­è¨€åŒ…</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#æ‰©å±•é˜…è¯»"><span class="toc-number">4.</span> <span class="toc-text">æ‰©å±•é˜…è¯»</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index width mx-auto px2 my4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        å‰ç«¯å›½é™…åŒ–ï¼šè¯­è¨€åŒ…ç¯‡
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Bobi.ink</span>
      </span>
      
    <div class="postdate">
        <time datetime="2023-08-07T16:00:00.000Z" itemprop="datePublished">2023-08-08</time>
    </div>


      

    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p><br></p>
<p><img src="/images/i18n-locale/Untitled.png" alt="Cover"></p>
<p>åˆå¼€äº†ä¸ªæ–°å‘ï¼Œæ¥è®²è®²å‰ç«¯å›½é™…åŒ–ã€‚</p>
<p><br></p>
<p>å¼€ç¯‡ä¹‹å‰ï¼Œè¯»è€…éœ€è¦åŒºåˆ†å¥½<code>å›½é™…åŒ–</code>(i18n - internationalization)å’Œ<code>æœ¬åœ°åŒ–</code>(l10n - localization) ï¼Œ å®ƒä»¬æ˜¯ç›¸äº’å…³è”ä½†åˆä¸åŒçš„æ¦‚å¿µï¼š</p>
<ol>
<li>å›½é™…åŒ–ï¼ˆi18nï¼‰ï¼šè¿™æ˜¯ä¸€ä¸ªè®¾è®¡å’Œå¼€å‘è¿‡ç¨‹ï¼Œç¡®ä¿äº§å“ï¼ˆå¦‚è½¯ä»¶ã€ç½‘ç«™æˆ–åº”ç”¨ï¼‰èƒ½å¤Ÿåœ¨ä¸åšä»»ä½•ä¿®æ”¹çš„æƒ…å†µä¸‹é€‚åº”ä¸åŒçš„è¯­è¨€å’Œåœ°åŒºã€‚è¿™æ¶‰åŠåˆ°ä»ä¸€å¼€å§‹å°±é¢„ç•™ç©ºé—´ç”¨äºæ–‡æœ¬æ‰©å±•ï¼Œç¡®ä¿æ—¥æœŸå’Œæ—¶é—´æ ¼å¼å¯ä»¥æ ¹æ®åœ°åŒºå˜åŒ–ï¼Œä»¥åŠç¡®ä¿ä»£ç å¯ä»¥å¤„ç†ä¸åŒçš„å­—ç¬¦é›†å’Œå†™ä½œç³»ç»Ÿç­‰ã€‚</li>
<li>æœ¬åœ°åŒ–ï¼ˆL10nï¼‰ï¼šè¿™æ˜¯å°†äº§å“æˆ–å†…å®¹é€‚åº”åˆ°ç‰¹å®šå¸‚åœºçš„è¿‡ç¨‹ã€‚è¿™å¯èƒ½åŒ…æ‹¬å°†æ–‡æœ¬ç¿»è¯‘æˆæœ¬åœ°è¯­è¨€ï¼Œè°ƒæ•´å›¾åƒå’Œè‰²å½©ä»¥é€‚åº”æœ¬åœ°æ–‡åŒ–ï¼Œä»¥åŠä¿®æ”¹æ—¥æœŸã€ç”µè¯å·ç å’Œåœ°å€æ ¼å¼ç­‰ã€‚æœ¬åœ°åŒ–å¯èƒ½è¿˜éœ€è¦è€ƒè™‘æœ¬åœ°æ³•è§„å’Œå•†ä¸šä¹ æƒ¯ã€‚</li>
</ol>
<p><br></p>
<p>ç®€å•æ¥è¯´ï¼Œå›½é™…åŒ–æ˜¯åˆ›å»ºä¸€ä¸ªå¯ä»¥è½»æ˜“æœ¬åœ°åŒ–çš„äº§å“çš„è¿‡ç¨‹ï¼Œè€Œæœ¬åœ°åŒ–æ˜¯å°†äº§å“è°ƒæ•´ä»¥é€‚åº”ç‰¹å®šåœ°åŒºçš„è¿‡ç¨‹ã€‚ä¸¤è€…åœ¨å®é™…äº§å“ä¸­çš„è¾¹ç•Œå¯èƒ½æ¯”æ²¡æœ‰é‚£ä¹ˆæ¸…æ™°ï¼Œè€Œæ˜¯ç›¸è¾…ç›¸æˆï¼Œé€šå¸¸åœ¨å¤§çš„å›½é™…åŒ–åŸºåº§ä¸Šè¿›ä¸€æ­¥è¿›è¡Œæœ¬åœ°åŒ–ã€‚</p>
<p><br></p>
<p>å›½é™…åŒ–çš„æ¶‰åŠé¢éå¸¸å¹¿ï¼Œæ¯”å¦‚è¯­è¨€ã€æ–‡å­—ç¼–ç ã€æ—¶åŒºã€ä¹¦å†™ä¹ æƒ¯ã€å•å¤æ•°ã€æ ‡ç‚¹ç¬¦å·ã€æ—¶é—´æ ¼å¼ã€è´§å¸æ ¼å¼ã€è®¡é‡å•ä½â€¦</p>
<p>å¼ºçƒˆæ¨èè¯»è€…è¯»ä¸€ä¸‹ <a href="https://www.zhihu.com/column/txtwork" target="_blank" rel="noopener">åŸºç¡€è®¾è®¡ä¸“æ  - From.RED</a> è¿™ä¸ªä¸“æ ï¼Œè¿™é‡Œé¢ä¸€ç³»åˆ—çš„å›½é™…åŒ–/æœ¬åœ°åŒ–çš„æ–‡ç« éƒ½éå¸¸èµï¼š</p>
<ul>
<li><a href="https://zhuanlan.zhihu.com/p/29759116" target="_blank" rel="noopener">ä¸ºå…¨çƒè®¾è®¡ï¼Œå›½é™…åŒ–ä¸æœ¬åœ°åŒ–æ¢ç´¢ï¼šå¿«é€Ÿå…¥é—¨</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/29780850" target="_blank" rel="noopener">ä¸ºå…¨çƒè®¾è®¡ï¼Œå›½é™…åŒ–ä¸æœ¬åœ°åŒ–æ¢ç´¢ï¼šå›½é™…åŒ–è®¾è®¡</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/31025276" target="_blank" rel="noopener">ä¸ºå…¨çƒè®¾è®¡ï¼Œå›½é™…åŒ–ä¸æœ¬åœ°åŒ–æ¢ç´¢ï¼šæœ¬åœ°åŒ–è®¾è®¡</a></li>
</ul>
<p><br></p>
<p>å®é™…ä¸Šç¬”è€…ä¹Ÿä¸æ˜¯ç‰¹åˆ«ä¸“ä¸šï¼Œè¿™ç³»åˆ—æ–‡ç« ä»…æ˜¯æˆ‘çš„ä¸€äº›æŠ€æœ¯å®è·µæ€»ç»“ã€‚ä½œä¸ºå¼€ç¯‡ï¼Œæˆ‘ä»¬å…ˆèŠä¸€èŠä¸€äº›æ¯”è¾ƒåŸºç¡€çš„è¯é¢˜ï¼šå‰ç«¯è¯­è¨€åŒ…çš„ç®¡ç†ã€‚</p>
<p><br></p>
<p>å¯¹äºè¯­è¨€åŒ…çš„ç®¡ç†ï¼Œæˆ‘ä»¬å¤§æ¦‚ç‡ä¼šé‡åˆ°ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ul>
<li>è¯­è¨€åŒ…åº”è¯¥æ”¾åœ¨å“ªä¸ªç›®å½•ï¼Ÿ</li>
<li>å…¨å±€ä½¿ç”¨ä¸€ä¸ªè¯­è¨€åŒ…ï¼Œè¿˜æ˜¯åˆ†æ¨¡å—ï¼Ÿ</li>
<li>å¦‚æœæ˜¯åˆ†æ¨¡å—çš„è¯ï¼Ÿç²’åº¦æ€ä¹ˆæŠŠæ¡?</li>
<li>æ€ä¹ˆå®ç°æŒ‰éœ€åŠ è½½ï¼ŸWeb ç«¯ï¼Ÿå°ç¨‹åºç«¯ï¼Ÿ</li>
<li>å¦‚æœåˆ†æ¨¡å—ç»„ç»‡ï¼Œç¢ç‰‡åŒ–çš„è¯­è¨€åŒ…ä¼šä¸ä¼šå¯¼è‡´å¤šä¸ªè¯·æ±‚ï¼Ÿ</li>
<li>å¦‚ä½•ç®¡ç†å’Œåˆ†æè¯­è¨€åŒ…çš„ä½¿ç”¨ï¼Ÿ</li>
<li>è¿˜æœ‰å“ªäº›å»ºè®®ï¼Ÿ</li>
</ul>
<p><br></p>
<p>å¦‚æœè¿›ä¸€æ­¥å½’çº³ï¼Œè¿™äº›é—®é¢˜åˆå¯ä»¥åˆ†ä¸ºä¸‰å¤§ç±»ï¼š</p>
<ul>
<li><p>ç»„ç»‡è¯­è¨€åŒ…</p>
<ul>
<li>è¯­è¨€åŒ…åº”è¯¥æ”¾åœ¨å“ªä¸ªç›®å½•ï¼Ÿ</li>
<li>å…¨å±€ä½¿ç”¨ä¸€ä¸ªè¯­è¨€åŒ…ï¼Œè¿˜æ˜¯åˆ†æ¨¡å—ï¼Ÿ</li>
<li>å¦‚æœæ˜¯åˆ†æ¨¡å—çš„è¯ï¼Ÿç²’åº¦æ€ä¹ˆæŠŠæ¡?</li>
</ul>
</li>
<li><p>è¯­è¨€åŒ…åŠ è½½</p>
<ul>
<li>æ€ä¹ˆå®ç°æŒ‰éœ€åŠ è½½ï¼ŸWeb ç«¯ï¼Ÿå°ç¨‹åºç«¯ï¼Ÿ</li>
<li>å¦‚æœåˆ†æ¨¡å—ç»„ç»‡ï¼Œç¢ç‰‡åŒ–çš„è¯­è¨€åŒ…ä¼šä¸ä¼šå¯¼è‡´å¤šä¸ªè¯·æ±‚ï¼Ÿ</li>
</ul>
</li>
<li><p>è¯­è¨€åŒ…ç®¡ç†</p>
<ul>
<li>å¦‚ä½•ç®¡ç†å’Œåˆ†æè¯­è¨€åŒ…çš„ä½¿ç”¨ï¼Ÿ</li>
<li>è¿˜æœ‰å“ªäº›å»ºè®®ï¼Ÿ</li>
</ul>
</li>
</ul>
<p><br><br><br><br><br></p>
<h1 id="1-ç»„ç»‡è¯­è¨€åŒ…"><a href="#1-ç»„ç»‡è¯­è¨€åŒ…" class="headerlink" title="1. ç»„ç»‡è¯­è¨€åŒ…"></a>1. ç»„ç»‡è¯­è¨€åŒ…</h1><h2 id="1-1-æ”¾åœ¨å“ªä¸ªç›®å½•ä¸‹ï¼Ÿ"><a href="#1-1-æ”¾åœ¨å“ªä¸ªç›®å½•ä¸‹ï¼Ÿ" class="headerlink" title="1.1 æ”¾åœ¨å“ªä¸ªç›®å½•ä¸‹ï¼Ÿ"></a>1.1 æ”¾åœ¨å“ªä¸ªç›®å½•ä¸‹ï¼Ÿ</h2><p>é€šå¸¸æ”¾åœ¨ <code>locales</code> æˆ–è€… <code>i18n</code> ç›®å½•ä¸‹ã€‚æ¯”å¦‚ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/src</span><br><span class="line">  /locales</span><br><span class="line">    zh.json</span><br><span class="line">    zh-Hant.json</span><br><span class="line">    en.json</span><br><span class="line">    th.json</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>æˆ‘ä»¬å›¢é˜Ÿçš„è§„èŒƒæ˜¯ä½¿ç”¨ <code>*.tr</code> æ¥ä½œä¸ºè¯­è¨€åŒ…ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/src</span><br><span class="line">  /locales</span><br><span class="line">    zh.tr</span><br><span class="line">    zh-Hant.tr</span><br><span class="line">    en.tr</span><br><span class="line">    th.tr</span><br></pre></td></tr></table></figure>
<p><br></p>
<p><code>tr</code> å³ <code>translate</code> çš„ç¼©å†™ï¼Œ è¿™ä¹ˆåšçš„ç›®çš„ä¸»è¦ä¸ºäº†å’Œ <code>json</code> æ–‡ä»¶åŒºåˆ†å¼€ï¼Œæ–¹ä¾¿åé¢çš„æ„å»ºå·¥å…·è¯†åˆ«ã€‚</p>
<p>å½“ç„¶è¿˜æœ‰å…¶ä»–æ‰‹æ®µå¯ä»¥å®ç°ï¼Œä½†åœ¨æœ¬ç¯‡æ–‡ç« ä¸­æˆ‘ä»¬ç»Ÿä¸€çº¦å®šä½¿ç”¨ <code>.tr</code> ä½œä¸ºè¯­è¨€åŒ…æ–‡ä»¶ã€‚</p>
<blockquote>
<p>ğŸ’¡ VSCode ä¸­åŠ ä¸Šä»¥ä¸‹é…ç½®ï¼Œå¯ä»¥å°† tr æ–‡ä»¶è¯†åˆ«ä¸º <code>JSON</code>:</p>
 <figure class="highlight"><table><tr><td class="code"><pre><span class="line">&gt;  // .vscode/settings.json</span><br><span class="line">&gt;  &#123;</span><br><span class="line">&gt;    "files.associations": &#123;</span><br><span class="line">&gt;      "*.tr": "json"</span><br><span class="line">&gt;    &#125;</span><br><span class="line">&gt;  &#125;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
</blockquote>
<p><br><br><br><br><br></p>
<h2 id="1-2-å…¨å±€ä½¿ç”¨ä¸€ä¸ªè¯­è¨€åŒ…ï¼Œè¿˜æ˜¯åˆ†æ¨¡å—ï¼Ÿ"><a href="#1-2-å…¨å±€ä½¿ç”¨ä¸€ä¸ªè¯­è¨€åŒ…ï¼Œè¿˜æ˜¯åˆ†æ¨¡å—ï¼Ÿ" class="headerlink" title="1.2 å…¨å±€ä½¿ç”¨ä¸€ä¸ªè¯­è¨€åŒ…ï¼Œè¿˜æ˜¯åˆ†æ¨¡å—ï¼Ÿ"></a>1.2 å…¨å±€ä½¿ç”¨ä¸€ä¸ªè¯­è¨€åŒ…ï¼Œè¿˜æ˜¯åˆ†æ¨¡å—ï¼Ÿ</h2><p>æˆ‘ä»¬æ¨è<code>æŒ‰ç…§ä¸šåŠ¡æ¥èšåˆ&#39;å®ç°&#39;</code>ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸åº”è¯¥å°†æ‰€æœ‰çš„è¯­è¨€åŒ…ä¸€è‚¡è„‘æ”¾åœ¨ä¸€èµ·ï¼Œé™¤éä½ çš„é¡¹ç›®æ¯”è¾ƒç®€å•ã€‚æ¢å¥è¯è¯´ï¼Œåº”è¯¥éµå¾ª<code>å°±è¿‘åŸåˆ™</code>ï¼ŒGlobal is Evilã€‚</p>
<p><br></p>
<p>æ¯”å¦‚ MonoRepo é¡¹ç›®ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">packages</span><br><span class="line">  â”œâ”€â”€ pkgA</span><br><span class="line">  |   â””â”€â”€ i18n</span><br><span class="line">  |       â”œâ”€â”€ en.tr</span><br><span class="line">  |       â”œâ”€â”€ zh.tr</span><br><span class="line">  |       â””â”€â”€ ...</span><br><span class="line">  â”œâ”€â”€ pkgB</span><br><span class="line">  |   â””â”€â”€ i18n</span><br><span class="line">  |       â”œâ”€â”€ en.tr</span><br><span class="line">  |       â”œâ”€â”€ zh.tr</span><br><span class="line">  |       â””â”€â”€ ...</span><br><span class="line">  â””â”€â”€ ...</span><br></pre></td></tr></table></figure>
<p><br></p>
<p><strong>åˆ†æ¨¡å—çš„å¥½å¤„æ˜¯ç»´æŠ¤èµ·æ¥ç›¸å¯¹å®¹æ˜“ï¼Œå°¤å…¶æ˜¯åæœŸè¿ç§»å’Œé‡æ„æ—¶ã€‚å¦å¤–ä¸€ä¸ªå¥½å¤„æ˜¯å¯ä»¥æ ¹æ®æ¨¡å—æŒ‰éœ€åŠ è½½</strong>ã€‚</p>
<p><br><br><br><br><br></p>
<h2 id="1-3-å¦‚æœæ˜¯åˆ†æ¨¡å—çš„è¯ï¼Ÿç²’åº¦æ€ä¹ˆæŠŠæ¡"><a href="#1-3-å¦‚æœæ˜¯åˆ†æ¨¡å—çš„è¯ï¼Ÿç²’åº¦æ€ä¹ˆæŠŠæ¡" class="headerlink" title="1.3 å¦‚æœæ˜¯åˆ†æ¨¡å—çš„è¯ï¼Ÿç²’åº¦æ€ä¹ˆæŠŠæ¡?"></a>1.3 å¦‚æœæ˜¯åˆ†æ¨¡å—çš„è¯ï¼Ÿç²’åº¦æ€ä¹ˆæŠŠæ¡?</h2><p>ä¸ºäº†å¹³è¡¡åŠ è½½é€Ÿåº¦ã€å¯ç»´æŠ¤æ€§ï¼Œç¿»è¯‘æ–‡ä»¶ä¸èƒ½è¿‡å°ã€ä¹Ÿä¸èƒ½è¿‡å¤§ã€‚é€šå¸¸æŒ‰ç…§<code>ä¸šåŠ¡æ¨¡å—</code>çš„ç²’åº¦æ¥åˆ’åˆ†ã€‚<strong>ä¸šåŠ¡æ¨¡å—æ˜¯ç”±ä¸€ä¸ªæˆ–å¤šä¸ªé¡µé¢ç»„æˆçš„å®Œæ•´çš„åŠŸèƒ½</strong>ã€‚</p>
<p><br><br><br></p>
<p><img src="/images/i18n-locale/Untitled%201.png" alt="å­åŸŸåˆ’åˆ†"></p>
<p>å›¾ç‰‡æ¥æº: <a href="https://time.geekbang.org/column/intro/100037301" target="_blank" rel="noopener">https://time.geekbang.org/column/intro/100037301</a></p>
<p><br></p>
<p>å¦‚æœæŒ‰ç…§ DDD çš„è¯´æ³•ï¼Œä¸šåŠ¡æ¨¡å—å¯ä»¥æ˜¯ä¸€ä¸ª<code>å­åŸŸ</code>ã€ç”šè‡³æ›´å°ç²’åº¦çš„<code>èšåˆ</code>ã€‚æ€»ä¹‹è¿™ä¸ªä¸šåŠ¡æ¨¡å—æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š</p>
<ul>
<li>è‡ªåŒ…å«ã€‚è‡ªç»™è‡ªè¶³å®ç°ä¸€ä¸ªå®Œæ•´çš„åŠŸèƒ½é—­ç¯</li>
<li>é«˜èšåˆã€‚å¯¹å¤–éƒ¨ä¾èµ–è¾ƒå°‘ã€‚</li>
</ul>
<p><br></p>
<p>è¯»è€…ä¹Ÿä¸ç”¨è¿‡äºçº ç»“ï¼Œå®é™…åœ¨ä¸šåŠ¡å¼€å‘æ—¶ï¼Œéšç€å¯¹éœ€æ±‚äº†è§£çš„æ·±å…¥ï¼Œä½ ä¼šæ‘¸ç´¢åˆ°å®ƒä»¬çš„è¾¹ç•Œï¼Œæˆ–è€…ä½ ä¹Ÿå¯ä»¥ä»å…¶ä»–åœ°æ–¹å€Ÿé‰´ï¼Œæ¯”å¦‚åç«¯æœåŠ¡çš„åˆ’åˆ†ã€äº§å“éœ€æ±‚ç»“æ„çš„åˆ’åˆ†ç­‰ç­‰ã€‚</p>
<p><br></p>
<p>ä»ä»£ç çš„å®ç°å±‚é¢æ¥çœ‹ï¼Œä½ ä¹Ÿå¯ä»¥è®¤ä¸º<code>ä¸šåŠ¡æ¨¡å—</code>ç­‰åŒäº MonoRepo çš„ä¸€ä¸ª<code>å­é¡¹ç›®</code>ã€‚å°½ç®¡å­é¡¹ç›®å†…éƒ¨å¯èƒ½ä¼šç»§ç»­æ‹†åˆ†ã€‚</p>
<p><br></p>
<hr>
<p><br></p>
<h1 id="2-è¯­è¨€åŒ…åŠ è½½"><a href="#2-è¯­è¨€åŒ…åŠ è½½" class="headerlink" title="2. è¯­è¨€åŒ…åŠ è½½"></a>2. è¯­è¨€åŒ…åŠ è½½</h1><h2 id="2-1-æ€ä¹ˆå®ç°æŒ‰éœ€åŠ è½½ï¼Ÿweb-ç«¯ï¼Ÿå°ç¨‹åºç«¯ï¼Ÿ"><a href="#2-1-æ€ä¹ˆå®ç°æŒ‰éœ€åŠ è½½ï¼Ÿweb-ç«¯ï¼Ÿå°ç¨‹åºç«¯ï¼Ÿ" class="headerlink" title="2.1 æ€ä¹ˆå®ç°æŒ‰éœ€åŠ è½½ï¼ŸWeb ç«¯ï¼Ÿå°ç¨‹åºç«¯ï¼Ÿ"></a>2.1 æ€ä¹ˆå®ç°æŒ‰éœ€åŠ è½½ï¼ŸWeb ç«¯ï¼Ÿå°ç¨‹åºç«¯ï¼Ÿ</h2><p><strong>åœ¨ Web ç«¯</strong>ï¼Œé€šå¸¸é€šè¿‡<code>åŠ¨æ€å¯¼å…¥</code>(Dynamic Import) å®ç°ï¼Œ ä¾‹å¦‚ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">registerBundles(&#123;</span><br><span class="line">  zh: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'./zh.tr'</span>),</span><br><span class="line">  en: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'./en.tr'</span>),</span><br><span class="line">  <span class="string">'zh-Hant'</span>: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'./zh-Hant.tr'</span>),</span><br><span class="line">  th: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'./th.tr'</span>),</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>åœ¨ Webpack ä¸­æ— æ³•è¯†åˆ« tr æ‰©å±•åï¼Œæˆ‘ä»¬æ‰©å±•ä¸€ä¸‹ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack chain</span></span><br><span class="line">chain.module.rule(<span class="string">'translate'</span>).test(<span class="regexp">/\.tr$/</span>).use(<span class="string">'json'</span>).loader(<span class="string">'json-loader'</span>).end()</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨ <code>json-loader</code> æ¥å¤„ç† tr æ–‡ä»¶ã€‚</p>
<p><br><br><br><br><br></p>
<p><strong>å°ç¨‹åºç«¯å‘¢ï¼Ÿ</strong></p>
<p>å°ç¨‹åºç«¯ä¸æ”¯æŒ<code>åŠ¨æ€æ‰§è¡Œä»£ç </code>, æ‰€ä»¥æ— æ³•ä½¿ç”¨<code>åŠ¨æ€å¯¼å…¥</code>ï¼Œ è§£å†³åŠæ³•å°±æ˜¯ä½œä¸ºé™æ€èµ„æºæå–å‡ºå»ï¼Œæ‰˜ç®¡åˆ°<code>é™æ€èµ„æºæœåŠ¡å™¨</code> æˆ– <code>CDN</code>ä¸­ï¼Œè¿œç¨‹åŠ è½½:</p>
<p><img src="/images/i18n-locale/Untitled%202.png" alt="å°ç¨‹åº"></p>
<p><br></p>
<p>ä»¥ <code>Taro</code> é…ç½®ä¸ºä¾‹</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Webpack 5</span></span><br><span class="line"><span class="keyword">const</span> generator = &#123;</span><br><span class="line">  filename: fileLoaderOptions.name,</span><br><span class="line">  publicPath: fileLoaderOptions.publicPath,</span><br><span class="line">  outputPath: fileLoaderOptions.outputPath,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ctx.modifyWebpackChain(<span class="function">(<span class="params">&#123; chain &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// ç¿»è¯‘æ–‡ä»¶æå–</span></span><br><span class="line">  <span class="keyword">const</span> translation = chain.module.rule(<span class="string">'translation'</span>).test(<span class="regexp">/\.tr$/</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (process.env.NODE_ENV === <span class="string">'development'</span>) &#123;</span><br><span class="line">    <span class="comment">// ğŸ”´ å¼€å‘ç¯å¢ƒä½¿ç”¨ JSON å¼•ç”¨</span></span><br><span class="line">    translation.type(<span class="string">'json'</span>).end()</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// ğŸ”´ ç”Ÿäº§ç¯å¢ƒ ä½¿ç”¨ â€™file-loaderâ€˜ æå–åˆ° CDN æœåŠ¡å™¨</span></span><br><span class="line">    translation.type(<span class="string">'asset/resource'</span>).set(<span class="string">'generator'</span>, generator).end()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ”¯æŒ import xx from './test.json?extra' æ¨¡å¼, å¼ºåˆ¶æå–</span></span><br><span class="line">    chain.module</span><br><span class="line">      .rule(<span class="string">'extra'</span>)</span><br><span class="line">      .resourceQuery(<span class="regexp">/extra/</span>)</span><br><span class="line">      .type(<span class="string">'asset/resource'</span>)</span><br><span class="line">      .set(<span class="string">'generator'</span>, generator)</span><br><span class="line">      .end()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>å¯¹äºå¼€å‘ç¯å¢ƒï¼Œæ²¿ç”¨ json-loader çš„æ–¹å¼å¤„ç†ï¼Œç”Ÿäº§ç¯å¢ƒåˆ™è¿›è¡Œ<a href="https://webpack.js.org/guides/asset-modules/" target="_blank" rel="noopener">èµ„æºæå–</a>(ç­‰ä»· Webpack 4 çš„ url-loaderã€file-loader)ã€‚</p>
<p><br></p>
<p>å°ç¨‹åºè¯­è¨€åŒ…å£°æ˜ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">registerBundles(&#123;</span><br><span class="line">  zh: <span class="built_in">require</span>(<span class="string">'@wakeapp/login-sdk/i18n/zh.tr'</span>),</span><br><span class="line">  <span class="string">'zh-Hant'</span>: <span class="built_in">require</span>(<span class="string">'@wakeapp/login-sdk/i18n/zh-Hant.tr'</span>),</span><br><span class="line">  en: <span class="built_in">require</span>(<span class="string">'@wakeapp/login-sdk/i18n/en.tr'</span>),</span><br><span class="line">  th: <span class="built_in">require</span>(<span class="string">'@wakeapp/login-sdk/i18n/th.tr'</span>),</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>åŒæ ·çš„æ€è·¯ä¹Ÿå¯ä»¥ç”¨äºå°ç¨‹åºçš„å…¶ä»–é™æ€èµ„æºã€æ¯”å¦‚å›¾ç‰‡ã€è§†é¢‘ã€å­—ä½“ç­‰ã€‚</p>
<p><br><br><br><br><br></p>
<h2 id="2-2-å¦‚æœåˆ†æ¨¡å—ç»„ç»‡ï¼Œç¢ç‰‡åŒ–çš„è¯­è¨€åŒ…ä¼šä¸ä¼šå¯¼è‡´å¤šä¸ªè¯·æ±‚ï¼Ÿ"><a href="#2-2-å¦‚æœåˆ†æ¨¡å—ç»„ç»‡ï¼Œç¢ç‰‡åŒ–çš„è¯­è¨€åŒ…ä¼šä¸ä¼šå¯¼è‡´å¤šä¸ªè¯·æ±‚ï¼Ÿ" class="headerlink" title="2.2 å¦‚æœåˆ†æ¨¡å—ç»„ç»‡ï¼Œç¢ç‰‡åŒ–çš„è¯­è¨€åŒ…ä¼šä¸ä¼šå¯¼è‡´å¤šä¸ªè¯·æ±‚ï¼Ÿ"></a>2.2 å¦‚æœåˆ†æ¨¡å—ç»„ç»‡ï¼Œç¢ç‰‡åŒ–çš„è¯­è¨€åŒ…ä¼šä¸ä¼šå¯¼è‡´å¤šä¸ªè¯·æ±‚ï¼Ÿ</h2><p><img src="/images/i18n-locale/Untitled%203.png" alt="ç¢ç‰‡åŒ–"></p>
<p><br><br><br></p>
<p>ä¸€ä¸ªå±å±±é¡¹ç›®å¯èƒ½ä¼šæœ‰å¾ˆå¤šè¯­è¨€åŒ…ã€‚å¦‚æœä¸å¹²é¢„ï¼Œå°±ä¼šæœ‰å¾ˆå¤šç¢ç‰‡åŒ–çš„è¯·æ±‚, åœ¨ä¸æ”¯æŒ HTTP 2.0 çš„ç¯å¢ƒï¼Œè¿™äº›è¯·æ±‚ä¼šå¯¹é¡µé¢æ€§èƒ½é€ æˆè¾ƒå¤§çš„å½±å“ï¼Œæ€ä¹ˆä¼˜åŒ–åŠ è½½å‘¢ï¼Ÿ</p>
<p><br></p>
<p>åœ¨ Web ç«¯ï¼Œå¯ä»¥åˆ©ç”¨ <a href="https://webpack.js.org/plugins/split-chunks-plugin/#root" target="_blank" rel="noopener"><code>splitChunks</code></a> å¯¹è¯­è¨€åŒ…è¿›è¡Œåˆå¹¶ï¼š</p>
<p><br></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const TRANSLATE_FILE_REG = /([^./]*)\.tr$/</span><br><span class="line"></span><br><span class="line">function getLocale(request: string) &#123;</span><br><span class="line">  return request.match(TRANSLATE_FILE_REG)?.[1]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ... çœç•¥éƒ¨åˆ†ä»£ç </span><br><span class="line"></span><br><span class="line">// ç¿»è¯‘æ–‡ä»¶èµ„æºåˆå¹¶, é¿å…ç¢ç‰‡åŒ–, å¯¼è‡´å¹¶å‘è¯·æ±‚æ•°é‡è¿‡å¤š</span><br><span class="line">if (process.env.NODE_ENV === &apos;production&apos;) &#123;</span><br><span class="line">  const splitChunks = chain.optimization.get(&apos;splitChunks&apos;)</span><br><span class="line">  if (splitChunks == null) &#123;</span><br><span class="line">    // å·²ç¦ç”¨</span><br><span class="line">    return</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  const translateMerge = &#123;</span><br><span class="line">    // åªé’ˆå¯¹å¼‚æ­¥æ¨¡å—</span><br><span class="line">    chunks: &apos;async&apos;,</span><br><span class="line">    test: /\.tr$/,</span><br><span class="line">    // ğŸ”´ æœ€å¤§å°ºå¯¸</span><br><span class="line">    maxSize: 200 * 1024,</span><br><span class="line">    name: (module: &#123; rawRequest: string &#125;) =&gt; &#123;</span><br><span class="line">      const request = module.rawRequest</span><br><span class="line">      if (request == null) &#123;</span><br><span class="line">        throw new Error(`[vue-cli-plugin-i18n]: failed to get locale from $&#123;request&#125;`)</span><br><span class="line">      &#125;</span><br><span class="line">      // ğŸ”´ æŒ‰ locale ä½œä¸º key è¿›è¡Œåˆå¹¶</span><br><span class="line">      return `$&#123;getLocale(request)&#125;-tr`</span><br><span class="line">    &#125;,</span><br><span class="line">    // å¼ºåˆ¶æ‰§è¡Œ</span><br><span class="line">    enforce: true,</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  chain.optimization.splitChunks(&#123;</span><br><span class="line">    ...splitChunks,</span><br><span class="line">    cacheGroups: &#123;</span><br><span class="line">      ...splitChunks.cacheGroups,</span><br><span class="line">      translateMerge,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>ä¸Šé¢çš„ä»£ç å°±æ˜¯ä½¿ç”¨ splitChunks å¯¹ç›¸åŒ Locale çš„è¯­è¨€åŒ…è¿›è¡Œåˆå¹¶ï¼Œæœ€å¤§ä½“ç§¯ä¸è¶…è¿‡ 200kbã€‚</p>
<p><br></p>
<p>å°ç¨‹åºç«¯æš‚æ—¶ä¸æ”¯æŒè¿™ç§æ–¹å¼ã€‚å¯ä»¥é€šè¿‡å…¶ä»–æ‰‹æ®µæ¥å¼¥è¡¥ï¼Œæ¯”å¦‚äººå·¥é¿å…ç¢ç‰‡åŒ–ã€ç¼“å­˜åˆ°æœ¬åœ°å­˜å‚¨ç­‰ç­‰ã€‚</p>
<p><br><br><br></p>
<h2 id="2-3-registerbundles-æ€ä¹ˆå®ç°ï¼Ÿ"><a href="#2-3-registerbundles-æ€ä¹ˆå®ç°ï¼Ÿ" class="headerlink" title="2.3 registerBundles æ€ä¹ˆå®ç°ï¼Ÿ"></a>2.3 registerBundles æ€ä¹ˆå®ç°ï¼Ÿ</h2><p><code>registerBundles</code> è´Ÿè´£å¯¹è¯­è¨€åŒ…è¿›è¡Œæ³¨å†Œã€åŠ è½½ã€åˆå¹¶ã€æ¿€æ´»ç­‰æ“ä½œï¼š</p>
<p><img src="/images/i18n-locale/Untitled%204.png" alt="æ³¨å†Œ"></p>
<p><br></p>
<ul>
<li>è°ƒç”¨ <code>registerBundles</code> ä¼šå°†ç›¸å…³è¯­è¨€åŒ…æ³¨å†Œåˆ°<code>èµ„æºè¡¨</code>ï¼ˆResoucesï¼‰ä¸­ã€‚å®ƒå¯ä»¥æ¥æ”¶å¯¹è±¡ã€HTTP é“¾æ¥ã€Promise ç­‰</li>
<li>å…·ä½“è¦åŠ è½½å“ªä¸ªè¯­è¨€åŒ…ç”± i18n åº“é€šçŸ¥ã€‚i18n åº“ä¼ å…¥ä¸€ä¸ª <code>Locale chain</code>, è¿™æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ã€‚è¡¨ç¤ºçš„æ˜¯ i18n åº“çš„<code>è¯­è¨€å›é€€é“¾æ¡</code>ï¼Œ æˆ–è€…è¯´ i18n åº“å°±æ˜¯æŒ‰ç…§è¿™ä¸ªé¡ºåºåˆ°è¯­è¨€åŒ…ä¸­æŸ¥æ‰¾ keyï¼Œæ¯”å¦‚å½“å‰ locale æ˜¯ â€˜<code>zh-Hant-HK</code>â€™ï¼Œ é‚£ä¹ˆ Locale chain å°±æ˜¯ <code>[&#39;zh-Hant-HK&#39;, &#39;zh-Hant&#39;, &#39;zh&#39;]</code></li>
<li>æ¥ç€æ ¹æ® <code>Locale chain</code> è®¡ç®—å‡ºéœ€è¦åŠ è½½çš„è¯­è¨€åŒ…ã€‚</li>
<li>æ ¹æ®èµ„æºçš„ç±»å‹é€‰æ‹©ä¸åŒçš„<code>Loader</code>(åŠ è½½å™¨)è¿›è¡Œå¤„ç†ã€‚æ¯”å¦‚ <code>HTTP Loader</code>ã€<code>Promise Loader</code></li>
<li>å½“æ‰€æœ‰è¯­è¨€åŒ…åŠ è½½å°±ç»ªåï¼Œå°†æ‰€æœ‰ç»“æœåˆå¹¶æˆä¸€æ£µæ ‘ï¼Œè¿”å›ç»™ i18nã€‚åˆå¹¶æ—¶å¯ä»¥æœ‰ä¼˜å…ˆçº§ï¼Œæ¯”å¦‚æŸäº›è¯­è¨€åŒ…ä»åç«¯æœåŠ¡ä¸­è·å–ï¼Œæˆ‘ä»¬å¸Œæœ›å®ƒèƒ½è¦†ç›–å…¶ä»–è¯­è¨€åŒ…ï¼Œä¼˜å…ˆå±•ç¤ºã€‚</li>
</ul>
<p><br><br><br></p>
<p>æ¥çœ‹ä¸€ä¸‹å…·ä½“ä»£ç ï¼š</p>
<p><br></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export class BundleRegister &#123;</span><br><span class="line">  private executing = false</span><br><span class="line"></span><br><span class="line">  private resources: &#123; [locale: string]: Set&lt;I18nBundle&gt; &#125; = &#123;&#125;</span><br><span class="line"></span><br><span class="line">  private layerLinks: &#123; [locale: string]: LayerLink &#125; = &#123;&#125;</span><br><span class="line"></span><br><span class="line">  /**</span><br><span class="line">   * ç¼“å­˜èµ„æºçš„å±‚çº§</span><br><span class="line">   */</span><br><span class="line">  private resourceLayer: Map&lt;I18nBundle, number&gt; = new Map()</span><br><span class="line"></span><br><span class="line">  private pendingQueue = new PromiseQueue&lt;void&gt;()</span><br><span class="line"></span><br><span class="line">  constructor(</span><br><span class="line">    private registerBundle: (locale: string, bundle: Record&lt;string, any&gt;) =&gt; void,</span><br><span class="line">    private getLocaleChain: () =&gt; string[],</span><br><span class="line">    private onBundleChange: () =&gt; void</span><br><span class="line">  ) &#123;&#125;</span><br><span class="line"></span><br><span class="line">  /**</span><br><span class="line">   * åˆ¤æ–­æ˜¯å¦å­˜åœ¨æ­£åœ¨åŠ è½½ä¸­çš„è¯­è¨€åŒ…</span><br><span class="line">   */</span><br><span class="line">  hasPendingBundle() &#123;&#125;</span><br><span class="line"></span><br><span class="line">  /**</span><br><span class="line">   * è°ƒåº¦è¯­è¨€åŒ…åŠ è½½å’Œåˆå¹¶</span><br><span class="line">   */</span><br><span class="line">  async schedulerMerge(): Promise&lt;void&gt; &#123;&#125;</span><br><span class="line"></span><br><span class="line">  /**</span><br><span class="line">   * æ³¨å†Œè¯­è¨€åŒ…</span><br><span class="line">   */</span><br><span class="line">  registerBundles = async (</span><br><span class="line">    bundles: &#123; [locale: string]: I18nBundle &#125;,</span><br><span class="line">    layer: number = 10</span><br><span class="line">  ): Promise&lt;void&gt; =&gt; &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>æ•´ä¸ªç±»çš„ç»“æ„å¦‚ä¸Šï¼Œæ„é€ å‡½æ•°éœ€è¦ä¼ å…¥ä¸‰ä¸ªé’©å­ï¼š</p>
<ul>
<li>registerBundleã€‚ BundleRegister é€šè¿‡å®ƒå‘ i18n åº“æäº¤è¯­è¨€åŒ…(message)</li>
<li>getLocaleChainã€‚å‘ i18n è·å– local chain</li>
<li>onBundleChangeã€‚è¯­è¨€åŒ…å˜åŠ¨äº‹ä»¶é€šçŸ¥</li>
</ul>
<p><br></p>
<p>çœ‹ä¸‹åœ¨ vue-i18n(9+) ä¸‹æ€ä¹ˆå¯¹æ¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// ğŸ”´ åˆå§‹åŒ–</span><br><span class="line">const bundleRegister = new BundleRegister(</span><br><span class="line">  (loc, bundle) =&gt; &#123;</span><br><span class="line">    // ğŸ”´ æäº¤è¯­è¨€åŒ…</span><br><span class="line">    const initialMessages = messages?.[loc]</span><br><span class="line">    let cloneBundle = bundle</span><br><span class="line"></span><br><span class="line">    // æ‹·è´</span><br><span class="line">    if (initialMessages) &#123;</span><br><span class="line">      cloneBundle = merge(&#123;&#125;, initialMessages, cloneBundle)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    vueI18nInstance.setLocaleMessage(loc, cloneBundle)</span><br><span class="line">  &#125;,</span><br><span class="line">  // ğŸ”´ è·å– Local chain</span><br><span class="line">  getFallbackLocaleChain,</span><br><span class="line">  () =&gt; &#123;</span><br><span class="line">    eventBus.emit(EVENT_MESSAGE_CHANGE)</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">// ğŸ”´ ç›‘å¬è¯­è¨€å˜åŠ¨å¹¶è§¦å‘ BundlerRegister åŠ è½½</span><br><span class="line">watch(</span><br><span class="line">  () =&gt; unref(vueI18nInstance.locale),</span><br><span class="line">  (loc) =&gt; &#123;</span><br><span class="line">    // æ£€æŸ¥æ˜¯å¦é€šè¿‡ setLocale è°ƒç”¨</span><br><span class="line">    if (!SET_LOCALE_CONTEXT) &#123;</span><br><span class="line">      console.error(`[i18n] ç¦æ­¢ç›´æ¥è®¾ç½® .locale æ¥è®¾ç½®å½“å‰è¯­è¨€ï¼Œ å¿…é¡»ä½¿ç”¨ setLocale()`)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    eventBus.emit(EVENT_LOCALE_CHANGE, loc)</span><br><span class="line">    bundleRegister.schedulerMerge()</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123; flush: &apos;sync&apos; &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>è¿”å›æ¥çœ‹æ³¨å†Œç»†èŠ‚ã€‚<code>registerBundles</code> å°±æ˜¯æ³¨å†Œè¯­è¨€åŒ…ï¼Œè¿‡ç¨‹å¾ˆç®€å•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">/**</span><br><span class="line"> * æ³¨å†Œè¯­è¨€åŒ…</span><br><span class="line"> */</span><br><span class="line">registerBundles = async (</span><br><span class="line">  bundles: &#123; [locale: string]: I18nBundle &#125;,</span><br><span class="line">  layer: number = 10</span><br><span class="line">): Promise&lt;void&gt; =&gt; &#123;</span><br><span class="line">  let dirty = false</span><br><span class="line">  Object.keys(bundles).forEach((k) =&gt; &#123;</span><br><span class="line">    const normalizedKey = k.toLowerCase()</span><br><span class="line">    // ç™»è®°åˆ°èµ„æºè¡¨</span><br><span class="line">    const list = (this.resources[normalizedKey] ??= new Set())</span><br><span class="line">    const bundle = bundles[k]</span><br><span class="line"></span><br><span class="line">    const add = (b: I18nBundle) =&gt; &#123;</span><br><span class="line">      if (!list.has(b)) &#123;</span><br><span class="line">        list.add(b)</span><br><span class="line">        this.resourceLayer.set(b, layer)</span><br><span class="line">        dirty = true</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (Array.isArray(bundle)) &#123;</span><br><span class="line">      for (const child of bundle) &#123;</span><br><span class="line">        add(child)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      add(bundle)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  if (dirty) &#123;</span><br><span class="line">    // ğŸ”´ ç«‹å³è°ƒåº¦åŠ è½½</span><br><span class="line">    return await this.schedulerMerge()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br><br><br></p>
<p>ç›¸å¯¹æ¯”è¾ƒå¤æ‚çš„æ˜¯ <code>scheduleMerge</code>ï¼Œä½†ä¹Ÿä¸éš¾ç†è§£ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">async schedulerMerge(): Promise&lt;void&gt; &#123;</span><br><span class="line">  // ğŸ”´ æ‰§è¡Œä¸­ï¼Œä¸éœ€è¦é‡æ–°å‘èµ·</span><br><span class="line">  if (this.executing) &#123;</span><br><span class="line">    return await this.pendingQueue.push();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  let queue = this.pendingQueue;</span><br><span class="line"></span><br><span class="line">  try &#123;</span><br><span class="line">    this.executing = true;</span><br><span class="line"></span><br><span class="line">    // ğŸ”´ ç­‰å¾…æ›´å¤š bundle æ’å…¥ï¼Œæ‰¹é‡æ‰§è¡Œ</span><br><span class="line">    await Promise.resolve();</span><br><span class="line"></span><br><span class="line">    // ğŸ”´ ä¸‹ä¸€æ‰¹æ‰§è¡Œ</span><br><span class="line">    this.pendingQueue = new PromiseQueue();</span><br><span class="line"></span><br><span class="line">    // ğŸ”´ åŠ è½½å½“å‰è¯­è¨€</span><br><span class="line">    const localeChain = this.getLocaleChain();</span><br><span class="line"></span><br><span class="line">    // ğŸ”´ å·²ç»åŠ è½½çš„è¯­è¨€</span><br><span class="line">    let messages: &#123; [locale: string]: Record&lt;string, any&gt;[] &#125; = &#123;&#125;;</span><br><span class="line">    let task: Promise&lt;void&gt;[] = [];</span><br><span class="line"></span><br><span class="line">    // ğŸ”´ éå† localeChain</span><br><span class="line">    for (const locale of localeChain) &#123;</span><br><span class="line">      const resource = this.resources[locale.toLowerCase()];</span><br><span class="line"></span><br><span class="line">      if (resource == null) &#123;</span><br><span class="line">        continue;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      for (const bundle of resource.values()) &#123;</span><br><span class="line">        // ğŸ”´ è·³è¿‡å·²ç»åŠ è½½</span><br><span class="line">        if (isLoaded(bundle)) &#123;</span><br><span class="line">          continue;</span><br><span class="line">        &#125;</span><br><span class="line">        // ğŸ”´ layer è¡¨ç¤ºè¯­è¨€åŒ…çš„åˆ†å±‚ï¼Œæˆ–è€…è¯´åˆå¹¶çš„ä¼˜å…ˆçº§ï¼Œ å±‚æ•°è¶Šä½ä¼˜å…ˆçº§è¶Šé«˜</span><br><span class="line">        const layer = this.resourceLayer.get(bundle) ?? DEFAULT_LAYER;</span><br><span class="line"></span><br><span class="line">        if (typeof bundle === &apos;function&apos;) &#123;</span><br><span class="line">          // ğŸ”´ å¼‚æ­¥åŠ è½½å‡½æ•°</span><br><span class="line">          task.push(</span><br><span class="line">            (async () =&gt; &#123;</span><br><span class="line">              const loadedBundle = await asyncModuleLoader(bundle as I18nAsyncBundle);</span><br><span class="line">              if (loadedBundle) &#123;</span><br><span class="line">                this.setLayer(loadedBundle, layer);</span><br><span class="line">                console.debug(`[i18n] bundle loaded: `, bundle);</span><br><span class="line">                (messages[locale] ??= []).push(loadedBundle);</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;)()</span><br><span class="line">          );</span><br><span class="line">        &#125; else if (typeof bundle === &apos;string&apos;) &#123;</span><br><span class="line">          // ğŸ”´ http é“¾æ¥</span><br><span class="line">          task.push(</span><br><span class="line">            (async () =&gt; &#123;</span><br><span class="line">              const loadedBundle = await httpLoader(bundle);</span><br><span class="line"></span><br><span class="line">              if (loadedBundle) &#123;</span><br><span class="line">                this.setLayer(loadedBundle, layer);</span><br><span class="line">                console.debug(`[i18n] bundle loaded: `, bundle);</span><br><span class="line">                (messages[locale] ??= []).push(loadedBundle);</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;)()</span><br><span class="line">          );</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          // ğŸ”´ ç›´æ¥å°±æ˜¯è¯­è¨€åŒ…å¯¹è±¡</span><br><span class="line">          this.setLayer(bundle, layer);</span><br><span class="line">          (messages[locale] ??= []).push(bundle);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        setLoaded(bundle);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // ğŸ”´ å¹¶å‘åŠ è½½</span><br><span class="line">    if (task.length) &#123;</span><br><span class="line">      try &#123;</span><br><span class="line">        await Promise.all(task);</span><br><span class="line">      &#125; catch (err) &#123;</span><br><span class="line">        console.warn(`[i18n] åŠ è½½è¯­è¨€åŒ…å¤±è´¥:`, err);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    const messageKeys = Object.keys(messages);</span><br><span class="line"></span><br><span class="line">    // ğŸ”´ æ¥ä¸‹æ¥å°±æ˜¯å°† messages åˆå¹¶æˆä¸€æ£µæ ‘</span><br><span class="line">    if (messageKeys.length) &#123;</span><br><span class="line">      const messageToUpdate: &#123; [locale: string]: LayerLink &#125; = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">      for (const locale of messageKeys) &#123;</span><br><span class="line">        // ğŸ”´ LayerLink å­˜å‚¨äº†æ‰€æœ‰å·²ç»åŠ è½½çš„è¯­è¨€åŒ…å’Œä»–çš„åˆ†å±‚ä¿¡æ¯</span><br><span class="line">        const layerLink = (this.layerLinks[locale] ??= new LayerLink());</span><br><span class="line"></span><br><span class="line">        for (const bundle of messages[locale]) &#123;</span><br><span class="line">          const layer = this.getLayer(bundle);</span><br><span class="line"></span><br><span class="line">          layerLink.assignLayer(layer, bundle);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        messageToUpdate[locale] = layerLink;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      // ğŸ”´ è§¦å‘æ›´æ–°</span><br><span class="line">      for (const locale in messageToUpdate) &#123;</span><br><span class="line">        this.registerBundle(locale, messageToUpdate[locale].flattenLayer());</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      this.onBundleChange();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; catch (err) &#123;</span><br><span class="line">    console.error(`[i18n] è¯­è¨€åŒ…åŠ è½½å¤±è´¥`, err);</span><br><span class="line">  &#125; finally &#123;</span><br><span class="line">    this.executing = false;</span><br><span class="line">    queue.flushResolve();</span><br><span class="line"></span><br><span class="line">    // ğŸ”´ åˆ¤æ–­æ˜¯å¦æœ‰æ–°çš„ bundle åŠ è¿›æ¥ï¼Œéœ€è¦ç»§ç»­è°ƒåº¦åŠ è½½</span><br><span class="line">    if (this.hasUnloadedBundle()) &#123;</span><br><span class="line">      // ç»§ç»­è°ƒåº¦</span><br><span class="line">      this.schedulerMerge();</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      // æ²¡æœ‰äº†ï¼Œæ¸…ç©ºé˜Ÿåˆ—ä¸éœ€è¦ç»§ç»­ç­‰å¾…äº†</span><br><span class="line">      this.pendingQueue.flushResolve();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>è¿™å°±æ˜¯ä¸€ä¸ªå…¸å‹çš„å¼‚æ­¥ä»»åŠ¡æ‰§è¡Œçš„è°ƒåº¦è¿‡ç¨‹ã€‚ç›¸å…³çš„<a href="https://github.com/wakeadmin/tools/tree/main/packages/i18n-shared" target="_blank" rel="noopener">æºç å¯ä»¥çœ‹è¿™é‡Œ</a></p>
<p><br><br><br><br><br></p>
<h1 id="3-è¯­è¨€åŒ…ç®¡ç†"><a href="#3-è¯­è¨€åŒ…ç®¡ç†" class="headerlink" title="3. è¯­è¨€åŒ…ç®¡ç†"></a>3. è¯­è¨€åŒ…ç®¡ç†</h1><h2 id="3-1-å¦‚ä½•ç®¡ç†å’Œåˆ†æè¯­è¨€åŒ…çš„ä½¿ç”¨ï¼Ÿ"><a href="#3-1-å¦‚ä½•ç®¡ç†å’Œåˆ†æè¯­è¨€åŒ…çš„ä½¿ç”¨ï¼Ÿ" class="headerlink" title="3.1 å¦‚ä½•ç®¡ç†å’Œåˆ†æè¯­è¨€åŒ…çš„ä½¿ç”¨ï¼Ÿ"></a>3.1 å¦‚ä½•ç®¡ç†å’Œåˆ†æè¯­è¨€åŒ…çš„ä½¿ç”¨ï¼Ÿ</h2><p>é‚£ä¹ˆå¦‚ä½•æé«˜å‰ç«¯å›½é™…åŒ–çš„å¼€å‘ä½“éªŒå‘¢ï¼Ÿæ¯”å¦‚ï¼š</p>
<ul>
<li>èƒ½å¤Ÿåœ¨ç¼–è¾‘å™¨å›æ˜¾ key å¯¹åº”çš„ä¸­æ–‡</li>
<li>èƒ½å¤Ÿç‚¹å‡»è·³è½¬åˆ° key å®šä¹‰çš„è¯­è¨€åŒ…</li>
<li>èƒ½å¤Ÿåˆ†æè¯­è¨€åŒ…æ˜¯å¦è¢«å¼•ç”¨ã€æœ‰æ²¡æœ‰é‡å¤ã€ç¼ºè¯‘çš„æƒ…å†µ</li>
<li>æ”¯æŒ key é‡å‘½å(é‡æ„)</li>
<li>èƒ½è‡ªåŠ¨å‘ç°æ–‡æœ¬ç¡¬ç¼–ç ï¼Œå¹¶æ”¯æŒæå–</li>
<li>æ”¯æŒæœºå™¨ç¿»è¯‘</li>
<li>æä¾›ååŒç¿»è¯‘â€¦.</li>
</ul>
<p><img src="/images/i18n-locale/Untitled%205.png" alt="i18n-ally"></p>
<p>ğŸ‰ è¿˜çœŸæœ‰è¿™ä¹ˆä¸€ä¸ªç¥å™¨å¯ä»¥æ»¡è¶³ä¸Šé¢æ‰€æœ‰éœ€æ±‚ï¼Œé‚£å°±æ˜¯ VSCode çš„ <a href="https://marketplace.visualstudio.com/items?itemName=lokalise.i18n-ally" target="_blank" rel="noopener">i18n Ally</a> æ’ä»¶(è¿˜æ˜¯ <a href="http://antfu.me" target="_blank" rel="noopener">antfu</a> å¤§ç¥å¼€å‘çš„, é¡¶ç¤¼è†œæ‹œ)ï¼</p>
<p><img src="/images/i18n-locale/Untitled%206.png" alt="i18n-ally"></p>
<p><br></p>
<p>å®‰è£…äº† <a href="https://marketplace.visualstudio.com/items?itemName=lokalise.i18n-ally" target="_blank" rel="noopener">i18n Ally</a> åï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹æ˜¯èƒ½å¼€ç®±å³ç”¨ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›ä½ å¯èƒ½éœ€è¦è°ƒæ•´çš„å¸¸è§é…ç½®é¡¹ï¼š</p>
<p><br></p>
<ol>
<li><p>ä½¿ç”¨çš„æ¡†æ¶ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œi18n ally ä¼šåˆ†æé¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ package.json, ç¡®å®šä½ ä½¿ç”¨çš„ i18n æ¡†æ¶ï¼Œå®ƒæ”¯æŒäº†å¾ˆå¤šå¸¸è§çš„ i18n åº“ï¼Œæ¯”å¦‚ <code>vue-i18n</code>, <code>react-i18next</code>ã€‚</p>
<p><em>ğŸ’¡  å¦‚æœæ— æ³•ä½ å‘ç° i18n ally æ’ä»¶æ²¡æœ‰å¯ç”¨ï¼Œé‚£å¤§æ¦‚ç‡å°±æ˜¯å®ƒæ£€æµ‹å¤±è´¥äº†, å¯ä»¥åœ¨ <code>OUTPUT</code> Panel ä¸‹çœ‹çš„æ—¥å¿—ï¼š</em></p>
<p><img src="/images/i18n-locale/Untitled%207.png" alt="OUTPUT"></p>
<p>è§£å†³åŠæ³•å°±æ˜¯æ˜¾å¼å‘Šè¯‰å®ƒï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">// .vscode/setting.json</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"i18n-ally.enabledFrameworks"</span>: [<span class="string">"react-i18next"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è‡ªå®šä¹‰è¯­è¨€åŒ…æ£€æŸ¥ç›®å½•ã€‚</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">// .vscode/setting.json</span><br><span class="line">&#123;</span><br><span class="line">  // æ”¯æŒåœ¨æ‰€æœ‰åµŒå¥—çš„ localesã€i18n ç›®å½•ä¸‹å‘ç°è¯­è¨€åŒ…</span><br><span class="line">  "i18n-ally.localesPaths": ["**/locales", "**/i18n"]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¯­è¨€åŒ…é…ç½®</p>
<p>æˆ‘ä»¬ä¸Šæ–‡ä½¿ç”¨çš„æ˜¯ <code>.tr</code> æ‰©å±•åï¼Œ i18n ally å¹¶ä¸èƒ½è¯†åˆ«å®ƒï¼Œæˆ‘ä»¬é€šè¿‡ä¸‹é¢çš„é…ç½®æ¥å‘Šè¯‰å®ƒå¦‚ä½•å¤„ç† tr æ–‡ä»¶ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">// .vscode/setting.json</span><br><span class="line">&#123;</span><br><span class="line">  // è¯­è¨€åŒ…çš„å‘½åè§„åˆ™</span><br><span class="line">  "i18n-ally.pathMatcher": "&#123;locale&#125;.tr",</span><br><span class="line">  // è¯­è¨€åŒ…çš„ parser</span><br><span class="line">  "i18n-ally.parsers.extendFileExtensions": &#123;</span><br><span class="line">    "tr": "json"</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å…¶ä»–å¸¸è§é…ç½®</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  // æºè¯­è¨€ã€‚ä¸»è¦ä¼šå½±å“ç¿»è¯‘ï¼Œå³ä»¥å“ªä¸ªè¯­è¨€ä¸ºæºè¯­è¨€ç¿»è¯‘åˆ°å…¶ä»–è¯­ç§ã€‚ä¸­æ–‡å¼€å‘è€…é€šå¸¸è®¾ç½®ä¸ºä¸­æ–‡</span><br><span class="line">  "i18n-ally.sourceLanguage": "zh",</span><br><span class="line">  // åœ¨ç¼–è¾‘å™¨å†…è”æç¤ºçš„è¯­ç§</span><br><span class="line">  "i18n-ally.displayLanguage": "zh",</span><br><span class="line">  // è¯­è¨€åŒ…çš„ç»„ç»‡å½¢å¼ï¼Œnested è¡¨ç¤ºåµŒå¥—å¯¹è±¡æ¨¡å¼</span><br><span class="line">  "i18n-ally.keystyle": "nested"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>æ›´å¤šçš„é…ç½®å¯ä»¥çœ‹å®ƒçš„<a href="https://github.com/lokalise/i18n-ally/wiki" target="_blank" rel="noopener">æ–‡æ¡£</a>ã€‚</p>
<p><br><br><br><br><br></p>
<h2 id="3-2-è¿˜æœ‰å“ªäº›å»ºè®®ï¼Ÿ"><a href="#3-2-è¿˜æœ‰å“ªäº›å»ºè®®ï¼Ÿ" class="headerlink" title="3.2 è¿˜æœ‰å“ªäº›å»ºè®®ï¼Ÿ"></a>3.2 è¿˜æœ‰å“ªäº›å»ºè®®ï¼Ÿ</h2><p><br></p>
<h3 id="3-2-1-ç»Ÿä¸€è¯­è¨€æ ‡ç­¾"><a href="#3-2-1-ç»Ÿä¸€è¯­è¨€æ ‡ç­¾" class="headerlink" title="3.2.1 ç»Ÿä¸€è¯­è¨€æ ‡ç­¾"></a>3.2.1 ç»Ÿä¸€è¯­è¨€æ ‡ç­¾</h3><p>å¤šè¯­è¨€çš„è¯­è¨€æ ‡ç­¾é€šå¸¸éµå¾ª <a href="https://en.wikipedia.org/wiki/IETF_language_tag" target="_blank" rel="noopener">BCP 47</a>ï¼Œ è¿™æ˜¯ç”±äº’è”ç½‘å·¥ç¨‹ä»»åŠ¡ç»„ï¼ˆIETFï¼‰å‘å¸ƒçš„ä¸€ç§è¯­è¨€æ ‡ç­¾è§„èŒƒï¼Œç”¨äºå”¯ä¸€æ ‡è¯†å„ç§è¯­è¨€ã€‚æ ¼å¼ä¸º <code>lng-(script)-(Region åŒºåŸŸ)-(Variant å˜ä½“)</code>ï¼Œä¾‹å¦‚ zh-Hans-CNã€en-USã€zh-Hant ç­‰ç­‰ã€‚</p>
<p>å› ä¸ºè¯­è¨€æ ‡ç­¾å½¢å¼å¤šç§å¤šæ ·ï¼Œè€Œä¸”ä¸åŒçš„ç¯å¢ƒç»™å‡ºçš„ç»“æœå¯èƒ½éƒ½ä¸å¤ªä¸€æ ·ï¼Œæ‰€ä»¥å»ºè®®å¼€å‘è€…åœ¨ç»´æŠ¤è¯­è¨€åŒ…æ—¶ç»Ÿä¸€ä½¿ç”¨è¯­è¨€æ ‡ç­¾ï¼Œå¹¶ä¸”å‰åç«¯ä¿æŒç»Ÿä¸€ã€‚</p>
<p>ä»¥æˆ‘ä»¬å›¢é˜Ÿä¸ºä¾‹ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">en é»˜è®¤è‹±æ–‡</span><br><span class="line">zh é»˜è®¤ç®€ä½“ä¸­æ–‡</span><br><span class="line">zh-Hant é»˜è®¤ç¹ä½“</span><br><span class="line">th é»˜è®¤æ³°æ–‡</span><br></pre></td></tr></table></figure>
<p>åŒæ—¶ç»´æŠ¤ä¸€äº›è¯­è¨€æ ‡ç­¾çš„æ˜ å°„è§„åˆ™ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"zh-TW"</span>: <span class="string">"zh-Hant-TW"</span>,</span><br><span class="line">  <span class="attr">"zh-HK"</span>: <span class="string">"zh-Hant-HK"</span>,</span><br><span class="line">  <span class="attr">"zh-MO"</span>: <span class="string">"zh-Hant-MO"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>ä½ ä¼šå‘ç°æˆ‘ä»¬ä½¿ç”¨çš„ enã€zhã€zh-Hantã€th è¿™äº›è¯­è¨€æ ‡ç­¾éƒ½æ˜¯ <code>lng-(script)</code> å½¢å¼ï¼Œè¿™æ ·å…œåº•/å‘½ä¸­æ•ˆæœä¼šå¥½ç‚¹ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ <code>zh-Hant-TW</code> çš„ <code>Locale chain</code> æ˜¯ <code>[&#39;zh-Hant-TW&#39;, &#39;zh-Hant&#39;, &#39;zh&#39;]</code> , ä¼šå›é€€åŠ è½½ <code>zh-Hant</code> å’Œ <code>zh</code> è¯­è¨€åŒ…ã€‚ å¦‚æœæœ‰æœä¸€æ—¥ï¼Œéœ€è¦å¯¹ TW åœ°åŒºåšç‰¹æ®Šçš„é€‚é…ï¼Œæˆ‘ä»¬å†åˆ›å»ºä¸€ä¸ªæ›´å…·ä½“ <code>zh-Hant-TW</code> è¯­è¨€åŒ…å°±è¡Œäº†ã€‚</p>
<p><br><br><br></p>
<h3 id="3-2-2-ä½¿ç”¨åµŒå¥—å‘½åç©ºé—´æ¥ç»„ç»‡è¯­è¨€åŒ…"><a href="#3-2-2-ä½¿ç”¨åµŒå¥—å‘½åç©ºé—´æ¥ç»„ç»‡è¯­è¨€åŒ…" class="headerlink" title="3.2.2 ä½¿ç”¨åµŒå¥—å‘½åç©ºé—´æ¥ç»„ç»‡è¯­è¨€åŒ…"></a>3.2.2 ä½¿ç”¨åµŒå¥—å‘½åç©ºé—´æ¥ç»„ç»‡è¯­è¨€åŒ…</h3><p>å»ºè®®ä»¥<code>ä¸šåŠ¡æ¨¡å—</code>æˆ–è€…<code>å›¢é˜Ÿå</code>ç§°æ¥ä½œä¸º<code>å‘½åç©ºé—´</code>, é¿å…ç›´æ¥å°† key æš´éœ²åˆ°å…¨å±€ã€‚</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"rule"</span>: &#123;</span><br><span class="line">    <span class="attr">"deleteRuleTips"</span>: <span class="string">"åˆ é™¤è§„åˆ™åæ— æ³•æ¢å¤ï¼Œç¡®å®šåˆ é™¤ï¼Ÿ"</span>,</span><br><span class="line">    <span class="attr">"newRule"</span>: <span class="string">"æ–°å»ºè§„åˆ™"</span>,</span><br><span class="line">    <span class="attr">"pointRule"</span>: <span class="string">"ç§¯åˆ†è§„åˆ™"</span>,</span><br><span class="line">    <span class="attr">"tiedRule"</span>: <span class="string">"ç­‰çº§è§„åˆ™"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>ä¸‹ä¸€ç¯‡ï¼Œæˆ‘ä»¬ä»‹ç»å¤šè¯­è¨€çš„ç¿»è¯‘é—®é¢˜ï¼Œæ•¬è¯·æœŸå¾…ï¼ï¼</strong></p>
<p><br><br><br><br><br></p>
<h1 id="æ‰©å±•é˜…è¯»"><a href="#æ‰©å±•é˜…è¯»" class="headerlink" title="æ‰©å±•é˜…è¯»"></a>æ‰©å±•é˜…è¯»</h1><ul>
<li><a href="https://www.zhihu.com/question/51158638/answer/2378431663" target="_blank" rel="noopener">å¦‚ä½•è®ºè¿°è®¾è®¡çš„å…¨çƒåŒ–ä¸æœ¬åœŸåŒ–çš„å…³ç³»ï¼Ÿ</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/29759116" target="_blank" rel="noopener">ä¸ºå…¨çƒè®¾è®¡ï¼Œå›½é™…åŒ–ä¸æœ¬åœ°åŒ–æ¢ç´¢ï¼šå¿«é€Ÿå…¥é—¨</a></li>
</ul>

  </div>
</article>

    <div class="blog-post-comments">
        <div id="disqus_thread">
            <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        </div>
    </div>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Blogs</a></li>
         
          <li><a href="http://github.com/ivan-94">Projects</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-ç»„ç»‡è¯­è¨€åŒ…"><span class="toc-number">1.</span> <span class="toc-text">1. ç»„ç»‡è¯­è¨€åŒ…</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-æ”¾åœ¨å“ªä¸ªç›®å½•ä¸‹ï¼Ÿ"><span class="toc-number">1.1.</span> <span class="toc-text">1.1 æ”¾åœ¨å“ªä¸ªç›®å½•ä¸‹ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-å…¨å±€ä½¿ç”¨ä¸€ä¸ªè¯­è¨€åŒ…ï¼Œè¿˜æ˜¯åˆ†æ¨¡å—ï¼Ÿ"><span class="toc-number">1.2.</span> <span class="toc-text">1.2 å…¨å±€ä½¿ç”¨ä¸€ä¸ªè¯­è¨€åŒ…ï¼Œè¿˜æ˜¯åˆ†æ¨¡å—ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3-å¦‚æœæ˜¯åˆ†æ¨¡å—çš„è¯ï¼Ÿç²’åº¦æ€ä¹ˆæŠŠæ¡"><span class="toc-number">1.3.</span> <span class="toc-text">1.3 å¦‚æœæ˜¯åˆ†æ¨¡å—çš„è¯ï¼Ÿç²’åº¦æ€ä¹ˆæŠŠæ¡?</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-è¯­è¨€åŒ…åŠ è½½"><span class="toc-number">2.</span> <span class="toc-text">2. è¯­è¨€åŒ…åŠ è½½</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-æ€ä¹ˆå®ç°æŒ‰éœ€åŠ è½½ï¼Ÿweb-ç«¯ï¼Ÿå°ç¨‹åºç«¯ï¼Ÿ"><span class="toc-number">2.1.</span> <span class="toc-text">2.1 æ€ä¹ˆå®ç°æŒ‰éœ€åŠ è½½ï¼ŸWeb ç«¯ï¼Ÿå°ç¨‹åºç«¯ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-å¦‚æœåˆ†æ¨¡å—ç»„ç»‡ï¼Œç¢ç‰‡åŒ–çš„è¯­è¨€åŒ…ä¼šä¸ä¼šå¯¼è‡´å¤šä¸ªè¯·æ±‚ï¼Ÿ"><span class="toc-number">2.2.</span> <span class="toc-text">2.2 å¦‚æœåˆ†æ¨¡å—ç»„ç»‡ï¼Œç¢ç‰‡åŒ–çš„è¯­è¨€åŒ…ä¼šä¸ä¼šå¯¼è‡´å¤šä¸ªè¯·æ±‚ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-registerbundles-æ€ä¹ˆå®ç°ï¼Ÿ"><span class="toc-number">2.3.</span> <span class="toc-text">2.3 registerBundles æ€ä¹ˆå®ç°ï¼Ÿ</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-è¯­è¨€åŒ…ç®¡ç†"><span class="toc-number">3.</span> <span class="toc-text">3. è¯­è¨€åŒ…ç®¡ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-å¦‚ä½•ç®¡ç†å’Œåˆ†æè¯­è¨€åŒ…çš„ä½¿ç”¨ï¼Ÿ"><span class="toc-number">3.1.</span> <span class="toc-text">3.1 å¦‚ä½•ç®¡ç†å’Œåˆ†æè¯­è¨€åŒ…çš„ä½¿ç”¨ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-è¿˜æœ‰å“ªäº›å»ºè®®ï¼Ÿ"><span class="toc-number">3.2.</span> <span class="toc-text">3.2 è¿˜æœ‰å“ªäº›å»ºè®®ï¼Ÿ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-1-ç»Ÿä¸€è¯­è¨€æ ‡ç­¾"><span class="toc-number">3.2.1.</span> <span class="toc-text">3.2.1 ç»Ÿä¸€è¯­è¨€æ ‡ç­¾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-2-ä½¿ç”¨åµŒå¥—å‘½åç©ºé—´æ¥ç»„ç»‡è¯­è¨€åŒ…"><span class="toc-number">3.2.2.</span> <span class="toc-text">3.2.2 ä½¿ç”¨åµŒå¥—å‘½åç©ºé—´æ¥ç»„ç»‡è¯­è¨€åŒ…</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#æ‰©å±•é˜…è¯»"><span class="toc-number">4.</span> <span class="toc-text">æ‰©å±•é˜…è¯»</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://bobi.ink/2023/08/08/i18n-locale/"><i class="fa fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://bobi.ink/2023/08/08/i18n-locale/&text=å‰ç«¯å›½é™…åŒ–ï¼šè¯­è¨€åŒ…ç¯‡"><i class="fa fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://bobi.ink/2023/08/08/i18n-locale/&title=å‰ç«¯å›½é™…åŒ–ï¼šè¯­è¨€åŒ…ç¯‡"><i class="fa fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://bobi.ink/2023/08/08/i18n-locale/&is_video=false&description=å‰ç«¯å›½é™…åŒ–ï¼šè¯­è¨€åŒ…ç¯‡"><i class="fa fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=å‰ç«¯å›½é™…åŒ–ï¼šè¯­è¨€åŒ…ç¯‡&body=Check out this article: https://bobi.ink/2023/08/08/i18n-locale/"><i class="fa fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://bobi.ink/2023/08/08/i18n-locale/&title=å‰ç«¯å›½é™…åŒ–ï¼šè¯­è¨€åŒ…ç¯‡"><i class="fa fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://bobi.ink/2023/08/08/i18n-locale/&title=å‰ç«¯å›½é™…åŒ–ï¼šè¯­è¨€åŒ…ç¯‡"><i class="fa fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://bobi.ink/2023/08/08/i18n-locale/&title=å‰ç«¯å›½é™…åŒ–ï¼šè¯­è¨€åŒ…ç¯‡"><i class="fa fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://bobi.ink/2023/08/08/i18n-locale/&title=å‰ç«¯å›½é™…åŒ–ï¼šè¯­è¨€åŒ…ç¯‡"><i class="fa fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://bobi.ink/2023/08/08/i18n-locale/&name=å‰ç«¯å›½é™…åŒ–ï¼šè¯­è¨€åŒ…ç¯‡&description="><i class="fa fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
      <ul>
        <li id="toc"><a class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa fa-list fa-lg" aria-hidden="true"></i> TOC</a></li>
        <li id="share"><a class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa fa-share-alt fa-lg" aria-hidden="true"></i> Share</a></li>
        <li id="top" style="display:none"><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a></li>
        <li id="menu"><a class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa fa-bars fa-lg" aria-hidden="true"></i> Menu</a></li>
      </ul>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2023 Ivan
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Blogs</a></li>
         
          <li><a href="http://github.com/ivan-94">Projects</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>
<!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="/lib/meslo-LG/styles.css">
<link rel="stylesheet" href="/lib/justified-gallery/justifiedGallery.min.css">

<!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>


    <!-- Google Analytics -->
    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-44571525-2', 'auto');
        ga('send', 'pageview');
    </script>


    <!-- Disqus Comments -->
    <script type="text/javascript">
        var disqus_shortname = 'bobi-ink';

        (function(){
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        }());
    </script>


